function LL(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function XA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function DL(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var Mb={exports:{}},og={},Sb={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah=Symbol.for("react.element"),FL=Symbol.for("react.portal"),NL=Symbol.for("react.fragment"),kL=Symbol.for("react.strict_mode"),OL=Symbol.for("react.profiler"),UL=Symbol.for("react.provider"),zL=Symbol.for("react.context"),GL=Symbol.for("react.forward_ref"),HL=Symbol.for("react.suspense"),VL=Symbol.for("react.memo"),WL=Symbol.for("react.lazy"),$M=Symbol.iterator;function jL(n){return n===null||typeof n!="object"?null:(n=$M&&n[$M]||n["@@iterator"],typeof n=="function"?n:null)}var Cb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Eb=Object.assign,Tb={};function Jc(n,e,t){this.props=n,this.context=e,this.refs=Tb,this.updater=t||Cb}Jc.prototype.isReactComponent={};Jc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Jc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function bb(){}bb.prototype=Jc.prototype;function YA(n,e,t){this.props=n,this.context=e,this.refs=Tb,this.updater=t||Cb}var KA=YA.prototype=new bb;KA.constructor=YA;Eb(KA,Jc.prototype);KA.isPureReactComponent=!0;var eS=Array.isArray,Pb=Object.prototype.hasOwnProperty,QA={current:null},Bb={key:!0,ref:!0,__self:!0,__source:!0};function Rb(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Pb.call(e,i)&&!Bb.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ah,type:n,key:s,ref:o,props:r,_owner:QA.current}}function JL(n,e){return{$$typeof:ah,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function ZA(n){return typeof n=="object"&&n!==null&&n.$$typeof===ah}function XL(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var tS=/\/+/g;function ry(n,e){return typeof n=="object"&&n!==null&&n.key!=null?XL(""+n.key):e.toString(36)}function Yp(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case ah:case FL:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+ry(o,0):i,eS(r)?(t="",n!=null&&(t=n.replace(tS,"$&/")+"/"),Yp(r,e,t,"",function(u){return u})):r!=null&&(ZA(r)&&(r=JL(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(tS,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",eS(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+ry(s,a);o+=Yp(s,e,t,l,r)}else if(l=jL(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+ry(s,a++),o+=Yp(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nd(n,e,t){if(n==null)return n;var i=[],r=0;return Yp(n,i,"","",function(s){return e.call(t,s,r++)}),i}function YL(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var di={current:null},Kp={transition:null},KL={ReactCurrentDispatcher:di,ReactCurrentBatchConfig:Kp,ReactCurrentOwner:QA};function Ib(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Nd,forEach:function(n,e,t){Nd(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Nd(n,function(){e++}),e},toArray:function(n){return Nd(n,function(e){return e})||[]},only:function(n){if(!ZA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};_t.Component=Jc;_t.Fragment=NL;_t.Profiler=OL;_t.PureComponent=YA;_t.StrictMode=kL;_t.Suspense=HL;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KL;_t.act=Ib;_t.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=Eb({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=QA.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)Pb.call(e,l)&&!Bb.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:ah,type:n.type,key:r,ref:s,props:i,_owner:o}};_t.createContext=function(n){return n={$$typeof:zL,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:UL,_context:n},n.Consumer=n};_t.createElement=Rb;_t.createFactory=function(n){var e=Rb.bind(null,n);return e.type=n,e};_t.createRef=function(){return{current:null}};_t.forwardRef=function(n){return{$$typeof:GL,render:n}};_t.isValidElement=ZA;_t.lazy=function(n){return{$$typeof:WL,_payload:{_status:-1,_result:n},_init:YL}};_t.memo=function(n,e){return{$$typeof:VL,type:n,compare:e===void 0?null:e}};_t.startTransition=function(n){var e=Kp.transition;Kp.transition={};try{n()}finally{Kp.transition=e}};_t.unstable_act=Ib;_t.useCallback=function(n,e){return di.current.useCallback(n,e)};_t.useContext=function(n){return di.current.useContext(n)};_t.useDebugValue=function(){};_t.useDeferredValue=function(n){return di.current.useDeferredValue(n)};_t.useEffect=function(n,e){return di.current.useEffect(n,e)};_t.useId=function(){return di.current.useId()};_t.useImperativeHandle=function(n,e,t){return di.current.useImperativeHandle(n,e,t)};_t.useInsertionEffect=function(n,e){return di.current.useInsertionEffect(n,e)};_t.useLayoutEffect=function(n,e){return di.current.useLayoutEffect(n,e)};_t.useMemo=function(n,e){return di.current.useMemo(n,e)};_t.useReducer=function(n,e,t){return di.current.useReducer(n,e,t)};_t.useRef=function(n){return di.current.useRef(n)};_t.useState=function(n){return di.current.useState(n)};_t.useSyncExternalStore=function(n,e,t){return di.current.useSyncExternalStore(n,e,t)};_t.useTransition=function(){return di.current.useTransition()};_t.version="18.3.1";Sb.exports=_t;var z=Sb.exports;const lh=XA(z),QL=LL({__proto__:null,default:lh},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZL=z,qL=Symbol.for("react.element"),$L=Symbol.for("react.fragment"),eD=Object.prototype.hasOwnProperty,tD=ZL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nD={key:!0,ref:!0,__self:!0,__source:!0};function Lb(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)eD.call(e,i)&&!nD.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:qL,type:n,key:s,ref:o,props:r,_owner:tD.current}}og.Fragment=$L;og.jsx=Lb;og.jsxs=Lb;Mb.exports=og;var qA=Mb.exports;const $A=qA.Fragment,fe=qA.jsx,lt=qA.jsxs;var Uv={},Db={exports:{}},ji={},Fb={exports:{}},Nb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,X){var j=N.length;N.push(X);e:for(;0<j;){var re=j-1>>>1,J=N[re];if(0<r(J,X))N[re]=X,N[j]=J,j=re;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var X=N[0],j=N.pop();if(j!==X){N[0]=j;e:for(var re=0,J=N.length,ee=J>>>1;re<ee;){var ve=2*(re+1)-1,Ae=N[ve],$=ve+1,Ne=N[$];if(0>r(Ae,j))$<J&&0>r(Ne,Ae)?(N[re]=Ne,N[$]=j,re=$):(N[re]=Ae,N[ve]=j,re=ve);else if($<J&&0>r(Ne,j))N[re]=Ne,N[$]=j,re=$;else break e}}return X}function r(N,X){var j=N.sortIndex-X.sortIndex;return j!==0?j:N.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(N){for(var X=t(u);X!==null;){if(X.callback===null)i(u);else if(X.startTime<=N)i(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(u)}}function S(N){if(y=!1,M(N),!v)if(t(l)!==null)v=!0,ie(E);else{var X=t(u);X!==null&&ce(S,X.startTime-N)}}function E(N,X){v=!1,y&&(y=!1,A(T),T=-1),m=!0;var j=p;try{for(M(X),d=t(l);d!==null&&(!(d.expirationTime>X)||N&&!U());){var re=d.callback;if(typeof re=="function"){d.callback=null,p=d.priorityLevel;var J=re(d.expirationTime<=X);X=n.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&i(l),M(X)}else i(l);d=t(l)}if(d!==null)var ee=!0;else{var ve=t(u);ve!==null&&ce(S,ve.startTime-X),ee=!1}return ee}finally{d=null,p=j,m=!1}}var P=!1,R=null,T=-1,B=5,I=-1;function U(){return!(n.unstable_now()-I<B)}function Z(){if(R!==null){var N=n.unstable_now();I=N;var X=!0;try{X=R(!0,N)}finally{X?W():(P=!1,R=null)}}else P=!1}var W;if(typeof _=="function")W=function(){_(Z)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Q=H.port2;H.port1.onmessage=Z,W=function(){Q.postMessage(null)}}else W=function(){x(Z,0)};function ie(N){R=N,P||(P=!0,W())}function ce(N,X){T=x(function(){N(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ie(E))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var j=p;p=X;try{return N()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,X){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=p;p=N;try{return X()}finally{p=j}},n.unstable_scheduleCallback=function(N,X,j){var re=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?re+j:re):j=re,N){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=j+J,N={id:h++,callback:X,priorityLevel:N,startTime:j,expirationTime:J,sortIndex:-1},j>re?(N.sortIndex=j,e(u,N),t(l)===null&&N===t(u)&&(y?(A(T),T=-1):y=!0,ce(S,j-re))):(N.sortIndex=J,e(l,N),v||m||(v=!0,ie(E))),N},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(N){var X=p;return function(){var j=p;p=X;try{return N.apply(this,arguments)}finally{p=j}}}})(Nb);Fb.exports=Nb;var iD=Fb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rD=z,Hi=iD;function Me(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kb=new Set,Cf={};function ul(n,e){Bc(n,e),Bc(n+"Capture",e)}function Bc(n,e){for(Cf[n]=e,n=0;n<e.length;n++)kb.add(e[n])}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zv=Object.prototype.hasOwnProperty,sD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nS={},iS={};function oD(n){return zv.call(iS,n)?!0:zv.call(nS,n)?!1:sD.test(n)?iS[n]=!0:(nS[n]=!0,!1)}function aD(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function lD(n,e,t,i){if(e===null||typeof e>"u"||aD(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Wn[n]=new pi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Wn[e]=new pi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Wn[n]=new pi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Wn[n]=new pi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Wn[n]=new pi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Wn[n]=new pi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Wn[n]=new pi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Wn[n]=new pi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Wn[n]=new pi(n,5,!1,n.toLowerCase(),null,!1,!1)});var e1=/[\-:]([a-z])/g;function t1(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(e1,t1);Wn[e]=new pi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(e1,t1);Wn[e]=new pi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(e1,t1);Wn[e]=new pi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Wn[n]=new pi(n,1,!1,n.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Wn[n]=new pi(n,1,!1,n.toLowerCase(),null,!0,!0)});function n1(n,e,t,i){var r=Wn.hasOwnProperty(e)?Wn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lD(e,t,r,i)&&(t=null),i||r===null?oD(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Ks=rD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kd=Symbol.for("react.element"),ec=Symbol.for("react.portal"),tc=Symbol.for("react.fragment"),i1=Symbol.for("react.strict_mode"),Gv=Symbol.for("react.profiler"),Ob=Symbol.for("react.provider"),Ub=Symbol.for("react.context"),r1=Symbol.for("react.forward_ref"),Hv=Symbol.for("react.suspense"),Vv=Symbol.for("react.suspense_list"),s1=Symbol.for("react.memo"),go=Symbol.for("react.lazy"),zb=Symbol.for("react.offscreen"),rS=Symbol.iterator;function Eu(n){return n===null||typeof n!="object"?null:(n=rS&&n[rS]||n["@@iterator"],typeof n=="function"?n:null)}var an=Object.assign,sy;function $u(n){if(sy===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);sy=e&&e[1]||""}return`
`+sy+n}var oy=!1;function ay(n,e){if(!n||oy)return"";oy=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{oy=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?$u(n):""}function cD(n){switch(n.tag){case 5:return $u(n.type);case 16:return $u("Lazy");case 13:return $u("Suspense");case 19:return $u("SuspenseList");case 0:case 2:case 15:return n=ay(n.type,!1),n;case 11:return n=ay(n.type.render,!1),n;case 1:return n=ay(n.type,!0),n;default:return""}}function Wv(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case tc:return"Fragment";case ec:return"Portal";case Gv:return"Profiler";case i1:return"StrictMode";case Hv:return"Suspense";case Vv:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ub:return(n.displayName||"Context")+".Consumer";case Ob:return(n._context.displayName||"Context")+".Provider";case r1:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case s1:return e=n.displayName||null,e!==null?e:Wv(n.type)||"Memo";case go:e=n._payload,n=n._init;try{return Wv(n(e))}catch{}}return null}function uD(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wv(e);case 8:return e===i1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Gb(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fD(n){var e=Gb(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Od(n){n._valueTracker||(n._valueTracker=fD(n))}function Hb(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Gb(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function vm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function jv(n,e){var t=e.checked;return an({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function sS(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Fo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vb(n,e){e=e.checked,e!=null&&n1(n,"checked",e,!1)}function Jv(n,e){Vb(n,e);var t=Fo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Xv(n,e.type,t):e.hasOwnProperty("defaultValue")&&Xv(n,e.type,Fo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function oS(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Xv(n,e,t){(e!=="number"||vm(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var ef=Array.isArray;function Ac(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Fo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Yv(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return an({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function aS(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Me(92));if(ef(t)){if(1<t.length)throw Error(Me(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Fo(t)}}function Wb(n,e){var t=Fo(e.value),i=Fo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function lS(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function jb(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kv(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?jb(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ud,Jb=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ud=Ud||document.createElement("div"),Ud.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ud.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ef(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hD=["Webkit","ms","Moz","O"];Object.keys(of).forEach(function(n){hD.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),of[e]=of[n]})});function Xb(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||of.hasOwnProperty(n)&&of[n]?(""+e).trim():e+"px"}function Yb(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=Xb(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var dD=an({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qv(n,e){if(e){if(dD[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function Zv(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qv=null;function o1(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $v=null,_c=null,wc=null;function cS(n){if(n=fh(n)){if(typeof $v!="function")throw Error(Me(280));var e=n.stateNode;e&&(e=fg(e),$v(n.stateNode,n.type,e))}}function Kb(n){_c?wc?wc.push(n):wc=[n]:_c=n}function Qb(){if(_c){var n=_c,e=wc;if(wc=_c=null,cS(n),e)for(n=0;n<e.length;n++)cS(e[n])}}function Zb(n,e){return n(e)}function qb(){}var ly=!1;function $b(n,e,t){if(ly)return n(e,t);ly=!0;try{return Zb(n,e,t)}finally{ly=!1,(_c!==null||wc!==null)&&(qb(),Qb())}}function Tf(n,e){var t=n.stateNode;if(t===null)return null;var i=fg(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Me(231,e,typeof t));return t}var ex=!1;if(Vs)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){ex=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{ex=!1}function pD(n,e,t,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(h){this.onError(h)}}var af=!1,xm=null,Am=!1,tx=null,mD={onError:function(n){af=!0,xm=n}};function gD(n,e,t,i,r,s,o,a,l){af=!1,xm=null,pD.apply(mD,arguments)}function yD(n,e,t,i,r,s,o,a,l){if(gD.apply(this,arguments),af){if(af){var u=xm;af=!1,xm=null}else throw Error(Me(198));Am||(Am=!0,tx=u)}}function fl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function eP(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function uS(n){if(fl(n)!==n)throw Error(Me(188))}function vD(n){var e=n.alternate;if(!e){if(e=fl(n),e===null)throw Error(Me(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return uS(r),n;if(s===i)return uS(r),e;s=s.sibling}throw Error(Me(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Me(189))}}if(t.alternate!==i)throw Error(Me(190))}if(t.tag!==3)throw Error(Me(188));return t.stateNode.current===t?n:e}function tP(n){return n=vD(n),n!==null?nP(n):null}function nP(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=nP(n);if(e!==null)return e;n=n.sibling}return null}var iP=Hi.unstable_scheduleCallback,fS=Hi.unstable_cancelCallback,xD=Hi.unstable_shouldYield,AD=Hi.unstable_requestPaint,gn=Hi.unstable_now,_D=Hi.unstable_getCurrentPriorityLevel,a1=Hi.unstable_ImmediatePriority,rP=Hi.unstable_UserBlockingPriority,_m=Hi.unstable_NormalPriority,wD=Hi.unstable_LowPriority,sP=Hi.unstable_IdlePriority,ag=null,ts=null;function MD(n){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(ag,n,void 0,(n.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:ED,SD=Math.log,CD=Math.LN2;function ED(n){return n>>>=0,n===0?32:31-(SD(n)/CD|0)|0}var zd=64,Gd=4194304;function tf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function wm(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=tf(a):(s&=o,s!==0&&(i=tf(s)))}else o=t&~r,o!==0?i=tf(o):s!==0&&(i=tf(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Lr(e),r=1<<t,i|=n[t],e&=~r;return i}function TD(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bD(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Lr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=TD(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function nx(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function oP(){var n=zd;return zd<<=1,!(zd&4194240)&&(zd=64),n}function cy(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function ch(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Lr(e),n[e]=t}function PD(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Lr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function l1(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Lr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Ut=0;function aP(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var lP,c1,cP,uP,fP,ix=!1,Hd=[],So=null,Co=null,Eo=null,bf=new Map,Pf=new Map,xo=[],BD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hS(n,e){switch(n){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":Eo=null;break;case"pointerover":case"pointerout":bf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pf.delete(e.pointerId)}}function bu(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=fh(e),e!==null&&c1(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function RD(n,e,t,i,r){switch(e){case"focusin":return So=bu(So,n,e,t,i,r),!0;case"dragenter":return Co=bu(Co,n,e,t,i,r),!0;case"mouseover":return Eo=bu(Eo,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return bf.set(s,bu(bf.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Pf.set(s,bu(Pf.get(s)||null,n,e,t,i,r)),!0}return!1}function hP(n){var e=Ra(n.target);if(e!==null){var t=fl(e);if(t!==null){if(e=t.tag,e===13){if(e=eP(t),e!==null){n.blockedOn=e,fP(n.priority,function(){cP(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Qp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=rx(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);qv=i,t.target.dispatchEvent(i),qv=null}else return e=fh(t),e!==null&&c1(e),n.blockedOn=t,!1;e.shift()}return!0}function dS(n,e,t){Qp(n)&&t.delete(e)}function ID(){ix=!1,So!==null&&Qp(So)&&(So=null),Co!==null&&Qp(Co)&&(Co=null),Eo!==null&&Qp(Eo)&&(Eo=null),bf.forEach(dS),Pf.forEach(dS)}function Pu(n,e){n.blockedOn===e&&(n.blockedOn=null,ix||(ix=!0,Hi.unstable_scheduleCallback(Hi.unstable_NormalPriority,ID)))}function Bf(n){function e(r){return Pu(r,n)}if(0<Hd.length){Pu(Hd[0],n);for(var t=1;t<Hd.length;t++){var i=Hd[t];i.blockedOn===n&&(i.blockedOn=null)}}for(So!==null&&Pu(So,n),Co!==null&&Pu(Co,n),Eo!==null&&Pu(Eo,n),bf.forEach(e),Pf.forEach(e),t=0;t<xo.length;t++)i=xo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<xo.length&&(t=xo[0],t.blockedOn===null);)hP(t),t.blockedOn===null&&xo.shift()}var Mc=Ks.ReactCurrentBatchConfig,Mm=!0;function LD(n,e,t,i){var r=Ut,s=Mc.transition;Mc.transition=null;try{Ut=1,u1(n,e,t,i)}finally{Ut=r,Mc.transition=s}}function DD(n,e,t,i){var r=Ut,s=Mc.transition;Mc.transition=null;try{Ut=4,u1(n,e,t,i)}finally{Ut=r,Mc.transition=s}}function u1(n,e,t,i){if(Mm){var r=rx(n,e,t,i);if(r===null)xy(n,e,i,Sm,t),hS(n,i);else if(RD(r,n,e,t,i))i.stopPropagation();else if(hS(n,i),e&4&&-1<BD.indexOf(n)){for(;r!==null;){var s=fh(r);if(s!==null&&lP(s),s=rx(n,e,t,i),s===null&&xy(n,e,i,Sm,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else xy(n,e,i,null,t)}}var Sm=null;function rx(n,e,t,i){if(Sm=null,n=o1(i),n=Ra(n),n!==null)if(e=fl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=eP(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Sm=n,null}function dP(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_D()){case a1:return 1;case rP:return 4;case _m:case wD:return 16;case sP:return 536870912;default:return 16}default:return 16}}var _o=null,f1=null,Zp=null;function pP(){if(Zp)return Zp;var n,e=f1,t=e.length,i,r="value"in _o?_o.value:_o.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Zp=r.slice(n,1<i?1-i:void 0)}function qp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Vd(){return!0}function pS(){return!1}function Ji(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vd:pS,this.isPropagationStopped=pS,this}return an(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Vd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Vd)},persist:function(){},isPersistent:Vd}),e}var Xc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h1=Ji(Xc),uh=an({},Xc,{view:0,detail:0}),FD=Ji(uh),uy,fy,Bu,lg=an({},uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Bu&&(Bu&&n.type==="mousemove"?(uy=n.screenX-Bu.screenX,fy=n.screenY-Bu.screenY):fy=uy=0,Bu=n),uy)},movementY:function(n){return"movementY"in n?n.movementY:fy}}),mS=Ji(lg),ND=an({},lg,{dataTransfer:0}),kD=Ji(ND),OD=an({},uh,{relatedTarget:0}),hy=Ji(OD),UD=an({},Xc,{animationName:0,elapsedTime:0,pseudoElement:0}),zD=Ji(UD),GD=an({},Xc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),HD=Ji(GD),VD=an({},Xc,{data:0}),gS=Ji(VD),WD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XD(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=JD[n])?!!e[n]:!1}function d1(){return XD}var YD=an({},uh,{key:function(n){if(n.key){var e=WD[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=qp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?jD[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d1,charCode:function(n){return n.type==="keypress"?qp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),KD=Ji(YD),QD=an({},lg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yS=Ji(QD),ZD=an({},uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d1}),qD=Ji(ZD),$D=an({},Xc,{propertyName:0,elapsedTime:0,pseudoElement:0}),eF=Ji($D),tF=an({},lg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),nF=Ji(tF),iF=[9,13,27,32],p1=Vs&&"CompositionEvent"in window,lf=null;Vs&&"documentMode"in document&&(lf=document.documentMode);var rF=Vs&&"TextEvent"in window&&!lf,mP=Vs&&(!p1||lf&&8<lf&&11>=lf),vS=String.fromCharCode(32),xS=!1;function gP(n,e){switch(n){case"keyup":return iF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yP(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var nc=!1;function sF(n,e){switch(n){case"compositionend":return yP(e);case"keypress":return e.which!==32?null:(xS=!0,vS);case"textInput":return n=e.data,n===vS&&xS?null:n;default:return null}}function oF(n,e){if(nc)return n==="compositionend"||!p1&&gP(n,e)?(n=pP(),Zp=f1=_o=null,nc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mP&&e.locale!=="ko"?null:e.data;default:return null}}var aF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!aF[n.type]:e==="textarea"}function vP(n,e,t,i){Kb(i),e=Cm(e,"onChange"),0<e.length&&(t=new h1("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var cf=null,Rf=null;function lF(n){PP(n,0)}function cg(n){var e=sc(n);if(Hb(e))return n}function cF(n,e){if(n==="change")return e}var xP=!1;if(Vs){var dy;if(Vs){var py="oninput"in document;if(!py){var _S=document.createElement("div");_S.setAttribute("oninput","return;"),py=typeof _S.oninput=="function"}dy=py}else dy=!1;xP=dy&&(!document.documentMode||9<document.documentMode)}function wS(){cf&&(cf.detachEvent("onpropertychange",AP),Rf=cf=null)}function AP(n){if(n.propertyName==="value"&&cg(Rf)){var e=[];vP(e,Rf,n,o1(n)),$b(lF,e)}}function uF(n,e,t){n==="focusin"?(wS(),cf=e,Rf=t,cf.attachEvent("onpropertychange",AP)):n==="focusout"&&wS()}function fF(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cg(Rf)}function hF(n,e){if(n==="click")return cg(e)}function dF(n,e){if(n==="input"||n==="change")return cg(e)}function pF(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var kr=typeof Object.is=="function"?Object.is:pF;function If(n,e){if(kr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!zv.call(e,r)||!kr(n[r],e[r]))return!1}return!0}function MS(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function SS(n,e){var t=MS(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=MS(t)}}function _P(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?_P(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function wP(){for(var n=window,e=vm();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=vm(n.document)}return e}function m1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function mF(n){var e=wP(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&_P(t.ownerDocument.documentElement,t)){if(i!==null&&m1(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=SS(t,s);var o=SS(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var gF=Vs&&"documentMode"in document&&11>=document.documentMode,ic=null,sx=null,uf=null,ox=!1;function CS(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ox||ic==null||ic!==vm(i)||(i=ic,"selectionStart"in i&&m1(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),uf&&If(uf,i)||(uf=i,i=Cm(sx,"onSelect"),0<i.length&&(e=new h1("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=ic)))}function Wd(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var rc={animationend:Wd("Animation","AnimationEnd"),animationiteration:Wd("Animation","AnimationIteration"),animationstart:Wd("Animation","AnimationStart"),transitionend:Wd("Transition","TransitionEnd")},my={},MP={};Vs&&(MP=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function ug(n){if(my[n])return my[n];if(!rc[n])return n;var e=rc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in MP)return my[n]=e[t];return n}var SP=ug("animationend"),CP=ug("animationiteration"),EP=ug("animationstart"),TP=ug("transitionend"),bP=new Map,ES="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(n,e){bP.set(n,e),ul(e,[n])}for(var gy=0;gy<ES.length;gy++){var yy=ES[gy],yF=yy.toLowerCase(),vF=yy[0].toUpperCase()+yy.slice(1);jo(yF,"on"+vF)}jo(SP,"onAnimationEnd");jo(CP,"onAnimationIteration");jo(EP,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(TP,"onTransitionEnd");Bc("onMouseEnter",["mouseout","mouseover"]);Bc("onMouseLeave",["mouseout","mouseover"]);Bc("onPointerEnter",["pointerout","pointerover"]);Bc("onPointerLeave",["pointerout","pointerover"]);ul("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ul("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ul("onBeforeInput",["compositionend","keypress","textInput","paste"]);ul("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ul("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ul("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xF=new Set("cancel close invalid load scroll toggle".split(" ").concat(nf));function TS(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,yD(i,e,void 0,n),n.currentTarget=null}function PP(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;TS(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;TS(r,a,u),s=l}}}if(Am)throw n=tx,Am=!1,tx=null,n}function Jt(n,e){var t=e[fx];t===void 0&&(t=e[fx]=new Set);var i=n+"__bubble";t.has(i)||(BP(e,n,2,!1),t.add(i))}function vy(n,e,t){var i=0;e&&(i|=4),BP(t,n,i,e)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Lf(n){if(!n[jd]){n[jd]=!0,kb.forEach(function(t){t!=="selectionchange"&&(xF.has(t)||vy(t,!1,n),vy(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[jd]||(e[jd]=!0,vy("selectionchange",!1,e))}}function BP(n,e,t,i){switch(dP(e)){case 1:var r=LD;break;case 4:r=DD;break;default:r=u1}t=r.bind(null,e,t,n),r=void 0,!ex||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function xy(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ra(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}$b(function(){var u=s,h=o1(t),d=[];e:{var p=bP.get(n);if(p!==void 0){var m=h1,v=n;switch(n){case"keypress":if(qp(t)===0)break e;case"keydown":case"keyup":m=KD;break;case"focusin":v="focus",m=hy;break;case"focusout":v="blur",m=hy;break;case"beforeblur":case"afterblur":m=hy;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qD;break;case SP:case CP:case EP:m=zD;break;case TP:m=eF;break;case"scroll":m=FD;break;case"wheel":m=nF;break;case"copy":case"cut":case"paste":m=HD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yS}var y=(e&4)!==0,x=!y&&n==="scroll",A=y?p!==null?p+"Capture":null:p;y=[];for(var _=u,M;_!==null;){M=_;var S=M.stateNode;if(M.tag===5&&S!==null&&(M=S,A!==null&&(S=Tf(_,A),S!=null&&y.push(Df(_,S,M)))),x)break;_=_.return}0<y.length&&(p=new m(p,v,null,t,h),d.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==qv&&(v=t.relatedTarget||t.fromElement)&&(Ra(v)||v[Ws]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=u,v=v?Ra(v):null,v!==null&&(x=fl(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=mS,S="onMouseLeave",A="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(y=yS,S="onPointerLeave",A="onPointerEnter",_="pointer"),x=m==null?p:sc(m),M=v==null?p:sc(v),p=new y(S,_+"leave",m,t,h),p.target=x,p.relatedTarget=M,S=null,Ra(h)===u&&(y=new y(A,_+"enter",v,t,h),y.target=M,y.relatedTarget=x,S=y),x=S,m&&v)t:{for(y=m,A=v,_=0,M=y;M;M=Il(M))_++;for(M=0,S=A;S;S=Il(S))M++;for(;0<_-M;)y=Il(y),_--;for(;0<M-_;)A=Il(A),M--;for(;_--;){if(y===A||A!==null&&y===A.alternate)break t;y=Il(y),A=Il(A)}y=null}else y=null;m!==null&&bS(d,p,m,y,!1),v!==null&&x!==null&&bS(d,x,v,y,!0)}}e:{if(p=u?sc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var E=cF;else if(AS(p))if(xP)E=dF;else{E=fF;var P=uF}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=hF);if(E&&(E=E(n,u))){vP(d,E,t,h);break e}P&&P(n,p,u),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&Xv(p,"number",p.value)}switch(P=u?sc(u):window,n){case"focusin":(AS(P)||P.contentEditable==="true")&&(ic=P,sx=u,uf=null);break;case"focusout":uf=sx=ic=null;break;case"mousedown":ox=!0;break;case"contextmenu":case"mouseup":case"dragend":ox=!1,CS(d,t,h);break;case"selectionchange":if(gF)break;case"keydown":case"keyup":CS(d,t,h)}var R;if(p1)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else nc?gP(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(mP&&t.locale!=="ko"&&(nc||T!=="onCompositionStart"?T==="onCompositionEnd"&&nc&&(R=pP()):(_o=h,f1="value"in _o?_o.value:_o.textContent,nc=!0)),P=Cm(u,T),0<P.length&&(T=new gS(T,n,null,t,h),d.push({event:T,listeners:P}),R?T.data=R:(R=yP(t),R!==null&&(T.data=R)))),(R=rF?sF(n,t):oF(n,t))&&(u=Cm(u,"onBeforeInput"),0<u.length&&(h=new gS("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:u}),h.data=R))}PP(d,e)})}function Df(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Cm(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Tf(n,t),s!=null&&i.unshift(Df(n,s,r)),s=Tf(n,e),s!=null&&i.push(Df(n,s,r))),n=n.return}return i}function Il(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bS(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Tf(t,s),l!=null&&o.unshift(Df(t,l,a))):r||(l=Tf(t,s),l!=null&&o.push(Df(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var AF=/\r\n?/g,_F=/\u0000|\uFFFD/g;function PS(n){return(typeof n=="string"?n:""+n).replace(AF,`
`).replace(_F,"")}function Jd(n,e,t){if(e=PS(e),PS(n)!==e&&t)throw Error(Me(425))}function Em(){}var ax=null,lx=null;function cx(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ux=typeof setTimeout=="function"?setTimeout:void 0,wF=typeof clearTimeout=="function"?clearTimeout:void 0,BS=typeof Promise=="function"?Promise:void 0,MF=typeof queueMicrotask=="function"?queueMicrotask:typeof BS<"u"?function(n){return BS.resolve(null).then(n).catch(SF)}:ux;function SF(n){setTimeout(function(){throw n})}function Ay(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Bf(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Bf(e)}function To(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function RS(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Yc=Math.random().toString(36).slice(2),es="__reactFiber$"+Yc,Ff="__reactProps$"+Yc,Ws="__reactContainer$"+Yc,fx="__reactEvents$"+Yc,CF="__reactListeners$"+Yc,EF="__reactHandles$"+Yc;function Ra(n){var e=n[es];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ws]||t[es]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=RS(n);n!==null;){if(t=n[es])return t;n=RS(n)}return e}n=t,t=n.parentNode}return null}function fh(n){return n=n[es]||n[Ws],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function sc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Me(33))}function fg(n){return n[Ff]||null}var hx=[],oc=-1;function Jo(n){return{current:n}}function Yt(n){0>oc||(n.current=hx[oc],hx[oc]=null,oc--)}function Wt(n,e){oc++,hx[oc]=n.current,n.current=e}var No={},ti=Jo(No),Si=Jo(!1),qa=No;function Rc(n,e){var t=n.type.contextTypes;if(!t)return No;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Ci(n){return n=n.childContextTypes,n!=null}function Tm(){Yt(Si),Yt(ti)}function IS(n,e,t){if(ti.current!==No)throw Error(Me(168));Wt(ti,e),Wt(Si,t)}function RP(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Me(108,uD(n)||"Unknown",r));return an({},t,i)}function bm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||No,qa=ti.current,Wt(ti,n),Wt(Si,Si.current),!0}function LS(n,e,t){var i=n.stateNode;if(!i)throw Error(Me(169));t?(n=RP(n,e,qa),i.__reactInternalMemoizedMergedChildContext=n,Yt(Si),Yt(ti),Wt(ti,n)):Yt(Si),Wt(Si,t)}var bs=null,hg=!1,_y=!1;function IP(n){bs===null?bs=[n]:bs.push(n)}function TF(n){hg=!0,IP(n)}function Xo(){if(!_y&&bs!==null){_y=!0;var n=0,e=Ut;try{var t=bs;for(Ut=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}bs=null,hg=!1}catch(r){throw bs!==null&&(bs=bs.slice(n+1)),iP(a1,Xo),r}finally{Ut=e,_y=!1}}return null}var ac=[],lc=0,Pm=null,Bm=0,cr=[],ur=0,$a=null,Is=1,Ls="";function wa(n,e){ac[lc++]=Bm,ac[lc++]=Pm,Pm=n,Bm=e}function LP(n,e,t){cr[ur++]=Is,cr[ur++]=Ls,cr[ur++]=$a,$a=n;var i=Is;n=Ls;var r=32-Lr(i)-1;i&=~(1<<r),t+=1;var s=32-Lr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Is=1<<32-Lr(e)+r|t<<r|i,Ls=s+n}else Is=1<<s|t<<r|i,Ls=n}function g1(n){n.return!==null&&(wa(n,1),LP(n,1,0))}function y1(n){for(;n===Pm;)Pm=ac[--lc],ac[lc]=null,Bm=ac[--lc],ac[lc]=null;for(;n===$a;)$a=cr[--ur],cr[ur]=null,Ls=cr[--ur],cr[ur]=null,Is=cr[--ur],cr[ur]=null}var Ui=null,ki=null,$t=!1,Br=null;function DP(n,e){var t=hr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function DS(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ui=n,ki=To(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ui=n,ki=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=$a!==null?{id:Is,overflow:Ls}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=hr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ui=n,ki=null,!0):!1;default:return!1}}function dx(n){return(n.mode&1)!==0&&(n.flags&128)===0}function px(n){if($t){var e=ki;if(e){var t=e;if(!DS(n,e)){if(dx(n))throw Error(Me(418));e=To(t.nextSibling);var i=Ui;e&&DS(n,e)?DP(i,t):(n.flags=n.flags&-4097|2,$t=!1,Ui=n)}}else{if(dx(n))throw Error(Me(418));n.flags=n.flags&-4097|2,$t=!1,Ui=n}}}function FS(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ui=n}function Xd(n){if(n!==Ui)return!1;if(!$t)return FS(n),$t=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!cx(n.type,n.memoizedProps)),e&&(e=ki)){if(dx(n))throw FP(),Error(Me(418));for(;e;)DP(n,e),e=To(e.nextSibling)}if(FS(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Me(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ki=To(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ki=null}}else ki=Ui?To(n.stateNode.nextSibling):null;return!0}function FP(){for(var n=ki;n;)n=To(n.nextSibling)}function Ic(){ki=Ui=null,$t=!1}function v1(n){Br===null?Br=[n]:Br.push(n)}var bF=Ks.ReactCurrentBatchConfig;function Ru(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Me(309));var i=t.stateNode}if(!i)throw Error(Me(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Me(284));if(!t._owner)throw Error(Me(290,n))}return n}function Yd(n,e){throw n=Object.prototype.toString.call(e),Error(Me(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function NS(n){var e=n._init;return e(n._payload)}function NP(n){function e(A,_){if(n){var M=A.deletions;M===null?(A.deletions=[_],A.flags|=16):M.push(_)}}function t(A,_){if(!n)return null;for(;_!==null;)e(A,_),_=_.sibling;return null}function i(A,_){for(A=new Map;_!==null;)_.key!==null?A.set(_.key,_):A.set(_.index,_),_=_.sibling;return A}function r(A,_){return A=Ro(A,_),A.index=0,A.sibling=null,A}function s(A,_,M){return A.index=M,n?(M=A.alternate,M!==null?(M=M.index,M<_?(A.flags|=2,_):M):(A.flags|=2,_)):(A.flags|=1048576,_)}function o(A){return n&&A.alternate===null&&(A.flags|=2),A}function a(A,_,M,S){return _===null||_.tag!==6?(_=by(M,A.mode,S),_.return=A,_):(_=r(_,M),_.return=A,_)}function l(A,_,M,S){var E=M.type;return E===tc?h(A,_,M.props.children,S,M.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===go&&NS(E)===_.type)?(S=r(_,M.props),S.ref=Ru(A,_,M),S.return=A,S):(S=sm(M.type,M.key,M.props,null,A.mode,S),S.ref=Ru(A,_,M),S.return=A,S)}function u(A,_,M,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==M.containerInfo||_.stateNode.implementation!==M.implementation?(_=Py(M,A.mode,S),_.return=A,_):(_=r(_,M.children||[]),_.return=A,_)}function h(A,_,M,S,E){return _===null||_.tag!==7?(_=Wa(M,A.mode,S,E),_.return=A,_):(_=r(_,M),_.return=A,_)}function d(A,_,M){if(typeof _=="string"&&_!==""||typeof _=="number")return _=by(""+_,A.mode,M),_.return=A,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kd:return M=sm(_.type,_.key,_.props,null,A.mode,M),M.ref=Ru(A,null,_),M.return=A,M;case ec:return _=Py(_,A.mode,M),_.return=A,_;case go:var S=_._init;return d(A,S(_._payload),M)}if(ef(_)||Eu(_))return _=Wa(_,A.mode,M,null),_.return=A,_;Yd(A,_)}return null}function p(A,_,M,S){var E=_!==null?_.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return E!==null?null:a(A,_,""+M,S);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case kd:return M.key===E?l(A,_,M,S):null;case ec:return M.key===E?u(A,_,M,S):null;case go:return E=M._init,p(A,_,E(M._payload),S)}if(ef(M)||Eu(M))return E!==null?null:h(A,_,M,S,null);Yd(A,M)}return null}function m(A,_,M,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return A=A.get(M)||null,a(_,A,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case kd:return A=A.get(S.key===null?M:S.key)||null,l(_,A,S,E);case ec:return A=A.get(S.key===null?M:S.key)||null,u(_,A,S,E);case go:var P=S._init;return m(A,_,M,P(S._payload),E)}if(ef(S)||Eu(S))return A=A.get(M)||null,h(_,A,S,E,null);Yd(_,S)}return null}function v(A,_,M,S){for(var E=null,P=null,R=_,T=_=0,B=null;R!==null&&T<M.length;T++){R.index>T?(B=R,R=null):B=R.sibling;var I=p(A,R,M[T],S);if(I===null){R===null&&(R=B);break}n&&R&&I.alternate===null&&e(A,R),_=s(I,_,T),P===null?E=I:P.sibling=I,P=I,R=B}if(T===M.length)return t(A,R),$t&&wa(A,T),E;if(R===null){for(;T<M.length;T++)R=d(A,M[T],S),R!==null&&(_=s(R,_,T),P===null?E=R:P.sibling=R,P=R);return $t&&wa(A,T),E}for(R=i(A,R);T<M.length;T++)B=m(R,A,T,M[T],S),B!==null&&(n&&B.alternate!==null&&R.delete(B.key===null?T:B.key),_=s(B,_,T),P===null?E=B:P.sibling=B,P=B);return n&&R.forEach(function(U){return e(A,U)}),$t&&wa(A,T),E}function y(A,_,M,S){var E=Eu(M);if(typeof E!="function")throw Error(Me(150));if(M=E.call(M),M==null)throw Error(Me(151));for(var P=E=null,R=_,T=_=0,B=null,I=M.next();R!==null&&!I.done;T++,I=M.next()){R.index>T?(B=R,R=null):B=R.sibling;var U=p(A,R,I.value,S);if(U===null){R===null&&(R=B);break}n&&R&&U.alternate===null&&e(A,R),_=s(U,_,T),P===null?E=U:P.sibling=U,P=U,R=B}if(I.done)return t(A,R),$t&&wa(A,T),E;if(R===null){for(;!I.done;T++,I=M.next())I=d(A,I.value,S),I!==null&&(_=s(I,_,T),P===null?E=I:P.sibling=I,P=I);return $t&&wa(A,T),E}for(R=i(A,R);!I.done;T++,I=M.next())I=m(R,A,T,I.value,S),I!==null&&(n&&I.alternate!==null&&R.delete(I.key===null?T:I.key),_=s(I,_,T),P===null?E=I:P.sibling=I,P=I);return n&&R.forEach(function(Z){return e(A,Z)}),$t&&wa(A,T),E}function x(A,_,M,S){if(typeof M=="object"&&M!==null&&M.type===tc&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case kd:e:{for(var E=M.key,P=_;P!==null;){if(P.key===E){if(E=M.type,E===tc){if(P.tag===7){t(A,P.sibling),_=r(P,M.props.children),_.return=A,A=_;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===go&&NS(E)===P.type){t(A,P.sibling),_=r(P,M.props),_.ref=Ru(A,P,M),_.return=A,A=_;break e}t(A,P);break}else e(A,P);P=P.sibling}M.type===tc?(_=Wa(M.props.children,A.mode,S,M.key),_.return=A,A=_):(S=sm(M.type,M.key,M.props,null,A.mode,S),S.ref=Ru(A,_,M),S.return=A,A=S)}return o(A);case ec:e:{for(P=M.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===M.containerInfo&&_.stateNode.implementation===M.implementation){t(A,_.sibling),_=r(_,M.children||[]),_.return=A,A=_;break e}else{t(A,_);break}else e(A,_);_=_.sibling}_=Py(M,A.mode,S),_.return=A,A=_}return o(A);case go:return P=M._init,x(A,_,P(M._payload),S)}if(ef(M))return v(A,_,M,S);if(Eu(M))return y(A,_,M,S);Yd(A,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,_!==null&&_.tag===6?(t(A,_.sibling),_=r(_,M),_.return=A,A=_):(t(A,_),_=by(M,A.mode,S),_.return=A,A=_),o(A)):t(A,_)}return x}var Lc=NP(!0),kP=NP(!1),Rm=Jo(null),Im=null,cc=null,x1=null;function A1(){x1=cc=Im=null}function _1(n){var e=Rm.current;Yt(Rm),n._currentValue=e}function mx(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Sc(n,e){Im=n,x1=cc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Mi=!0),n.firstContext=null)}function gr(n){var e=n._currentValue;if(x1!==n)if(n={context:n,memoizedValue:e,next:null},cc===null){if(Im===null)throw Error(Me(308));cc=n,Im.dependencies={lanes:0,firstContext:n}}else cc=cc.next=n;return e}var Ia=null;function w1(n){Ia===null?Ia=[n]:Ia.push(n)}function OP(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,w1(e)):(t.next=r.next,r.next=t),e.interleaved=t,js(n,i)}function js(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var yo=!1;function M1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UP(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Os(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function bo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Rt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,js(n,t)}return r=i.interleaved,r===null?(e.next=e,w1(i)):(e.next=r.next,r.next=e),i.interleaved=e,js(n,t)}function $p(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,l1(n,t)}}function kS(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Lm(n,e,t,i){var r=n.updateQueue;yo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,y=a;switch(p=e,m=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(m,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,d,p):v,p==null)break e;d=an({},d,p);break e;case 2:yo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=d):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);tl|=o,n.lanes=o,n.memoizedState=d}}function OS(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Me(191,r));r.call(i)}}}var hh={},ns=Jo(hh),Nf=Jo(hh),kf=Jo(hh);function La(n){if(n===hh)throw Error(Me(174));return n}function S1(n,e){switch(Wt(kf,e),Wt(Nf,n),Wt(ns,hh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kv(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Kv(e,n)}Yt(ns),Wt(ns,e)}function Dc(){Yt(ns),Yt(Nf),Yt(kf)}function zP(n){La(kf.current);var e=La(ns.current),t=Kv(e,n.type);e!==t&&(Wt(Nf,n),Wt(ns,t))}function C1(n){Nf.current===n&&(Yt(ns),Yt(Nf))}var tn=Jo(0);function Dm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wy=[];function E1(){for(var n=0;n<wy.length;n++)wy[n]._workInProgressVersionPrimary=null;wy.length=0}var em=Ks.ReactCurrentDispatcher,My=Ks.ReactCurrentBatchConfig,el=0,on=null,En=null,Nn=null,Fm=!1,ff=!1,Of=0,PF=0;function Qn(){throw Error(Me(321))}function T1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!kr(n[t],e[t]))return!1;return!0}function b1(n,e,t,i,r,s){if(el=s,on=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,em.current=n===null||n.memoizedState===null?LF:DF,n=t(i,r),ff){s=0;do{if(ff=!1,Of=0,25<=s)throw Error(Me(301));s+=1,Nn=En=null,e.updateQueue=null,em.current=FF,n=t(i,r)}while(ff)}if(em.current=Nm,e=En!==null&&En.next!==null,el=0,Nn=En=on=null,Fm=!1,e)throw Error(Me(300));return n}function P1(){var n=Of!==0;return Of=0,n}function Zr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?on.memoizedState=Nn=n:Nn=Nn.next=n,Nn}function yr(){if(En===null){var n=on.alternate;n=n!==null?n.memoizedState:null}else n=En.next;var e=Nn===null?on.memoizedState:Nn.next;if(e!==null)Nn=e,En=n;else{if(n===null)throw Error(Me(310));En=n,n={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},Nn===null?on.memoizedState=Nn=n:Nn=Nn.next=n}return Nn}function Uf(n,e){return typeof e=="function"?e(n):e}function Sy(n){var e=yr(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var i=En,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((el&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,on.lanes|=h,tl|=h}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,kr(i,e.memoizedState)||(Mi=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,on.lanes|=s,tl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Cy(n){var e=yr(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);kr(s,e.memoizedState)||(Mi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function GP(){}function HP(n,e){var t=on,i=yr(),r=e(),s=!kr(i.memoizedState,r);if(s&&(i.memoizedState=r,Mi=!0),i=i.queue,B1(jP.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Nn!==null&&Nn.memoizedState.tag&1){if(t.flags|=2048,zf(9,WP.bind(null,t,i,r,e),void 0,null),kn===null)throw Error(Me(349));el&30||VP(t,e,r)}return r}function VP(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function WP(n,e,t,i){e.value=t,e.getSnapshot=i,JP(e)&&XP(n)}function jP(n,e,t){return t(function(){JP(e)&&XP(n)})}function JP(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!kr(n,t)}catch{return!0}}function XP(n){var e=js(n,1);e!==null&&Dr(e,n,1,-1)}function US(n){var e=Zr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:n},e.queue=n,n=n.dispatch=IF.bind(null,on,n),[e.memoizedState,n]}function zf(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function YP(){return yr().memoizedState}function tm(n,e,t,i){var r=Zr();on.flags|=n,r.memoizedState=zf(1|e,t,void 0,i===void 0?null:i)}function dg(n,e,t,i){var r=yr();i=i===void 0?null:i;var s=void 0;if(En!==null){var o=En.memoizedState;if(s=o.destroy,i!==null&&T1(i,o.deps)){r.memoizedState=zf(e,t,s,i);return}}on.flags|=n,r.memoizedState=zf(1|e,t,s,i)}function zS(n,e){return tm(8390656,8,n,e)}function B1(n,e){return dg(2048,8,n,e)}function KP(n,e){return dg(4,2,n,e)}function QP(n,e){return dg(4,4,n,e)}function ZP(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function qP(n,e,t){return t=t!=null?t.concat([n]):null,dg(4,4,ZP.bind(null,e,n),t)}function R1(){}function $P(n,e){var t=yr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&T1(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function e2(n,e){var t=yr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&T1(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function t2(n,e,t){return el&21?(kr(t,e)||(t=oP(),on.lanes|=t,tl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Mi=!0),n.memoizedState=t)}function BF(n,e){var t=Ut;Ut=t!==0&&4>t?t:4,n(!0);var i=My.transition;My.transition={};try{n(!1),e()}finally{Ut=t,My.transition=i}}function n2(){return yr().memoizedState}function RF(n,e,t){var i=Bo(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},i2(n))r2(e,t);else if(t=OP(n,e,t,i),t!==null){var r=fi();Dr(t,n,i,r),s2(t,e,i)}}function IF(n,e,t){var i=Bo(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(i2(n))r2(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,kr(a,o)){var l=e.interleaved;l===null?(r.next=r,w1(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=OP(n,e,r,i),t!==null&&(r=fi(),Dr(t,n,i,r),s2(t,e,i))}}function i2(n){var e=n.alternate;return n===on||e!==null&&e===on}function r2(n,e){ff=Fm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function s2(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,l1(n,t)}}var Nm={readContext:gr,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},LF={readContext:gr,useCallback:function(n,e){return Zr().memoizedState=[n,e===void 0?null:e],n},useContext:gr,useEffect:zS,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,tm(4194308,4,ZP.bind(null,e,n),t)},useLayoutEffect:function(n,e){return tm(4194308,4,n,e)},useInsertionEffect:function(n,e){return tm(4,2,n,e)},useMemo:function(n,e){var t=Zr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Zr();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=RF.bind(null,on,n),[i.memoizedState,n]},useRef:function(n){var e=Zr();return n={current:n},e.memoizedState=n},useState:US,useDebugValue:R1,useDeferredValue:function(n){return Zr().memoizedState=n},useTransition:function(){var n=US(!1),e=n[0];return n=BF.bind(null,n[1]),Zr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=on,r=Zr();if($t){if(t===void 0)throw Error(Me(407));t=t()}else{if(t=e(),kn===null)throw Error(Me(349));el&30||VP(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,zS(jP.bind(null,i,s,n),[n]),i.flags|=2048,zf(9,WP.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Zr(),e=kn.identifierPrefix;if($t){var t=Ls,i=Is;t=(i&~(1<<32-Lr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Of++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=PF++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},DF={readContext:gr,useCallback:$P,useContext:gr,useEffect:B1,useImperativeHandle:qP,useInsertionEffect:KP,useLayoutEffect:QP,useMemo:e2,useReducer:Sy,useRef:YP,useState:function(){return Sy(Uf)},useDebugValue:R1,useDeferredValue:function(n){var e=yr();return t2(e,En.memoizedState,n)},useTransition:function(){var n=Sy(Uf)[0],e=yr().memoizedState;return[n,e]},useMutableSource:GP,useSyncExternalStore:HP,useId:n2,unstable_isNewReconciler:!1},FF={readContext:gr,useCallback:$P,useContext:gr,useEffect:B1,useImperativeHandle:qP,useInsertionEffect:KP,useLayoutEffect:QP,useMemo:e2,useReducer:Cy,useRef:YP,useState:function(){return Cy(Uf)},useDebugValue:R1,useDeferredValue:function(n){var e=yr();return En===null?e.memoizedState=n:t2(e,En.memoizedState,n)},useTransition:function(){var n=Cy(Uf)[0],e=yr().memoizedState;return[n,e]},useMutableSource:GP,useSyncExternalStore:HP,useId:n2,unstable_isNewReconciler:!1};function Tr(n,e){if(n&&n.defaultProps){e=an({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function gx(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:an({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var pg={isMounted:function(n){return(n=n._reactInternals)?fl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=fi(),r=Bo(n),s=Os(i,r);s.payload=e,t!=null&&(s.callback=t),e=bo(n,s,r),e!==null&&(Dr(e,n,r,i),$p(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=fi(),r=Bo(n),s=Os(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=bo(n,s,r),e!==null&&(Dr(e,n,r,i),$p(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=fi(),i=Bo(n),r=Os(t,i);r.tag=2,e!=null&&(r.callback=e),e=bo(n,r,i),e!==null&&(Dr(e,n,i,t),$p(e,n,i))}};function GS(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!If(t,i)||!If(r,s):!0}function o2(n,e,t){var i=!1,r=No,s=e.contextType;return typeof s=="object"&&s!==null?s=gr(s):(r=Ci(e)?qa:ti.current,i=e.contextTypes,s=(i=i!=null)?Rc(n,r):No),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pg,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function HS(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&pg.enqueueReplaceState(e,e.state,null)}function yx(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},M1(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=gr(s):(s=Ci(e)?qa:ti.current,r.context=Rc(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(gx(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&pg.enqueueReplaceState(r,r.state,null),Lm(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Fc(n,e){try{var t="",i=e;do t+=cD(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Ey(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function vx(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var NF=typeof WeakMap=="function"?WeakMap:Map;function a2(n,e,t){t=Os(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Om||(Om=!0,bx=i),vx(n,e)},t}function l2(n,e,t){t=Os(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){vx(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){vx(n,e),typeof i!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function VS(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new NF;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=QF.bind(null,n,e,t),e.then(n,n))}function WS(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function jS(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Os(-1,1),e.tag=2,bo(t,e,1))),t.lanes|=1),n)}var kF=Ks.ReactCurrentOwner,Mi=!1;function ci(n,e,t,i){e.child=n===null?kP(e,null,t,i):Lc(e,n.child,t,i)}function JS(n,e,t,i,r){t=t.render;var s=e.ref;return Sc(e,r),i=b1(n,e,t,i,s,r),t=P1(),n!==null&&!Mi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Js(n,e,r)):($t&&t&&g1(e),e.flags|=1,ci(n,e,i,r),e.child)}function XS(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!U1(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,c2(n,e,s,i,r)):(n=sm(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:If,t(o,i)&&n.ref===e.ref)return Js(n,e,r)}return e.flags|=1,n=Ro(s,i),n.ref=e.ref,n.return=e,e.child=n}function c2(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(If(s,i)&&n.ref===e.ref)if(Mi=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Mi=!0);else return e.lanes=n.lanes,Js(n,e,r)}return xx(n,e,t,i,r)}function u2(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(fc,Fi),Fi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Wt(fc,Fi),Fi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Wt(fc,Fi),Fi|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Wt(fc,Fi),Fi|=i;return ci(n,e,r,t),e.child}function f2(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function xx(n,e,t,i,r){var s=Ci(t)?qa:ti.current;return s=Rc(e,s),Sc(e,r),t=b1(n,e,t,i,s,r),i=P1(),n!==null&&!Mi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Js(n,e,r)):($t&&i&&g1(e),e.flags|=1,ci(n,e,t,r),e.child)}function YS(n,e,t,i,r){if(Ci(t)){var s=!0;bm(e)}else s=!1;if(Sc(e,r),e.stateNode===null)nm(n,e),o2(e,t,i),yx(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=gr(u):(u=Ci(t)?qa:ti.current,u=Rc(e,u));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&HS(e,o,i,u),yo=!1;var p=e.memoizedState;o.state=p,Lm(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Si.current||yo?(typeof h=="function"&&(gx(e,t,h,i),l=e.memoizedState),(a=yo||GS(e,t,a,i,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,UP(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Tr(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=gr(l):(l=Ci(t)?qa:ti.current,l=Rc(e,l));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&HS(e,o,i,l),yo=!1,p=e.memoizedState,o.state=p,Lm(e,i,o,r);var v=e.memoizedState;a!==d||p!==v||Si.current||yo?(typeof m=="function"&&(gx(e,t,m,i),v=e.memoizedState),(u=yo||GS(e,t,u,i,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return Ax(n,e,t,i,s,r)}function Ax(n,e,t,i,r,s){f2(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&LS(e,t,!1),Js(n,e,s);i=e.stateNode,kF.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Lc(e,n.child,null,s),e.child=Lc(e,null,a,s)):ci(n,e,a,s),e.memoizedState=i.state,r&&LS(e,t,!0),e.child}function h2(n){var e=n.stateNode;e.pendingContext?IS(n,e.pendingContext,e.pendingContext!==e.context):e.context&&IS(n,e.context,!1),S1(n,e.containerInfo)}function KS(n,e,t,i,r){return Ic(),v1(r),e.flags|=256,ci(n,e,t,i),e.child}var _x={dehydrated:null,treeContext:null,retryLane:0};function wx(n){return{baseLanes:n,cachePool:null,transitions:null}}function d2(n,e,t){var i=e.pendingProps,r=tn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Wt(tn,r&1),n===null)return px(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=yg(o,i,0,null),n=Wa(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=wx(t),e.memoizedState=_x,n):I1(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return OF(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ro(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ro(a,s):(s=Wa(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?wx(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=_x,i}return s=n.child,n=s.sibling,i=Ro(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function I1(n,e){return e=yg({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Kd(n,e,t,i){return i!==null&&v1(i),Lc(e,n.child,null,t),n=I1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function OF(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Ey(Error(Me(422))),Kd(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=yg({mode:"visible",children:i.children},r,0,null),s=Wa(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Lc(e,n.child,null,o),e.child.memoizedState=wx(o),e.memoizedState=_x,s);if(!(e.mode&1))return Kd(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Me(419)),i=Ey(s,i,void 0),Kd(n,e,o,i)}if(a=(o&n.childLanes)!==0,Mi||a){if(i=kn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,js(n,r),Dr(i,n,r,-1))}return O1(),i=Ey(Error(Me(421))),Kd(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=ZF.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,ki=To(r.nextSibling),Ui=e,$t=!0,Br=null,n!==null&&(cr[ur++]=Is,cr[ur++]=Ls,cr[ur++]=$a,Is=n.id,Ls=n.overflow,$a=e),e=I1(e,i.children),e.flags|=4096,e)}function QS(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),mx(n.return,e,t)}function Ty(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function p2(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(ci(n,e,i.children,t),i=tn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&QS(n,t,e);else if(n.tag===19)QS(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Wt(tn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Dm(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Ty(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Dm(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Ty(e,!0,t,null,s);break;case"together":Ty(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Js(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),tl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Me(153));if(e.child!==null){for(n=e.child,t=Ro(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ro(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function UF(n,e,t){switch(e.tag){case 3:h2(e),Ic();break;case 5:zP(e);break;case 1:Ci(e.type)&&bm(e);break;case 4:S1(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Wt(Rm,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Wt(tn,tn.current&1),e.flags|=128,null):t&e.child.childLanes?d2(n,e,t):(Wt(tn,tn.current&1),n=Js(n,e,t),n!==null?n.sibling:null);Wt(tn,tn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return p2(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Wt(tn,tn.current),i)break;return null;case 22:case 23:return e.lanes=0,u2(n,e,t)}return Js(n,e,t)}var m2,Mx,g2,y2;m2=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Mx=function(){};g2=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,La(ns.current);var s=null;switch(t){case"input":r=jv(n,r),i=jv(n,i),s=[];break;case"select":r=an({},r,{value:void 0}),i=an({},i,{value:void 0}),s=[];break;case"textarea":r=Yv(n,r),i=Yv(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Em)}Qv(t,i);var o;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Jt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};y2=function(n,e,t,i){t!==i&&(e.flags|=4)};function Iu(n,e){if(!$t)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Zn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function zF(n,e,t){var i=e.pendingProps;switch(y1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(e),null;case 1:return Ci(e.type)&&Tm(),Zn(e),null;case 3:return i=e.stateNode,Dc(),Yt(Si),Yt(ti),E1(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Xd(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Br!==null&&(Rx(Br),Br=null))),Mx(n,e),Zn(e),null;case 5:C1(e);var r=La(kf.current);if(t=e.type,n!==null&&e.stateNode!=null)g2(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Me(166));return Zn(e),null}if(n=La(ns.current),Xd(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[es]=e,i[Ff]=s,n=(e.mode&1)!==0,t){case"dialog":Jt("cancel",i),Jt("close",i);break;case"iframe":case"object":case"embed":Jt("load",i);break;case"video":case"audio":for(r=0;r<nf.length;r++)Jt(nf[r],i);break;case"source":Jt("error",i);break;case"img":case"image":case"link":Jt("error",i),Jt("load",i);break;case"details":Jt("toggle",i);break;case"input":sS(i,s),Jt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Jt("invalid",i);break;case"textarea":aS(i,s),Jt("invalid",i)}Qv(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Jd(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Jd(i.textContent,a,n),r=["children",""+a]):Cf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Jt("scroll",i)}switch(t){case"input":Od(i),oS(i,s,!0);break;case"textarea":Od(i),lS(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Em)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=jb(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[es]=e,n[Ff]=i,m2(n,e,!1,!1),e.stateNode=n;e:{switch(o=Zv(t,i),t){case"dialog":Jt("cancel",n),Jt("close",n),r=i;break;case"iframe":case"object":case"embed":Jt("load",n),r=i;break;case"video":case"audio":for(r=0;r<nf.length;r++)Jt(nf[r],n);r=i;break;case"source":Jt("error",n),r=i;break;case"img":case"image":case"link":Jt("error",n),Jt("load",n),r=i;break;case"details":Jt("toggle",n),r=i;break;case"input":sS(n,i),r=jv(n,i),Jt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=an({},i,{value:void 0}),Jt("invalid",n);break;case"textarea":aS(n,i),r=Yv(n,i),Jt("invalid",n);break;default:r=i}Qv(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Yb(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jb(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Ef(n,l):typeof l=="number"&&Ef(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Jt("scroll",n):l!=null&&n1(n,s,l,o))}switch(t){case"input":Od(n),oS(n,i,!1);break;case"textarea":Od(n),lS(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Fo(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Ac(n,!!i.multiple,s,!1):i.defaultValue!=null&&Ac(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Em)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zn(e),null;case 6:if(n&&e.stateNode!=null)y2(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Me(166));if(t=La(kf.current),La(ns.current),Xd(e)){if(i=e.stateNode,t=e.memoizedProps,i[es]=e,(s=i.nodeValue!==t)&&(n=Ui,n!==null))switch(n.tag){case 3:Jd(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Jd(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[es]=e,e.stateNode=i}return Zn(e),null;case 13:if(Yt(tn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if($t&&ki!==null&&e.mode&1&&!(e.flags&128))FP(),Ic(),e.flags|=98560,s=!1;else if(s=Xd(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[es]=e}else Ic(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zn(e),s=!1}else Br!==null&&(Rx(Br),Br=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||tn.current&1?Tn===0&&(Tn=3):O1())),e.updateQueue!==null&&(e.flags|=4),Zn(e),null);case 4:return Dc(),Mx(n,e),n===null&&Lf(e.stateNode.containerInfo),Zn(e),null;case 10:return _1(e.type._context),Zn(e),null;case 17:return Ci(e.type)&&Tm(),Zn(e),null;case 19:if(Yt(tn),s=e.memoizedState,s===null)return Zn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Iu(s,!1);else{if(Tn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Dm(n),o!==null){for(e.flags|=128,Iu(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Wt(tn,tn.current&1|2),e.child}n=n.sibling}s.tail!==null&&gn()>Nc&&(e.flags|=128,i=!0,Iu(s,!1),e.lanes=4194304)}else{if(!i)if(n=Dm(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Iu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$t)return Zn(e),null}else 2*gn()-s.renderingStartTime>Nc&&t!==1073741824&&(e.flags|=128,i=!0,Iu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gn(),e.sibling=null,t=tn.current,Wt(tn,i?t&1|2:t&1),e):(Zn(e),null);case 22:case 23:return k1(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Fi&1073741824&&(Zn(e),e.subtreeFlags&6&&(e.flags|=8192)):Zn(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function GF(n,e){switch(y1(e),e.tag){case 1:return Ci(e.type)&&Tm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Dc(),Yt(Si),Yt(ti),E1(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return C1(e),null;case 13:if(Yt(tn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));Ic()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Yt(tn),null;case 4:return Dc(),null;case 10:return _1(e.type._context),null;case 22:case 23:return k1(),null;case 24:return null;default:return null}}var Qd=!1,ei=!1,HF=typeof WeakSet=="function"?WeakSet:Set,ze=null;function uc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){hn(n,e,i)}else t.current=null}function Sx(n,e,t){try{t()}catch(i){hn(n,e,i)}}var ZS=!1;function VF(n,e){if(ax=Mm,n=wP(),m1(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=n,p=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++u===r&&(a=o),p===s&&++h===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(lx={focusedElem:n,selectionRange:t},Mm=!1,ze=e;ze!==null;)if(e=ze,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ze=n;else for(;ze!==null;){e=ze;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,A=e.stateNode,_=A.getSnapshotBeforeUpdate(e.elementType===e.type?y:Tr(e.type,y),x);A.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(S){hn(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,ze=n;break}ze=e.return}return v=ZS,ZS=!1,v}function hf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Sx(e,t,s)}r=r.next}while(r!==i)}}function mg(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Cx(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function v2(n){var e=n.alternate;e!==null&&(n.alternate=null,v2(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[es],delete e[Ff],delete e[fx],delete e[CF],delete e[EF])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function x2(n){return n.tag===5||n.tag===3||n.tag===4}function qS(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||x2(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ex(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Em));else if(i!==4&&(n=n.child,n!==null))for(Ex(n,e,t),n=n.sibling;n!==null;)Ex(n,e,t),n=n.sibling}function Tx(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Tx(n,e,t),n=n.sibling;n!==null;)Tx(n,e,t),n=n.sibling}var Gn=null,br=!1;function so(n,e,t){for(t=t.child;t!==null;)A2(n,e,t),t=t.sibling}function A2(n,e,t){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(ag,t)}catch{}switch(t.tag){case 5:ei||uc(t,e);case 6:var i=Gn,r=br;Gn=null,so(n,e,t),Gn=i,br=r,Gn!==null&&(br?(n=Gn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Gn.removeChild(t.stateNode));break;case 18:Gn!==null&&(br?(n=Gn,t=t.stateNode,n.nodeType===8?Ay(n.parentNode,t):n.nodeType===1&&Ay(n,t),Bf(n)):Ay(Gn,t.stateNode));break;case 4:i=Gn,r=br,Gn=t.stateNode.containerInfo,br=!0,so(n,e,t),Gn=i,br=r;break;case 0:case 11:case 14:case 15:if(!ei&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Sx(t,e,o),r=r.next}while(r!==i)}so(n,e,t);break;case 1:if(!ei&&(uc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){hn(t,e,a)}so(n,e,t);break;case 21:so(n,e,t);break;case 22:t.mode&1?(ei=(i=ei)||t.memoizedState!==null,so(n,e,t),ei=i):so(n,e,t);break;default:so(n,e,t)}}function $S(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new HF),e.forEach(function(i){var r=qF.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Mr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Gn=a.stateNode,br=!1;break e;case 3:Gn=a.stateNode.containerInfo,br=!0;break e;case 4:Gn=a.stateNode.containerInfo,br=!0;break e}a=a.return}if(Gn===null)throw Error(Me(160));A2(s,o,r),Gn=null,br=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){hn(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_2(e,n),e=e.sibling}function _2(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Mr(e,n),Qr(n),i&4){try{hf(3,n,n.return),mg(3,n)}catch(y){hn(n,n.return,y)}try{hf(5,n,n.return)}catch(y){hn(n,n.return,y)}}break;case 1:Mr(e,n),Qr(n),i&512&&t!==null&&uc(t,t.return);break;case 5:if(Mr(e,n),Qr(n),i&512&&t!==null&&uc(t,t.return),n.flags&32){var r=n.stateNode;try{Ef(r,"")}catch(y){hn(n,n.return,y)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Vb(r,s),Zv(a,o);var u=Zv(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Yb(r,d):h==="dangerouslySetInnerHTML"?Jb(r,d):h==="children"?Ef(r,d):n1(r,h,d,u)}switch(a){case"input":Jv(r,s);break;case"textarea":Wb(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ac(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ac(r,!!s.multiple,s.defaultValue,!0):Ac(r,!!s.multiple,s.multiple?[]:"",!1))}r[Ff]=s}catch(y){hn(n,n.return,y)}}break;case 6:if(Mr(e,n),Qr(n),i&4){if(n.stateNode===null)throw Error(Me(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(y){hn(n,n.return,y)}}break;case 3:if(Mr(e,n),Qr(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Bf(e.containerInfo)}catch(y){hn(n,n.return,y)}break;case 4:Mr(e,n),Qr(n);break;case 13:Mr(e,n),Qr(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(F1=gn())),i&4&&$S(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(ei=(u=ei)||h,Mr(e,n),ei=u):Mr(e,n),Qr(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&n.mode&1)for(ze=n,h=n.child;h!==null;){for(d=ze=h;ze!==null;){switch(p=ze,m=p.child,p.tag){case 0:case 11:case 14:case 15:hf(4,p,p.return);break;case 1:uc(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){hn(i,t,y)}}break;case 5:uc(p,p.return);break;case 22:if(p.memoizedState!==null){tC(d);continue}}m!==null?(m.return=p,ze=m):tC(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Xb("display",o))}catch(y){hn(n,n.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){hn(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Mr(e,n),Qr(n),i&4&&$S(n);break;case 21:break;default:Mr(e,n),Qr(n)}}function Qr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(x2(t)){var i=t;break e}t=t.return}throw Error(Me(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ef(r,""),i.flags&=-33);var s=qS(n);Tx(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=qS(n);Ex(n,a,o);break;default:throw Error(Me(161))}}catch(l){hn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function WF(n,e,t){ze=n,w2(n)}function w2(n,e,t){for(var i=(n.mode&1)!==0;ze!==null;){var r=ze,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Qd;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ei;a=Qd;var u=ei;if(Qd=o,(ei=l)&&!u)for(ze=r;ze!==null;)o=ze,l=o.child,o.tag===22&&o.memoizedState!==null?nC(r):l!==null?(l.return=o,ze=l):nC(r);for(;s!==null;)ze=s,w2(s),s=s.sibling;ze=r,Qd=a,ei=u}eC(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,ze=s):eC(n)}}function eC(n){for(;ze!==null;){var e=ze;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ei||mg(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ei)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Tr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&OS(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}OS(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Bf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}ei||e.flags&512&&Cx(e)}catch(p){hn(e,e.return,p)}}if(e===n){ze=null;break}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}}function tC(n){for(;ze!==null;){var e=ze;if(e===n){ze=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ze=t;break}ze=e.return}}function nC(n){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{mg(4,e)}catch(l){hn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){hn(e,r,l)}}var s=e.return;try{Cx(e)}catch(l){hn(e,s,l)}break;case 5:var o=e.return;try{Cx(e)}catch(l){hn(e,o,l)}}}catch(l){hn(e,e.return,l)}if(e===n){ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ze=a;break}ze=e.return}}var jF=Math.ceil,km=Ks.ReactCurrentDispatcher,L1=Ks.ReactCurrentOwner,pr=Ks.ReactCurrentBatchConfig,Rt=0,kn=null,wn=null,Vn=0,Fi=0,fc=Jo(0),Tn=0,Gf=null,tl=0,gg=0,D1=0,df=null,_i=null,F1=0,Nc=1/0,Es=null,Om=!1,bx=null,Po=null,Zd=!1,wo=null,Um=0,pf=0,Px=null,im=-1,rm=0;function fi(){return Rt&6?gn():im!==-1?im:im=gn()}function Bo(n){return n.mode&1?Rt&2&&Vn!==0?Vn&-Vn:bF.transition!==null?(rm===0&&(rm=oP()),rm):(n=Ut,n!==0||(n=window.event,n=n===void 0?16:dP(n.type)),n):1}function Dr(n,e,t,i){if(50<pf)throw pf=0,Px=null,Error(Me(185));ch(n,t,i),(!(Rt&2)||n!==kn)&&(n===kn&&(!(Rt&2)&&(gg|=t),Tn===4&&Ao(n,Vn)),Ei(n,i),t===1&&Rt===0&&!(e.mode&1)&&(Nc=gn()+500,hg&&Xo()))}function Ei(n,e){var t=n.callbackNode;bD(n,e);var i=wm(n,n===kn?Vn:0);if(i===0)t!==null&&fS(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&fS(t),e===1)n.tag===0?TF(iC.bind(null,n)):IP(iC.bind(null,n)),MF(function(){!(Rt&6)&&Xo()}),t=null;else{switch(aP(i)){case 1:t=a1;break;case 4:t=rP;break;case 16:t=_m;break;case 536870912:t=sP;break;default:t=_m}t=B2(t,M2.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function M2(n,e){if(im=-1,rm=0,Rt&6)throw Error(Me(327));var t=n.callbackNode;if(Cc()&&n.callbackNode!==t)return null;var i=wm(n,n===kn?Vn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=zm(n,i);else{e=i;var r=Rt;Rt|=2;var s=C2();(kn!==n||Vn!==e)&&(Es=null,Nc=gn()+500,Va(n,e));do try{YF();break}catch(a){S2(n,a)}while(1);A1(),km.current=s,Rt=r,wn!==null?e=0:(kn=null,Vn=0,e=Tn)}if(e!==0){if(e===2&&(r=nx(n),r!==0&&(i=r,e=Bx(n,r))),e===1)throw t=Gf,Va(n,0),Ao(n,i),Ei(n,gn()),t;if(e===6)Ao(n,i);else{if(r=n.current.alternate,!(i&30)&&!JF(r)&&(e=zm(n,i),e===2&&(s=nx(n),s!==0&&(i=s,e=Bx(n,s))),e===1))throw t=Gf,Va(n,0),Ao(n,i),Ei(n,gn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Me(345));case 2:Ma(n,_i,Es);break;case 3:if(Ao(n,i),(i&130023424)===i&&(e=F1+500-gn(),10<e)){if(wm(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){fi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=ux(Ma.bind(null,n,_i,Es),e);break}Ma(n,_i,Es);break;case 4:if(Ao(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Lr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=gn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*jF(i/1960))-i,10<i){n.timeoutHandle=ux(Ma.bind(null,n,_i,Es),i);break}Ma(n,_i,Es);break;case 5:Ma(n,_i,Es);break;default:throw Error(Me(329))}}}return Ei(n,gn()),n.callbackNode===t?M2.bind(null,n):null}function Bx(n,e){var t=df;return n.current.memoizedState.isDehydrated&&(Va(n,e).flags|=256),n=zm(n,e),n!==2&&(e=_i,_i=t,e!==null&&Rx(e)),n}function Rx(n){_i===null?_i=n:_i.push.apply(_i,n)}function JF(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!kr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ao(n,e){for(e&=~D1,e&=~gg,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Lr(e),i=1<<t;n[t]=-1,e&=~i}}function iC(n){if(Rt&6)throw Error(Me(327));Cc();var e=wm(n,0);if(!(e&1))return Ei(n,gn()),null;var t=zm(n,e);if(n.tag!==0&&t===2){var i=nx(n);i!==0&&(e=i,t=Bx(n,i))}if(t===1)throw t=Gf,Va(n,0),Ao(n,e),Ei(n,gn()),t;if(t===6)throw Error(Me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ma(n,_i,Es),Ei(n,gn()),null}function N1(n,e){var t=Rt;Rt|=1;try{return n(e)}finally{Rt=t,Rt===0&&(Nc=gn()+500,hg&&Xo())}}function nl(n){wo!==null&&wo.tag===0&&!(Rt&6)&&Cc();var e=Rt;Rt|=1;var t=pr.transition,i=Ut;try{if(pr.transition=null,Ut=1,n)return n()}finally{Ut=i,pr.transition=t,Rt=e,!(Rt&6)&&Xo()}}function k1(){Fi=fc.current,Yt(fc)}function Va(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,wF(t)),wn!==null)for(t=wn.return;t!==null;){var i=t;switch(y1(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Tm();break;case 3:Dc(),Yt(Si),Yt(ti),E1();break;case 5:C1(i);break;case 4:Dc();break;case 13:Yt(tn);break;case 19:Yt(tn);break;case 10:_1(i.type._context);break;case 22:case 23:k1()}t=t.return}if(kn=n,wn=n=Ro(n.current,null),Vn=Fi=e,Tn=0,Gf=null,D1=gg=tl=0,_i=df=null,Ia!==null){for(e=0;e<Ia.length;e++)if(t=Ia[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Ia=null}return n}function S2(n,e){do{var t=wn;try{if(A1(),em.current=Nm,Fm){for(var i=on.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Fm=!1}if(el=0,Nn=En=on=null,ff=!1,Of=0,L1.current=null,t===null||t.return===null){Tn=1,Gf=e,wn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Vn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=WS(o);if(m!==null){m.flags&=-257,jS(m,o,a,s,e),m.mode&1&&VS(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){VS(s,u,e),O1();break e}l=Error(Me(426))}}else if($t&&a.mode&1){var x=WS(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),jS(x,o,a,s,e),v1(Fc(l,a));break e}}s=l=Fc(l,a),Tn!==4&&(Tn=2),df===null?df=[s]:df.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=a2(s,l,e);kS(s,A);break e;case 1:a=l;var _=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Po===null||!Po.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=l2(s,a,e);kS(s,S);break e}}s=s.return}while(s!==null)}T2(t)}catch(E){e=E,wn===t&&t!==null&&(wn=t=t.return);continue}break}while(1)}function C2(){var n=km.current;return km.current=Nm,n===null?Nm:n}function O1(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),kn===null||!(tl&268435455)&&!(gg&268435455)||Ao(kn,Vn)}function zm(n,e){var t=Rt;Rt|=2;var i=C2();(kn!==n||Vn!==e)&&(Es=null,Va(n,e));do try{XF();break}catch(r){S2(n,r)}while(1);if(A1(),Rt=t,km.current=i,wn!==null)throw Error(Me(261));return kn=null,Vn=0,Tn}function XF(){for(;wn!==null;)E2(wn)}function YF(){for(;wn!==null&&!xD();)E2(wn)}function E2(n){var e=P2(n.alternate,n,Fi);n.memoizedProps=n.pendingProps,e===null?T2(n):wn=e,L1.current=null}function T2(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=GF(t,e),t!==null){t.flags&=32767,wn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Tn=6,wn=null;return}}else if(t=zF(t,e,Fi),t!==null){wn=t;return}if(e=e.sibling,e!==null){wn=e;return}wn=e=n}while(e!==null);Tn===0&&(Tn=5)}function Ma(n,e,t){var i=Ut,r=pr.transition;try{pr.transition=null,Ut=1,KF(n,e,t,i)}finally{pr.transition=r,Ut=i}return null}function KF(n,e,t,i){do Cc();while(wo!==null);if(Rt&6)throw Error(Me(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Me(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(PD(n,s),n===kn&&(wn=kn=null,Vn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Zd||(Zd=!0,B2(_m,function(){return Cc(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=pr.transition,pr.transition=null;var o=Ut;Ut=1;var a=Rt;Rt|=4,L1.current=null,VF(n,t),_2(t,n),mF(lx),Mm=!!ax,lx=ax=null,n.current=t,WF(t),AD(),Rt=a,Ut=o,pr.transition=s}else n.current=t;if(Zd&&(Zd=!1,wo=n,Um=r),s=n.pendingLanes,s===0&&(Po=null),MD(t.stateNode),Ei(n,gn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Om)throw Om=!1,n=bx,bx=null,n;return Um&1&&n.tag!==0&&Cc(),s=n.pendingLanes,s&1?n===Px?pf++:(pf=0,Px=n):pf=0,Xo(),null}function Cc(){if(wo!==null){var n=aP(Um),e=pr.transition,t=Ut;try{if(pr.transition=null,Ut=16>n?16:n,wo===null)var i=!1;else{if(n=wo,wo=null,Um=0,Rt&6)throw Error(Me(331));var r=Rt;for(Rt|=4,ze=n.current;ze!==null;){var s=ze,o=s.child;if(ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ze=u;ze!==null;){var h=ze;switch(h.tag){case 0:case 11:case 15:hf(8,h,s)}var d=h.child;if(d!==null)d.return=h,ze=d;else for(;ze!==null;){h=ze;var p=h.sibling,m=h.return;if(v2(h),h===u){ze=null;break}if(p!==null){p.return=m,ze=p;break}ze=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ze=o;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hf(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,ze=A;break e}ze=s.return}}var _=n.current;for(ze=_;ze!==null;){o=ze;var M=o.child;if(o.subtreeFlags&2064&&M!==null)M.return=o,ze=M;else e:for(o=_;ze!==null;){if(a=ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mg(9,a)}}catch(E){hn(a,a.return,E)}if(a===o){ze=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ze=S;break e}ze=a.return}}if(Rt=r,Xo(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(ag,n)}catch{}i=!0}return i}finally{Ut=t,pr.transition=e}}return!1}function rC(n,e,t){e=Fc(t,e),e=a2(n,e,1),n=bo(n,e,1),e=fi(),n!==null&&(ch(n,1,e),Ei(n,e))}function hn(n,e,t){if(n.tag===3)rC(n,n,t);else for(;e!==null;){if(e.tag===3){rC(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Po===null||!Po.has(i))){n=Fc(t,n),n=l2(e,n,1),e=bo(e,n,1),n=fi(),e!==null&&(ch(e,1,n),Ei(e,n));break}}e=e.return}}function QF(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=fi(),n.pingedLanes|=n.suspendedLanes&t,kn===n&&(Vn&t)===t&&(Tn===4||Tn===3&&(Vn&130023424)===Vn&&500>gn()-F1?Va(n,0):D1|=t),Ei(n,e)}function b2(n,e){e===0&&(n.mode&1?(e=Gd,Gd<<=1,!(Gd&130023424)&&(Gd=4194304)):e=1);var t=fi();n=js(n,e),n!==null&&(ch(n,e,t),Ei(n,t))}function ZF(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),b2(n,t)}function qF(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Me(314))}i!==null&&i.delete(e),b2(n,t)}var P2;P2=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Si.current)Mi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Mi=!1,UF(n,e,t);Mi=!!(n.flags&131072)}else Mi=!1,$t&&e.flags&1048576&&LP(e,Bm,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;nm(n,e),n=e.pendingProps;var r=Rc(e,ti.current);Sc(e,t),r=b1(null,e,i,n,r,t);var s=P1();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ci(i)?(s=!0,bm(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,M1(e),r.updater=pg,e.stateNode=r,r._reactInternals=e,yx(e,i,n,t),e=Ax(null,e,i,!0,s,t)):(e.tag=0,$t&&s&&g1(e),ci(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(nm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=eN(i),n=Tr(i,n),r){case 0:e=xx(null,e,i,n,t);break e;case 1:e=YS(null,e,i,n,t);break e;case 11:e=JS(null,e,i,n,t);break e;case 14:e=XS(null,e,i,Tr(i.type,n),t);break e}throw Error(Me(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tr(i,r),xx(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tr(i,r),YS(n,e,i,r,t);case 3:e:{if(h2(e),n===null)throw Error(Me(387));i=e.pendingProps,s=e.memoizedState,r=s.element,UP(n,e),Lm(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Fc(Error(Me(423)),e),e=KS(n,e,i,t,r);break e}else if(i!==r){r=Fc(Error(Me(424)),e),e=KS(n,e,i,t,r);break e}else for(ki=To(e.stateNode.containerInfo.firstChild),Ui=e,$t=!0,Br=null,t=kP(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ic(),i===r){e=Js(n,e,t);break e}ci(n,e,i,t)}e=e.child}return e;case 5:return zP(e),n===null&&px(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,cx(i,r)?o=null:s!==null&&cx(i,s)&&(e.flags|=32),f2(n,e),ci(n,e,o,t),e.child;case 6:return n===null&&px(e),null;case 13:return d2(n,e,t);case 4:return S1(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Lc(e,null,i,t):ci(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tr(i,r),JS(n,e,i,r,t);case 7:return ci(n,e,e.pendingProps,t),e.child;case 8:return ci(n,e,e.pendingProps.children,t),e.child;case 12:return ci(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Wt(Rm,i._currentValue),i._currentValue=o,s!==null)if(kr(s.value,o)){if(s.children===r.children&&!Si.current){e=Js(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Os(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),mx(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Me(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),mx(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ci(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Sc(e,t),r=gr(r),i=i(r),e.flags|=1,ci(n,e,i,t),e.child;case 14:return i=e.type,r=Tr(i,e.pendingProps),r=Tr(i.type,r),XS(n,e,i,r,t);case 15:return c2(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tr(i,r),nm(n,e),e.tag=1,Ci(i)?(n=!0,bm(e)):n=!1,Sc(e,t),o2(e,i,r),yx(e,i,r,t),Ax(null,e,i,!0,n,t);case 19:return p2(n,e,t);case 22:return u2(n,e,t)}throw Error(Me(156,e.tag))};function B2(n,e){return iP(n,e)}function $F(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(n,e,t,i){return new $F(n,e,t,i)}function U1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function eN(n){if(typeof n=="function")return U1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===r1)return 11;if(n===s1)return 14}return 2}function Ro(n,e){var t=n.alternate;return t===null?(t=hr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function sm(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")U1(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case tc:return Wa(t.children,r,s,e);case i1:o=8,r|=8;break;case Gv:return n=hr(12,t,e,r|2),n.elementType=Gv,n.lanes=s,n;case Hv:return n=hr(13,t,e,r),n.elementType=Hv,n.lanes=s,n;case Vv:return n=hr(19,t,e,r),n.elementType=Vv,n.lanes=s,n;case zb:return yg(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Ob:o=10;break e;case Ub:o=9;break e;case r1:o=11;break e;case s1:o=14;break e;case go:o=16,i=null;break e}throw Error(Me(130,n==null?n:typeof n,""))}return e=hr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Wa(n,e,t,i){return n=hr(7,n,i,e),n.lanes=t,n}function yg(n,e,t,i){return n=hr(22,n,i,e),n.elementType=zb,n.lanes=t,n.stateNode={isHidden:!1},n}function by(n,e,t){return n=hr(6,n,null,e),n.lanes=t,n}function Py(n,e,t){return e=hr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function tN(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cy(0),this.expirationTimes=cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cy(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function z1(n,e,t,i,r,s,o,a,l){return n=new tN(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},M1(s),n}function nN(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ec,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function R2(n){if(!n)return No;n=n._reactInternals;e:{if(fl(n)!==n||n.tag!==1)throw Error(Me(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ci(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(n.tag===1){var t=n.type;if(Ci(t))return RP(n,t,e)}return e}function I2(n,e,t,i,r,s,o,a,l){return n=z1(t,i,!0,n,r,s,o,a,l),n.context=R2(null),t=n.current,i=fi(),r=Bo(t),s=Os(i,r),s.callback=e??null,bo(t,s,r),n.current.lanes=r,ch(n,r,i),Ei(n,i),n}function vg(n,e,t,i){var r=e.current,s=fi(),o=Bo(r);return t=R2(t),e.context===null?e.context=t:e.pendingContext=t,e=Os(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=bo(r,e,o),n!==null&&(Dr(n,r,o,s),$p(n,r,o)),o}function Gm(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function sC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function G1(n,e){sC(n,e),(n=n.alternate)&&sC(n,e)}function iN(){return null}var L2=typeof reportError=="function"?reportError:function(n){console.error(n)};function H1(n){this._internalRoot=n}xg.prototype.render=H1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Me(409));vg(n,e,null,null)};xg.prototype.unmount=H1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;nl(function(){vg(null,n,null,null)}),e[Ws]=null}};function xg(n){this._internalRoot=n}xg.prototype.unstable_scheduleHydration=function(n){if(n){var e=uP();n={blockedOn:null,target:n,priority:e};for(var t=0;t<xo.length&&e!==0&&e<xo[t].priority;t++);xo.splice(t,0,n),t===0&&hP(n)}};function V1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ag(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function oC(){}function rN(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=Gm(o);s.call(u)}}var o=I2(e,i,n,0,null,!1,!1,"",oC);return n._reactRootContainer=o,n[Ws]=o.current,Lf(n.nodeType===8?n.parentNode:n),nl(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=Gm(l);a.call(u)}}var l=z1(n,0,!1,null,null,!1,!1,"",oC);return n._reactRootContainer=l,n[Ws]=l.current,Lf(n.nodeType===8?n.parentNode:n),nl(function(){vg(e,l,t,i)}),l}function _g(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Gm(o);a.call(l)}}vg(e,o,n,r)}else o=rN(t,e,n,r,i);return Gm(o)}lP=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=tf(e.pendingLanes);t!==0&&(l1(e,t|1),Ei(e,gn()),!(Rt&6)&&(Nc=gn()+500,Xo()))}break;case 13:nl(function(){var i=js(n,1);if(i!==null){var r=fi();Dr(i,n,1,r)}}),G1(n,1)}};c1=function(n){if(n.tag===13){var e=js(n,134217728);if(e!==null){var t=fi();Dr(e,n,134217728,t)}G1(n,134217728)}};cP=function(n){if(n.tag===13){var e=Bo(n),t=js(n,e);if(t!==null){var i=fi();Dr(t,n,e,i)}G1(n,e)}};uP=function(){return Ut};fP=function(n,e){var t=Ut;try{return Ut=n,e()}finally{Ut=t}};$v=function(n,e,t){switch(e){case"input":if(Jv(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=fg(i);if(!r)throw Error(Me(90));Hb(i),Jv(i,r)}}}break;case"textarea":Wb(n,t);break;case"select":e=t.value,e!=null&&Ac(n,!!t.multiple,e,!1)}};Zb=N1;qb=nl;var sN={usingClientEntryPoint:!1,Events:[fh,sc,fg,Kb,Qb,N1]},Lu={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oN={bundleType:Lu.bundleType,version:Lu.version,rendererPackageName:Lu.rendererPackageName,rendererConfig:Lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=tP(n),n===null?null:n.stateNode},findFiberByHostInstance:Lu.findFiberByHostInstance||iN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{ag=qd.inject(oN),ts=qd}catch{}}ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sN;ji.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V1(e))throw Error(Me(200));return nN(n,e,null,t)};ji.createRoot=function(n,e){if(!V1(n))throw Error(Me(299));var t=!1,i="",r=L2;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=z1(n,1,!1,null,null,t,!1,i,r),n[Ws]=e.current,Lf(n.nodeType===8?n.parentNode:n),new H1(e)};ji.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Me(188)):(n=Object.keys(n).join(","),Error(Me(268,n)));return n=tP(e),n=n===null?null:n.stateNode,n};ji.flushSync=function(n){return nl(n)};ji.hydrate=function(n,e,t){if(!Ag(e))throw Error(Me(200));return _g(null,n,e,!0,t)};ji.hydrateRoot=function(n,e,t){if(!V1(n))throw Error(Me(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=L2;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=I2(e,null,n,1,t??null,r,!1,s,o),n[Ws]=e.current,Lf(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new xg(e)};ji.render=function(n,e,t){if(!Ag(e))throw Error(Me(200));return _g(null,n,e,!1,t)};ji.unmountComponentAtNode=function(n){if(!Ag(n))throw Error(Me(40));return n._reactRootContainer?(nl(function(){_g(null,null,n,!1,function(){n._reactRootContainer=null,n[Ws]=null})}),!0):!1};ji.unstable_batchedUpdates=N1;ji.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Ag(t))throw Error(Me(200));if(n==null||n._reactInternals===void 0)throw Error(Me(38));return _g(n,e,t,!1,i)};ji.version="18.3.1-next-f1338f8080-20240426";function D2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D2)}catch(n){console.error(n)}}D2(),Db.exports=ji;var aN=Db.exports,F2,aC=aN;F2=Uv.createRoot=aC.createRoot,Uv.hydrateRoot=aC.hydrateRoot;/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hf(){return Hf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hf.apply(this,arguments)}var Da;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Da||(Da={}));const lC="popstate";function lN(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Ix("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Hm(r)}return uN(e,t,null,n)}function Fr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cN(){return Math.random().toString(36).substr(2,8)}function cC(n,e){return{usr:n.state,key:n.key,idx:e}}function Ix(n,e,t,i){return t===void 0&&(t=null),Hf({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?wg(e):e,{state:t,key:e&&e.key||i||cN()})}function Hm(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function wg(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function uN(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Da.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Hf({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Da.Pop;let x=h(),A=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:A})}function p(x,A){a=Da.Push;let _=Ix(y.location,x,A);t&&t(_,x),u=h()+1;let M=cC(_,u),S=y.createHref(_);try{o.pushState(M,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(S)}s&&l&&l({action:a,location:y.location,delta:1})}function m(x,A){a=Da.Replace;let _=Ix(y.location,x,A);t&&t(_,x),u=h();let M=cC(_,u),S=y.createHref(_);o.replaceState(M,"",S),s&&l&&l({action:a,location:y.location,delta:0})}function v(x){let A=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof x=="string"?x:Hm(x);return _=_.replace(/ $/,"%20"),Fr(A,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,A)}let y={get action(){return a},get location(){return n(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(lC,d),l=x,()=>{r.removeEventListener(lC,d),l=null}},createHref(x){return e(r,x)},createURL:v,encodeLocation(x){let A=v(x);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:p,replace:m,go(x){return o.go(x)}};return y}var uC;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(uC||(uC={}));function N2(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function fN(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?wg(n):n;return{pathname:t?t.startsWith("/")?t:hN(t,e):e,search:pN(i),hash:mN(r)}}function hN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function By(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function k2(n,e){let t=dN(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function O2(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=wg(n):(r=Hf({},n),Fr(!r.pathname||!r.pathname.includes("?"),By("?","pathname","search",r)),Fr(!r.pathname||!r.pathname.includes("#"),By("#","pathname","hash",r)),Fr(!r.search||!r.search.includes("#"),By("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=fN(r,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const U2=n=>n.join("/").replace(/\/\/+/g,"/"),pN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,z2=["post","put","patch","delete"];new Set(z2);const gN=["get",...z2];new Set(gN);/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vm(){return Vm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Vm.apply(this,arguments)}const G2=z.createContext(null),Kc=z.createContext(null),W1=z.createContext(null),Mg=z.createContext({outlet:null,matches:[],isDataRoute:!1});function yN(n,e){let{relative:t}=e===void 0?{}:e;Sg()||Fr(!1);let{basename:i,navigator:r}=z.useContext(Kc),{hash:s,pathname:o,search:a}=V2(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:U2([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Sg(){return z.useContext(W1)!=null}function j1(){return Sg()||Fr(!1),z.useContext(W1).location}function H2(n){z.useContext(Kc).static||z.useLayoutEffect(n)}function vN(){let{isDataRoute:n}=z.useContext(Mg);return n?MN():xN()}function xN(){Sg()||Fr(!1);let n=z.useContext(G2),{basename:e,future:t,navigator:i}=z.useContext(Kc),{matches:r}=z.useContext(Mg),{pathname:s}=j1(),o=JSON.stringify(k2(r,t.v7_relativeSplatPath)),a=z.useRef(!1);return H2(()=>{a.current=!0}),z.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){i.go(u);return}let d=O2(u,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:U2([e,d.pathname])),(h.replace?i.replace:i.push)(d,h.state,h)},[e,i,o,s,n])}function V2(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=z.useContext(Kc),{matches:r}=z.useContext(Mg),{pathname:s}=j1(),o=JSON.stringify(k2(r,i.v7_relativeSplatPath));return z.useMemo(()=>O2(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}var W2=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(W2||{}),j2=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(j2||{});function AN(n){let e=z.useContext(G2);return e||Fr(!1),e}function _N(n){let e=z.useContext(Mg);return e||Fr(!1),e}function wN(n){let e=_N(),t=e.matches[e.matches.length-1];return t.route.id||Fr(!1),t.route.id}function MN(){let{router:n}=AN(W2.UseNavigateStable),e=wN(j2.UseNavigateStable),t=z.useRef(!1);return H2(()=>{t.current=!0}),z.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Vm({fromRouteId:e},s)))},[n,e])}function SN(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Da.Pop,navigator:s,static:o=!1,future:a}=n;Sg()&&Fr(!1);let l=e.replace(/^\/*/,"/"),u=z.useMemo(()=>({basename:l,navigator:s,static:o,future:Vm({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=wg(i));let{pathname:h="/",search:d="",hash:p="",state:m=null,key:v="default"}=i,y=z.useMemo(()=>{let x=N2(h,l);return x==null?null:{location:{pathname:x,search:d,hash:p,state:m,key:v},navigationType:r}},[l,h,d,p,m,v,r]);return y==null?null:z.createElement(Kc.Provider,{value:u},z.createElement(W1.Provider,{children:t,value:y}))}new Promise(()=>{});/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lx(){return Lx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Lx.apply(this,arguments)}function CN(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function EN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function TN(n,e){return n.button===0&&(!e||e==="_self")&&!EN(n)}const bN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],PN="6";try{window.__reactRouterVersion=PN}catch{}const BN="startTransition",fC=QL[BN];function RN(n){let{basename:e,children:t,future:i,window:r}=n,s=z.useRef();s.current==null&&(s.current=lN({window:r,v5Compat:!0}));let o=s.current,[a,l]=z.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},h=z.useCallback(d=>{u&&fC?fC(()=>l(d)):l(d)},[l,u]);return z.useLayoutEffect(()=>o.listen(h),[o,h]),z.createElement(SN,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const IN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DN=z.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,unstable_viewTransition:d}=e,p=CN(e,bN),{basename:m}=z.useContext(Kc),v,y=!1;if(typeof u=="string"&&LN.test(u)&&(v=u,IN))try{let M=new URL(window.location.href),S=u.startsWith("//")?new URL(M.protocol+u):new URL(u),E=N2(S.pathname,m);S.origin===M.origin&&E!=null?u=E+S.search+S.hash:y=!0}catch{}let x=yN(u,{relative:r}),A=FN(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,unstable_viewTransition:d});function _(M){i&&i(M),M.defaultPrevented||A(M)}return z.createElement("a",Lx({},p,{href:v||x,onClick:y||s?i:_,ref:t,target:l}))});var hC;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(hC||(hC={}));var dC;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(dC||(dC={}));function FN(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=vN(),u=j1(),h=V2(n,{relative:o});return z.useCallback(d=>{if(TN(d,t)){d.preventDefault();let p=i!==void 0?i:Hm(u)===Hm(h);l(n,{replace:p,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,h,i,r,t,n,s,o,a])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Qc="149",Sa={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ca={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},J2=0,Dx=1,X2=2,NN=3,Y2=0,Cg=1,mf=2,Fa=3,ss=0,Ti=1,Ir=2,kN=2,Us=0,ja=1,Fx=2,Nx=3,kx=4,K2=5,Pa=100,Q2=101,Z2=102,Ox=103,Ux=104,q2=200,$2=201,eB=202,tB=203,J1=204,X1=205,nB=206,iB=207,rB=208,sB=209,oB=210,aB=0,lB=1,cB=2,Wm=3,uB=4,fB=5,hB=6,dB=7,dh=0,pB=1,mB=2,Nr=0,gB=1,yB=2,vB=3,Y1=4,xB=5,Eg=300,ko=301,Oo=302,Vf=303,Wf=304,Zc=306,Uo=1e3,Hn=1001,kc=1002,dn=1003,jf=1004,ON=1004,Ec=1005,UN=1005,nn=1006,Tg=1007,zN=1007,os=1008,GN=1008,Xs=1009,AB=1010,_B=1011,K1=1012,wB=1013,Mo=1014,Ds=1015,Oc=1016,MB=1017,SB=1018,Ja=1020,CB=1021,wi=1023,EB=1024,TB=1025,Io=1026,il=1027,bB=1028,PB=1029,BB=1030,RB=1031,IB=1033,om=33776,am=33777,lm=33778,cm=33779,zx=35840,Gx=35841,Hx=35842,Vx=35843,LB=36196,Wx=37492,jx=37496,Jx=37808,Xx=37809,Yx=37810,Kx=37811,Qx=37812,Zx=37813,qx=37814,$x=37815,eA=37816,tA=37817,nA=37818,iA=37819,rA=37820,sA=37821,um=36492,DB=36283,oA=36284,aA=36285,lA=36286,FB=2200,NB=2201,kB=2202,Uc=2300,rl=2301,fm=2302,Na=2400,ka=2401,Jf=2402,bg=2500,Q1=2501,OB=0,Z1=1,jm=2,zo=3e3,Ht=3001,UB=3200,zB=3201,Yo=0,GB=1,HN="",Pr="srgb",zc="srgb-linear",VN=0,hm=7680,WN=7681,jN=7682,JN=7683,XN=34055,YN=34056,KN=5386,QN=512,ZN=513,qN=514,$N=515,ek=516,tk=517,nk=518,HB=519,Xf=35044,Xa=35048,ik=35040,rk=35045,sk=35049,ok=35041,ak=35046,lk=35050,ck=35042,uk="100",cA="300 es",Jm=1035;class cs{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const qn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let pC=1234567;const Ya=Math.PI/180,Yf=180/Math.PI;function zi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(qn[n&255]+qn[n>>8&255]+qn[n>>16&255]+qn[n>>24&255]+"-"+qn[e&255]+qn[e>>8&255]+"-"+qn[e>>16&15|64]+qn[e>>24&255]+"-"+qn[t&63|128]+qn[t>>8&255]+"-"+qn[t>>16&255]+qn[t>>24&255]+qn[i&255]+qn[i>>8&255]+qn[i>>16&255]+qn[i>>24&255]).toLowerCase()}function yn(n,e,t){return Math.max(e,Math.min(t,n))}function q1(n,e){return(n%e+e)%e}function fk(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function hk(n,e,t){return n!==e?(t-n)/(e-n):0}function gf(n,e,t){return(1-t)*n+t*e}function dk(n,e,t,i){return gf(n,e,1-Math.exp(-t*i))}function pk(n,e=1){return e-Math.abs(q1(n,e*2)-e)}function mk(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function gk(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function yk(n,e){return n+Math.floor(Math.random()*(e-n+1))}function vk(n,e){return n+Math.random()*(e-n)}function xk(n){return n*(.5-Math.random())}function Ak(n){n!==void 0&&(pC=n);let e=pC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function _k(n){return n*Ya}function wk(n){return n*Yf}function uA(n){return(n&n-1)===0&&n!==0}function VB(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Xm(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Mk(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+i)/2),h=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*h,l*d,l*p,a*u);break;case"YZY":n.set(l*p,a*h,l*d,a*u);break;case"ZXZ":n.set(l*d,l*p,a*h,a*u);break;case"XZX":n.set(a*h,l*v,l*m,a*u);break;case"YXY":n.set(l*m,a*h,l*v,a*u);break;case"ZYZ":n.set(l*v,l*m,a*h,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Fs(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Gt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var $1=Object.freeze({__proto__:null,DEG2RAD:Ya,RAD2DEG:Yf,ceilPowerOfTwo:VB,clamp:yn,damp:dk,degToRad:_k,denormalize:Fs,euclideanModulo:q1,floorPowerOfTwo:Xm,generateUUID:zi,inverseLerp:hk,isPowerOfTwo:uA,lerp:gf,mapLinear:fk,normalize:Gt,pingpong:pk,radToDeg:wk,randFloat:vk,randFloatSpread:xk,randInt:yk,seededRandom:Ak,setQuaternionFromProperEuler:Mk,smootherstep:gk,smoothstep:mk});class pe{constructor(e=0,t=0){pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ui{constructor(){ui.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,u){const h=this.elements;return h[0]=e,h[1]=r,h[2]=a,h[3]=t,h[4]=s,h[5]=l,h[6]=i,h[7]=o,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],u=i[1],h=i[4],d=i[7],p=i[2],m=i[5],v=i[8],y=r[0],x=r[3],A=r[6],_=r[1],M=r[4],S=r[7],E=r[2],P=r[5],R=r[8];return s[0]=o*y+a*_+l*E,s[3]=o*x+a*M+l*P,s[6]=o*A+a*S+l*R,s[1]=u*y+h*_+d*E,s[4]=u*x+h*M+d*P,s[7]=u*A+h*S+d*R,s[2]=p*y+m*_+v*E,s[5]=p*x+m*M+v*P,s[8]=p*A+m*S+v*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8];return t*o*h-t*a*u-i*s*h+i*a*l+r*s*u-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],d=h*o-a*u,p=a*l-h*s,m=u*s-o*l,v=t*d+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=d*y,e[1]=(r*u-h*i)*y,e[2]=(a*i-r*o)*y,e[3]=p*y,e[4]=(h*t-r*l)*y,e[5]=(r*s-a*t)*y,e[6]=m*y,e[7]=(i*l-u*t)*y,e[8]=(o*t-i*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*o+u*a)+o+e,-r*u,r*l,-r*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Ry.makeScale(e,t)),this}rotate(e){return this.premultiply(Ry.makeRotation(-e)),this}translate(e,t){return this.premultiply(Ry.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Ry=new ui;function WB(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const Sk={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function hc(n,e){return new Sk[n](e)}function Kf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Ka(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function dm(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Iy={[Pr]:{[zc]:Ka},[zc]:{[Pr]:dm}},$n={legacyMode:!0,get workingColorSpace(){return zc},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(Iy[e]&&Iy[e][t]!==void 0){const i=Iy[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},jB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Cn={r:0,g:0,b:0},Sr={h:0,s:0,l:0},$d={h:0,s:0,l:0};function Ly(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function ep(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Le{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Pr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,$n.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=$n.workingColorSpace){return this.r=e,this.g=t,this.b=i,$n.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=$n.workingColorSpace){if(e=q1(e,1),t=yn(t,0,1),i=yn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=Ly(o,s,e+1/3),this.g=Ly(o,s,e),this.b=Ly(o,s,e-1/3)}return $n.toWorkingColorSpace(this,r),this}setStyle(e,t=Pr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,$n.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,$n.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,h=parseFloat(s[3])/100;return i(s[4]),this.setHSL(l,u,h,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,$n.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,$n.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Pr){const i=jB[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ka(e.r),this.g=Ka(e.g),this.b=Ka(e.b),this}copyLinearToSRGB(e){return this.r=dm(e.r),this.g=dm(e.g),this.b=dm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Pr){return $n.fromWorkingColorSpace(ep(this,Cn),e),yn(Cn.r*255,0,255)<<16^yn(Cn.g*255,0,255)<<8^yn(Cn.b*255,0,255)<<0}getHexString(e=Pr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=$n.workingColorSpace){$n.fromWorkingColorSpace(ep(this,Cn),t);const i=Cn.r,r=Cn.g,s=Cn.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,u;const h=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=h<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=h,e}getRGB(e,t=$n.workingColorSpace){return $n.fromWorkingColorSpace(ep(this,Cn),t),e.r=Cn.r,e.g=Cn.g,e.b=Cn.b,e}getStyle(e=Pr){return $n.fromWorkingColorSpace(ep(this,Cn),e),e!==Pr?`color(${e} ${Cn.r} ${Cn.g} ${Cn.b})`:`rgb(${Cn.r*255|0},${Cn.g*255|0},${Cn.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Sr),Sr.h+=e,Sr.s+=t,Sr.l+=i,this.setHSL(Sr.h,Sr.s,Sr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Sr),e.getHSL($d);const i=gf(Sr.h,$d.h,t),r=gf(Sr.s,$d.s,t),s=gf(Sr.l,$d.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Le.NAMES=jB;let Ll;class e_{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Ll===void 0&&(Ll=Kf("canvas")),Ll.width=e.width,Ll.height=e.height;const i=Ll.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Ll}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Kf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Ka(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Ka(t[i]/255)*255):t[i]=Ka(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Oa{constructor(e=null){this.isSource=!0,this.uuid=zi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Dy(r[o].image)):s.push(Dy(r[o]))}else s=Dy(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Dy(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?e_.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Ck=0;class jt extends cs{constructor(e=jt.DEFAULT_IMAGE,t=jt.DEFAULT_MAPPING,i=Hn,r=Hn,s=nn,o=os,a=wi,l=Xs,u=jt.DEFAULT_ANISOTROPY,h=zo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Ck++}),this.uuid=zi(),this.name="",this.source=new Oa(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ui,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=h,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Eg)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Uo:e.x=e.x-Math.floor(e.x);break;case Hn:e.x=e.x<0?0:1;break;case kc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Uo:e.y=e.y-Math.floor(e.y);break;case Hn:e.y=e.y<0?0:1;break;case kc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}jt.DEFAULT_IMAGE=null;jt.DEFAULT_MAPPING=Eg;jt.DEFAULT_ANISOTROPY=1;class Ot{constructor(e=0,t=0,i=0,r=1){Ot.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,u=l[0],h=l[4],d=l[8],p=l[1],m=l[5],v=l[9],y=l[2],x=l[6],A=l[10];if(Math.abs(h-p)<.01&&Math.abs(d-y)<.01&&Math.abs(v-x)<.01){if(Math.abs(h+p)<.1&&Math.abs(d+y)<.1&&Math.abs(v+x)<.1&&Math.abs(u+m+A-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(u+1)/2,S=(m+1)/2,E=(A+1)/2,P=(h+p)/4,R=(d+y)/4,T=(v+x)/4;return M>S&&M>E?M<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(M),r=P/i,s=R/i):S>E?S<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(S),i=P/r,s=T/r):E<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(E),i=R/s,r=T/s),this.set(i,r,s,t),this}let _=Math.sqrt((x-v)*(x-v)+(d-y)*(d-y)+(p-h)*(p-h));return Math.abs(_)<.001&&(_=1),this.x=(x-v)/_,this.y=(d-y)/_,this.z=(p-h)/_,this.w=Math.acos((u+m+A-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Or extends cs{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ot(0,0,e,t),this.scissorTest=!1,this.viewport=new Ot(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new jt(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:nn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Oa(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Pg extends jt{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=dn,this.minFilter=dn,this.wrapR=Hn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ek extends Or{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Pg(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class t_ extends jt{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=dn,this.minFilter=dn,this.wrapR=Hn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Tk extends Or{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new t_(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class bk extends Or{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class On{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],u=i[r+1],h=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=h,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=y;return}if(d!==y||l!==p||u!==m||h!==v){let x=1-a;const A=l*p+u*m+h*v+d*y,_=A>=0?1:-1,M=1-A*A;if(M>Number.EPSILON){const E=Math.sqrt(M),P=Math.atan2(E,A*_);x=Math.sin(x*P)/E,a=Math.sin(a*P)/E}const S=a*_;if(l=l*x+p*S,u=u*x+m*S,h=h*x+v*S,d=d*x+y*S,x===1-a){const E=1/Math.sqrt(l*l+u*u+h*h+d*d);l*=E,u*=E,h*=E,d*=E}}e[t]=l,e[t+1]=u,e[t+2]=h,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],u=i[r+2],h=i[r+3],d=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+h*d+l*m-u*p,e[t+1]=l*v+h*p+u*d-a*m,e[t+2]=u*v+h*m+a*p-l*d,e[t+3]=h*v-a*d-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(i/2),h=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*h*d+u*m*v,this._y=u*m*d-p*h*v,this._z=u*h*v+p*m*d,this._w=u*h*d-p*m*v;break;case"YXZ":this._x=p*h*d+u*m*v,this._y=u*m*d-p*h*v,this._z=u*h*v-p*m*d,this._w=u*h*d+p*m*v;break;case"ZXY":this._x=p*h*d-u*m*v,this._y=u*m*d+p*h*v,this._z=u*h*v+p*m*d,this._w=u*h*d-p*m*v;break;case"ZYX":this._x=p*h*d-u*m*v,this._y=u*m*d+p*h*v,this._z=u*h*v-p*m*d,this._w=u*h*d+p*m*v;break;case"YZX":this._x=p*h*d+u*m*v,this._y=u*m*d+p*h*v,this._z=u*h*v-p*m*d,this._w=u*h*d-p*m*v;break;case"XZY":this._x=p*h*d-u*m*v,this._y=u*m*d-p*h*v,this._z=u*h*v+p*m*d,this._w=u*h*d+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],h=t[6],d=t[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-u)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(h-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+u)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-u)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+u)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(yn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,h=t._w;return this._x=i*h+o*a+r*u-s*l,this._y=r*h+o*l+s*a-i*u,this._z=s*h+o*u+i*l-r*a,this._w=o*h-i*a-r*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),h=Math.atan2(u,a),d=Math.sin((1-t)*h)/u,p=Math.sin(t*h)/u;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class D{constructor(e=0,t=0,i=0){D.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(mC.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(mC.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*r-a*i,h=l*i+a*t-s*r,d=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=u*l+p*-s+h*-a-d*-o,this.y=h*l+p*-o+d*-s-u*-a,this.z=d*l+p*-a+u*-o-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Fy.copy(this).projectOnVector(e),this.sub(Fy)}reflect(e){return this.sub(Fy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(yn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Fy=new D,mC=new On;class Ko{constructor(e=new D(1/0,1/0,1/0),t=new D(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const h=e[l],d=e[l+1],p=e[l+2];h<t&&(t=h),d<i&&(i=d),p<r&&(r=p),h>s&&(s=h),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const h=e.getX(l),d=e.getY(l),p=e.getZ(l);h<t&&(t=h),d<i&&(i=d),p<r&&(r=p),h>s&&(s=h),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=fa.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)fa.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(fa)}else i.boundingBox===null&&i.computeBoundingBox(),Ny.copy(i.boundingBox),Ny.applyMatrix4(e.matrixWorld),this.union(Ny);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,fa),fa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Du),tp.subVectors(this.max,Du),Dl.subVectors(e.a,Du),Fl.subVectors(e.b,Du),Nl.subVectors(e.c,Du),oo.subVectors(Fl,Dl),ao.subVectors(Nl,Fl),ha.subVectors(Dl,Nl);let t=[0,-oo.z,oo.y,0,-ao.z,ao.y,0,-ha.z,ha.y,oo.z,0,-oo.x,ao.z,0,-ao.x,ha.z,0,-ha.x,-oo.y,oo.x,0,-ao.y,ao.x,0,-ha.y,ha.x,0];return!ky(t,Dl,Fl,Nl,tp)||(t=[1,0,0,0,1,0,0,0,1],!ky(t,Dl,Fl,Nl,tp))?!1:(np.crossVectors(oo,ao),t=[np.x,np.y,np.z],ky(t,Dl,Fl,Nl,tp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return fa.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(fa).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(As[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),As[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),As[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),As[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),As[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),As[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),As[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),As[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(As),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const As=[new D,new D,new D,new D,new D,new D,new D,new D],fa=new D,Ny=new Ko,Dl=new D,Fl=new D,Nl=new D,oo=new D,ao=new D,ha=new D,Du=new D,tp=new D,np=new D,da=new D;function ky(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){da.fromArray(n,s);const a=r.x*Math.abs(da.x)+r.y*Math.abs(da.y)+r.z*Math.abs(da.z),l=e.dot(da),u=t.dot(da),h=i.dot(da);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>a)return!1}return!0}const Pk=new Ko,Fu=new D,Oy=new D;class Qo{constructor(e=new D,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):Pk.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Fu.subVectors(e,this.center);const t=Fu.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Fu,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Oy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Fu.copy(e.center).add(Oy)),this.expandByPoint(Fu.copy(e.center).sub(Oy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _s=new D,Uy=new D,ip=new D,lo=new D,zy=new D,rp=new D,Gy=new D;class qc{constructor(e=new D,t=new D(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_s)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=_s.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(_s.copy(this.direction).multiplyScalar(t).add(this.origin),_s.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Uy.copy(e).add(t).multiplyScalar(.5),ip.copy(t).sub(e).normalize(),lo.copy(this.origin).sub(Uy);const s=e.distanceTo(t)*.5,o=-this.direction.dot(ip),a=lo.dot(this.direction),l=-lo.dot(ip),u=lo.lengthSq(),h=Math.abs(1-o*o);let d,p,m,v;if(h>0)if(d=o*l-a,p=o*a-l,v=s*h,d>=0)if(p>=-v)if(p<=v){const y=1/h;d*=y,p*=y,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+u}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;else p<=-v?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u):p<=v?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+u);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+u;return i&&i.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(ip).multiplyScalar(p).add(Uy),m}intersectSphere(e,t){_s.subVectors(e.center,this.origin);const i=_s.dot(this.direction),r=_s.dot(_s)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const u=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,p=this.origin;return u>=0?(i=(e.min.x-p.x)*u,r=(e.max.x-p.x)*u):(i=(e.max.x-p.x)*u,r=(e.min.x-p.x)*u),h>=0?(s=(e.min.y-p.y)*h,o=(e.max.y-p.y)*h):(s=(e.max.y-p.y)*h,o=(e.min.y-p.y)*h),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,_s)!==null}intersectTriangle(e,t,i,r,s){zy.subVectors(t,e),rp.subVectors(i,e),Gy.crossVectors(zy,rp);let o=this.direction.dot(Gy),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;lo.subVectors(this.origin,e);const l=a*this.direction.dot(rp.crossVectors(lo,rp));if(l<0)return null;const u=a*this.direction.dot(zy.cross(lo));if(u<0||l+u>o)return null;const h=-a*lo.dot(Gy);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class st{constructor(){st.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,u,h,d,p,m,v,y,x){const A=this.elements;return A[0]=e,A[4]=t,A[8]=i,A[12]=r,A[1]=s,A[5]=o,A[9]=a,A[13]=l,A[2]=u,A[6]=h,A[10]=d,A[14]=p,A[3]=m,A[7]=v,A[11]=y,A[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new st().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/kl.setFromMatrixColumn(e,0).length(),s=1/kl.setFromMatrixColumn(e,1).length(),o=1/kl.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),u=Math.sin(r),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*h,m=o*d,v=a*h,y=a*d;t[0]=l*h,t[4]=-l*d,t[8]=u,t[1]=m+v*u,t[5]=p-y*u,t[9]=-a*l,t[2]=y-p*u,t[6]=v+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*h,m=l*d,v=u*h,y=u*d;t[0]=p+y*a,t[4]=v*a-m,t[8]=o*u,t[1]=o*d,t[5]=o*h,t[9]=-a,t[2]=m*a-v,t[6]=y+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*h,m=l*d,v=u*h,y=u*d;t[0]=p-y*a,t[4]=-o*d,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*h,t[9]=y-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*h,m=o*d,v=a*h,y=a*d;t[0]=l*h,t[4]=v*u-m,t[8]=p*u+y,t[1]=l*d,t[5]=y*u+p,t[9]=m*u-v,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,v=a*l,y=a*u;t[0]=l*h,t[4]=y-p*d,t[8]=v*d+m,t[1]=d,t[5]=o*h,t[9]=-a*h,t[2]=-u*h,t[6]=m*d+v,t[10]=p-y*d}else if(e.order==="XZY"){const p=o*l,m=o*u,v=a*l,y=a*u;t[0]=l*h,t[4]=-d,t[8]=u*h,t[1]=p*d+y,t[5]=o*h,t[9]=m*d-v,t[2]=v*d-m,t[6]=a*h,t[10]=y*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Bk,e,Rk)}lookAt(e,t,i){const r=this.elements;return Li.subVectors(e,t),Li.lengthSq()===0&&(Li.z=1),Li.normalize(),co.crossVectors(i,Li),co.lengthSq()===0&&(Math.abs(i.z)===1?Li.x+=1e-4:Li.z+=1e-4,Li.normalize(),co.crossVectors(i,Li)),co.normalize(),sp.crossVectors(Li,co),r[0]=co.x,r[4]=sp.x,r[8]=Li.x,r[1]=co.y,r[5]=sp.y,r[9]=Li.y,r[2]=co.z,r[6]=sp.z,r[10]=Li.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],u=i[12],h=i[1],d=i[5],p=i[9],m=i[13],v=i[2],y=i[6],x=i[10],A=i[14],_=i[3],M=i[7],S=i[11],E=i[15],P=r[0],R=r[4],T=r[8],B=r[12],I=r[1],U=r[5],Z=r[9],W=r[13],H=r[2],Q=r[6],ie=r[10],ce=r[14],N=r[3],X=r[7],j=r[11],re=r[15];return s[0]=o*P+a*I+l*H+u*N,s[4]=o*R+a*U+l*Q+u*X,s[8]=o*T+a*Z+l*ie+u*j,s[12]=o*B+a*W+l*ce+u*re,s[1]=h*P+d*I+p*H+m*N,s[5]=h*R+d*U+p*Q+m*X,s[9]=h*T+d*Z+p*ie+m*j,s[13]=h*B+d*W+p*ce+m*re,s[2]=v*P+y*I+x*H+A*N,s[6]=v*R+y*U+x*Q+A*X,s[10]=v*T+y*Z+x*ie+A*j,s[14]=v*B+y*W+x*ce+A*re,s[3]=_*P+M*I+S*H+E*N,s[7]=_*R+M*U+S*Q+E*X,s[11]=_*T+M*Z+S*ie+E*j,s[15]=_*B+M*W+S*ce+E*re,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],h=e[2],d=e[6],p=e[10],m=e[14],v=e[3],y=e[7],x=e[11],A=e[15];return v*(+s*l*d-r*u*d-s*a*p+i*u*p+r*a*m-i*l*m)+y*(+t*l*m-t*u*p+s*o*p-r*o*m+r*u*h-s*l*h)+x*(+t*u*d-t*a*m-s*o*d+i*o*m+s*a*h-i*u*h)+A*(-r*a*h-t*l*d+t*a*p+r*o*d-i*o*p+i*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],d=e[9],p=e[10],m=e[11],v=e[12],y=e[13],x=e[14],A=e[15],_=d*x*u-y*p*u+y*l*m-a*x*m-d*l*A+a*p*A,M=v*p*u-h*x*u-v*l*m+o*x*m+h*l*A-o*p*A,S=h*y*u-v*d*u+v*a*m-o*y*m-h*a*A+o*d*A,E=v*d*l-h*y*l-v*a*p+o*y*p+h*a*x-o*d*x,P=t*_+i*M+r*S+s*E;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=_*R,e[1]=(y*p*s-d*x*s-y*r*m+i*x*m+d*r*A-i*p*A)*R,e[2]=(a*x*s-y*l*s+y*r*u-i*x*u-a*r*A+i*l*A)*R,e[3]=(d*l*s-a*p*s-d*r*u+i*p*u+a*r*m-i*l*m)*R,e[4]=M*R,e[5]=(h*x*s-v*p*s+v*r*m-t*x*m-h*r*A+t*p*A)*R,e[6]=(v*l*s-o*x*s-v*r*u+t*x*u+o*r*A-t*l*A)*R,e[7]=(o*p*s-h*l*s+h*r*u-t*p*u-o*r*m+t*l*m)*R,e[8]=S*R,e[9]=(v*d*s-h*y*s-v*i*m+t*y*m+h*i*A-t*d*A)*R,e[10]=(o*y*s-v*a*s+v*i*u-t*y*u-o*i*A+t*a*A)*R,e[11]=(h*a*s-o*d*s-h*i*u+t*d*u+o*i*m-t*a*m)*R,e[12]=E*R,e[13]=(h*y*r-v*d*r+v*i*p-t*y*p-h*i*x+t*d*x)*R,e[14]=(v*a*r-o*y*r-v*i*l+t*y*l+o*i*x-t*a*x)*R,e[15]=(o*d*r-h*a*r+h*i*l-t*d*l-o*i*p+t*a*p)*R,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,u=s*o,h=s*a;return this.set(u*o+i,u*a-r*l,u*l+r*a,0,u*a+r*l,h*a+i,h*l-r*o,0,u*l-r*a,h*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,h=o+o,d=a+a,p=s*u,m=s*h,v=s*d,y=o*h,x=o*d,A=a*d,_=l*u,M=l*h,S=l*d,E=i.x,P=i.y,R=i.z;return r[0]=(1-(y+A))*E,r[1]=(m+S)*E,r[2]=(v-M)*E,r[3]=0,r[4]=(m-S)*P,r[5]=(1-(p+A))*P,r[6]=(x+_)*P,r[7]=0,r[8]=(v+M)*R,r[9]=(x-_)*R,r[10]=(1-(p+y))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=kl.set(r[0],r[1],r[2]).length();const o=kl.set(r[4],r[5],r[6]).length(),a=kl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Cr.copy(this);const u=1/s,h=1/o,d=1/a;return Cr.elements[0]*=u,Cr.elements[1]*=u,Cr.elements[2]*=u,Cr.elements[4]*=h,Cr.elements[5]*=h,Cr.elements[6]*=h,Cr.elements[8]*=d,Cr.elements[9]*=d,Cr.elements[10]*=d,t.setFromRotationMatrix(Cr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),u=2*s/(i-r),h=(t+e)/(t-e),d=(i+r)/(i-r),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=u,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),u=1/(i-r),h=1/(o-s),d=(t+e)*l,p=(i+r)*u,m=(o+s)*h;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const kl=new D,Cr=new st,Bk=new D(0,0,0),Rk=new D(1,1,1),co=new D,sp=new D,Li=new D,gC=new st,yC=new On;class hl{constructor(e=0,t=0,i=0,r=hl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],u=r[5],h=r[9],d=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(yn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-yn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(yn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-yn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(yn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-yn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return gC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(gC,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return yC.setFromEuler(this),this.setFromQuaternion(yC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}hl.DEFAULT_ORDER="XYZ";class Qa{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Ik=0;const vC=new D,Ol=new On,ws=new st,op=new D,Nu=new D,Lk=new D,Dk=new On,xC=new D(1,0,0),AC=new D(0,1,0),_C=new D(0,0,1),Fk={type:"added"},wC={type:"removed"};class Tt extends cs{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Ik++}),this.uuid=zi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Tt.DEFAULT_UP.clone();const e=new D,t=new hl,i=new On,r=new D(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new st},normalMatrix:{value:new ui}}),this.matrix=new st,this.matrixWorld=new st,this.matrixAutoUpdate=Tt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Tt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Qa,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ol.setFromAxisAngle(e,t),this.quaternion.multiply(Ol),this}rotateOnWorldAxis(e,t){return Ol.setFromAxisAngle(e,t),this.quaternion.premultiply(Ol),this}rotateX(e){return this.rotateOnAxis(xC,e)}rotateY(e){return this.rotateOnAxis(AC,e)}rotateZ(e){return this.rotateOnAxis(_C,e)}translateOnAxis(e,t){return vC.copy(e).applyQuaternion(this.quaternion),this.position.add(vC.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(xC,e)}translateY(e){return this.translateOnAxis(AC,e)}translateZ(e){return this.translateOnAxis(_C,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ws.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?op.copy(e):op.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Nu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ws.lookAt(Nu,op,this.up):ws.lookAt(op,Nu,this.up),this.quaternion.setFromRotationMatrix(ws),r&&(ws.extractRotation(r.matrixWorld),Ol.setFromRotationMatrix(ws),this.quaternion.premultiply(Ol.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Fk)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(wC)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(wC)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ws.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ws.multiply(e.parent.matrixWorld)),e.applyMatrix4(ws),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nu,e,Lk),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nu,Dk,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,h=l.length;u<h;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),h=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),h.length>0&&(i.images=h),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const u in a){const h=a[u];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Tt.DEFAULT_UP=new D(0,1,0);Tt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Tt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Er=new D,Ms=new D,Hy=new D,Ss=new D,Ul=new D,zl=new D,MC=new D,Vy=new D,Wy=new D,jy=new D;class fr{constructor(e=new D,t=new D,i=new D){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Er.subVectors(e,t),r.cross(Er);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Er.subVectors(r,t),Ms.subVectors(i,t),Hy.subVectors(e,t);const o=Er.dot(Er),a=Er.dot(Ms),l=Er.dot(Hy),u=Ms.dot(Ms),h=Ms.dot(Hy),d=o*u-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(u*l-a*h)*p,v=(o*h-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Ss),Ss.x>=0&&Ss.y>=0&&Ss.x+Ss.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Ss),l.set(0,0),l.addScaledVector(s,Ss.x),l.addScaledVector(o,Ss.y),l.addScaledVector(a,Ss.z),l}static isFrontFacing(e,t,i,r){return Er.subVectors(i,t),Ms.subVectors(e,t),Er.cross(Ms).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Er.subVectors(this.c,this.b),Ms.subVectors(this.a,this.b),Er.cross(Ms).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return fr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return fr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return fr.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return fr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return fr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Ul.subVectors(r,i),zl.subVectors(s,i),Vy.subVectors(e,i);const l=Ul.dot(Vy),u=zl.dot(Vy);if(l<=0&&u<=0)return t.copy(i);Wy.subVectors(e,r);const h=Ul.dot(Wy),d=zl.dot(Wy);if(h>=0&&d<=h)return t.copy(r);const p=l*d-h*u;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(i).addScaledVector(Ul,o);jy.subVectors(e,s);const m=Ul.dot(jy),v=zl.dot(jy);if(v>=0&&m<=v)return t.copy(s);const y=m*u-l*v;if(y<=0&&u>=0&&v<=0)return a=u/(u-v),t.copy(i).addScaledVector(zl,a);const x=h*v-m*d;if(x<=0&&d-h>=0&&m-v>=0)return MC.subVectors(s,r),a=(d-h)/(d-h+(m-v)),t.copy(r).addScaledVector(MC,a);const A=1/(x+y+p);return o=y*A,a=p*A,t.copy(i).addScaledVector(Ul,o).addScaledVector(zl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Nk=0;class Mn extends cs{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Nk++}),this.uuid=zi(),this.name="",this.type="Material",this.blending=ja,this.side=ss,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=J1,this.blendDst=X1,this.blendEquation=Pa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Wm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=HB,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=hm,this.stencilZFail=hm,this.stencilZPass=hm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ja&&(i.blending=this.blending),this.side!==ss&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Oi extends Mn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Le(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=dh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const An=new D,ap=new pe;class Ft{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Xf,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)ap.fromBufferAttribute(this,t),ap.applyMatrix3(e),this.setXY(t,ap.x,ap.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.applyMatrix3(e),this.setXYZ(t,An.x,An.y,An.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.applyMatrix4(e),this.setXYZ(t,An.x,An.y,An.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.applyNormalMatrix(e),this.setXYZ(t,An.x,An.y,An.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)An.fromBufferAttribute(this,t),An.transformDirection(e),this.setXYZ(t,An.x,An.y,An.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Fs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Gt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Fs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Gt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Fs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Gt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Fs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Gt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Gt(t,this.array),i=Gt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Gt(t,this.array),i=Gt(i,this.array),r=Gt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Gt(t,this.array),i=Gt(i,this.array),r=Gt(r,this.array),s=Gt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Xf&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class kk extends Ft{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Ok extends Ft{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Uk extends Ft{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class zk extends Ft{constructor(e,t,i){super(new Int16Array(e),t,i)}}class n_ extends Ft{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Gk extends Ft{constructor(e,t,i){super(new Int32Array(e),t,i)}}class i_ extends Ft{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Hk extends Ft{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class Ve extends Ft{constructor(e,t,i){super(new Float32Array(e),t,i)}}class Vk extends Ft{constructor(e,t,i){super(new Float64Array(e),t,i)}}let Wk=0;const rr=new st,Jy=new Tt,Gl=new D,Di=new Ko,ku=new Ko,Fn=new D;class ht extends cs{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Wk++}),this.uuid=zi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(WB(e)?i_:n_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new ui().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return rr.makeRotationFromQuaternion(e),this.applyMatrix4(rr),this}rotateX(e){return rr.makeRotationX(e),this.applyMatrix4(rr),this}rotateY(e){return rr.makeRotationY(e),this.applyMatrix4(rr),this}rotateZ(e){return rr.makeRotationZ(e),this.applyMatrix4(rr),this}translate(e,t,i){return rr.makeTranslation(e,t,i),this.applyMatrix4(rr),this}scale(e,t,i){return rr.makeScale(e,t,i),this.applyMatrix4(rr),this}lookAt(e){return Jy.lookAt(e),Jy.updateMatrix(),this.applyMatrix4(Jy.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gl).negate(),this.translate(Gl.x,Gl.y,Gl.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ve(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ko);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new D(-1/0,-1/0,-1/0),new D(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Di.setFromBufferAttribute(s),this.morphTargetsRelative?(Fn.addVectors(this.boundingBox.min,Di.min),this.boundingBox.expandByPoint(Fn),Fn.addVectors(this.boundingBox.max,Di.max),this.boundingBox.expandByPoint(Fn)):(this.boundingBox.expandByPoint(Di.min),this.boundingBox.expandByPoint(Di.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Qo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new D,1/0);return}if(e){const i=this.boundingSphere.center;if(Di.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];ku.setFromBufferAttribute(a),this.morphTargetsRelative?(Fn.addVectors(Di.min,ku.min),Di.expandByPoint(Fn),Fn.addVectors(Di.max,ku.max),Di.expandByPoint(Fn)):(Di.expandByPoint(ku.min),Di.expandByPoint(ku.max))}Di.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Fn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Fn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,h=a.count;u<h;u++)Fn.fromBufferAttribute(a,u),l&&(Gl.fromBufferAttribute(e,u),Fn.add(Gl)),r=Math.max(r,i.distanceToSquared(Fn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ft(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],h=[];for(let I=0;I<a;I++)u[I]=new D,h[I]=new D;const d=new D,p=new D,m=new D,v=new pe,y=new pe,x=new pe,A=new D,_=new D;function M(I,U,Z){d.fromArray(r,I*3),p.fromArray(r,U*3),m.fromArray(r,Z*3),v.fromArray(o,I*2),y.fromArray(o,U*2),x.fromArray(o,Z*2),p.sub(d),m.sub(d),y.sub(v),x.sub(v);const W=1/(y.x*x.y-x.x*y.y);isFinite(W)&&(A.copy(p).multiplyScalar(x.y).addScaledVector(m,-y.y).multiplyScalar(W),_.copy(m).multiplyScalar(y.x).addScaledVector(p,-x.x).multiplyScalar(W),u[I].add(A),u[U].add(A),u[Z].add(A),h[I].add(_),h[U].add(_),h[Z].add(_))}let S=this.groups;S.length===0&&(S=[{start:0,count:i.length}]);for(let I=0,U=S.length;I<U;++I){const Z=S[I],W=Z.start,H=Z.count;for(let Q=W,ie=W+H;Q<ie;Q+=3)M(i[Q+0],i[Q+1],i[Q+2])}const E=new D,P=new D,R=new D,T=new D;function B(I){R.fromArray(s,I*3),T.copy(R);const U=u[I];E.copy(U),E.sub(R.multiplyScalar(R.dot(U))).normalize(),P.crossVectors(T,U);const W=P.dot(h[I])<0?-1:1;l[I*4]=E.x,l[I*4+1]=E.y,l[I*4+2]=E.z,l[I*4+3]=W}for(let I=0,U=S.length;I<U;++I){const Z=S[I],W=Z.start,H=Z.count;for(let Q=W,ie=W+H;Q<ie;Q+=3)B(i[Q+0]),B(i[Q+1]),B(i[Q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Ft(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new D,s=new D,o=new D,a=new D,l=new D,u=new D,h=new D,d=new D;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),y=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,x),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,y),u.fromBufferAttribute(i,x),a.add(h),l.add(h),u.add(h),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(y,l.x,l.y,l.z),i.setXYZ(x,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),i.setXYZ(p+0,h.x,h.y,h.z),i.setXYZ(p+1,h.x,h.y,h.z),i.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Fn.fromBufferAttribute(e,t),Fn.normalize(),e.setXYZ(t,Fn.x,Fn.y,Fn.z)}toNonIndexed(){function e(a,l){const u=a.array,h=a.itemSize,d=a.normalized,p=new u.constructor(l.length*h);let m=0,v=0;for(let y=0,x=l.length;y<x;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*h;for(let A=0;A<h;A++)p[v++]=u[m++]}return new Ft(p,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ht,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],u=e(l,i);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let h=0,d=u.length;h<d;h++){const p=u[h],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],h=[];for(let d=0,p=u.length;d<p;d++){const m=u[d];h.push(m.toJSON(e.data))}h.length>0&&(r[l]=h,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const u in r){const h=r[u];this.setAttribute(u,h.clone(t))}const s=e.morphAttributes;for(const u in s){const h=[],d=s[u];for(let p=0,m=d.length;p<m;p++)h.push(d[p].clone(t));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,h=o.length;u<h;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const SC=new st,Hl=new qc,Xy=new Qo,Ou=new D,Uu=new D,zu=new D,Yy=new D,lp=new D,cp=new pe,up=new pe,fp=new pe,Ky=new D,hp=new D;class bn extends Tt{constructor(e=new ht,t=new Oi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){lp.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const h=a[l],d=s[l];h!==0&&(Yy.fromBufferAttribute(d,e),o?lp.addScaledVector(Yy,h):lp.addScaledVector(Yy.sub(t),h))}t.add(lp)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),Xy.copy(i.boundingSphere),Xy.applyMatrix4(s),e.ray.intersectsSphere(Xy)===!1)||(SC.copy(s).invert(),Hl.copy(e.ray).applyMatrix4(SC),i.boundingBox!==null&&Hl.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,u=i.attributes.uv,h=i.attributes.uv2,d=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let m=0,v=d.length;m<v;m++){const y=d[m],x=r[y.materialIndex],A=Math.max(y.start,p.start),_=Math.min(a.count,Math.min(y.start+y.count,p.start+p.count));for(let M=A,S=_;M<S;M+=3){const E=a.getX(M),P=a.getX(M+1),R=a.getX(M+2);o=dp(this,x,e,Hl,u,h,E,P,R),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);for(let y=m,x=v;y<x;y+=3){const A=a.getX(y),_=a.getX(y+1),M=a.getX(y+2);o=dp(this,r,e,Hl,u,h,A,_,M),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let m=0,v=d.length;m<v;m++){const y=d[m],x=r[y.materialIndex],A=Math.max(y.start,p.start),_=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let M=A,S=_;M<S;M+=3){const E=M,P=M+1,R=M+2;o=dp(this,x,e,Hl,u,h,E,P,R),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),v=Math.min(l.count,p.start+p.count);for(let y=m,x=v;y<x;y+=3){const A=y,_=y+1,M=y+2;o=dp(this,r,e,Hl,u,h,A,_,M),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}}}function jk(n,e,t,i,r,s,o,a){let l;if(e.side===Ti?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===ss,a),l===null)return null;hp.copy(a),hp.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(hp);return u<t.near||u>t.far?null:{distance:u,point:hp.clone(),object:n}}function dp(n,e,t,i,r,s,o,a,l){n.getVertexPosition(o,Ou),n.getVertexPosition(a,Uu),n.getVertexPosition(l,zu);const u=jk(n,e,t,i,Ou,Uu,zu,Ky);if(u){r&&(cp.fromBufferAttribute(r,o),up.fromBufferAttribute(r,a),fp.fromBufferAttribute(r,l),u.uv=fr.getUV(Ky,Ou,Uu,zu,cp,up,fp,new pe)),s&&(cp.fromBufferAttribute(s,o),up.fromBufferAttribute(s,a),fp.fromBufferAttribute(s,l),u.uv2=fr.getUV(Ky,Ou,Uu,zu,cp,up,fp,new pe));const h={a:o,b:a,c:l,normal:new D,materialIndex:0};fr.getNormal(Ou,Uu,zu,h.normal),u.face=h}return u}class Zo extends ht{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],h=[],d=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ve(u,3)),this.setAttribute("normal",new Ve(h,3)),this.setAttribute("uv",new Ve(d,2));function v(y,x,A,_,M,S,E,P,R,T,B){const I=S/R,U=E/T,Z=S/2,W=E/2,H=P/2,Q=R+1,ie=T+1;let ce=0,N=0;const X=new D;for(let j=0;j<ie;j++){const re=j*U-W;for(let J=0;J<Q;J++){const ee=J*I-Z;X[y]=ee*_,X[x]=re*M,X[A]=H,u.push(X.x,X.y,X.z),X[y]=0,X[x]=0,X[A]=P>0?1:-1,h.push(X.x,X.y,X.z),d.push(J/R),d.push(1-j/T),ce+=1}}for(let j=0;j<T;j++)for(let re=0;re<R;re++){const J=p+re+Q*j,ee=p+re+Q*(j+1),ve=p+(re+1)+Q*(j+1),Ae=p+(re+1)+Q*j;l.push(J,ee,Ae),l.push(ee,ve,Ae),N+=6}a.addGroup(m,N,B),m+=N,p+=ce}}static fromJSON(e){return new Zo(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Gc(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function ai(n){const e={};for(let t=0;t<n.length;t++){const i=Gc(n[t]);for(const r in i)e[r]=i[r]}return e}function Jk(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function JB(n){return n.getRenderTarget()===null&&n.outputEncoding===Ht?Pr:zc}const XB={clone:Gc,merge:ai};var Xk=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Yk=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class as extends Mn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Xk,this.fragmentShader=Yk,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Gc(e.uniforms),this.uniformsGroups=Jk(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class ph extends Tt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new st,this.projectionMatrix=new st,this.projectionMatrixInverse=new st}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Xt extends ph{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Yf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ya*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Yf*2*Math.atan(Math.tan(Ya*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ya*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/u,r*=o.width/l,i*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Vl=-90,Wl=1;class r_ extends Tt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Xt(Vl,Wl,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Xt(Vl,Wl,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Xt(Vl,Wl,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Xt(Vl,Wl,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Xt(Vl,Wl,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new Xt(Vl,Wl,e,t);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,u]=this.children,h=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=Nr,e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=m,e.setRenderTarget(i,5),e.render(t,u),e.setRenderTarget(h),e.toneMapping=d,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class mh extends jt{constructor(e,t,i,r,s,o,a,l,u,h){e=e!==void 0?e:[],t=t!==void 0?t:ko,super(e,t,i,r,s,o,a,l,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class s_ extends Or{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new mh(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:nn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Zo(5,5,5),s=new as({name:"CubemapFromEquirect",uniforms:Gc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ti,blending:Us});s.uniforms.tEquirect.value=t;const o=new bn(r,s),a=t.minFilter;return t.minFilter===os&&(t.minFilter=nn),new r_(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const Qy=new D,Kk=new D,Qk=new ui;class Ps{constructor(e=new D(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=Qy.subVectors(i,t).cross(Kk.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(Qy),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Qk.getNormalMatrix(e),r=this.coplanarPoint(Qy).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const jl=new Qo,pp=new D;class Bg{constructor(e=new Ps,t=new Ps,i=new Ps,r=new Ps,s=new Ps,o=new Ps){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=i[5],h=i[6],d=i[7],p=i[8],m=i[9],v=i[10],y=i[11],x=i[12],A=i[13],_=i[14],M=i[15];return t[0].setComponents(a-r,d-l,y-p,M-x).normalize(),t[1].setComponents(a+r,d+l,y+p,M+x).normalize(),t[2].setComponents(a+s,d+u,y+m,M+A).normalize(),t[3].setComponents(a-s,d-u,y-m,M-A).normalize(),t[4].setComponents(a-o,d-h,y-v,M-_).normalize(),t[5].setComponents(a+o,d+h,y+v,M+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),jl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(jl)}intersectsSprite(e){return jl.center.set(0,0,0),jl.radius=.7071067811865476,jl.applyMatrix4(e.matrixWorld),this.intersectsSphere(jl)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(pp.x=r.normal.x>0?e.max.x:e.min.x,pp.y=r.normal.y>0?e.max.y:e.min.y,pp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(pp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function YB(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Zk(n,e){const t=e.isWebGL2,i=new WeakMap;function r(u,h){const d=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(h,m),n.bufferData(h,d,p),u.onUploadCallback();let v;if(d instanceof Float32Array)v=5126;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(d instanceof Int16Array)v=5122;else if(d instanceof Uint32Array)v=5125;else if(d instanceof Int32Array)v=5124;else if(d instanceof Int8Array)v=5120;else if(d instanceof Uint8Array)v=5121;else if(d instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:v,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function s(u,h,d){const p=h.array,m=h.updateRange;n.bindBuffer(d,u),m.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),h.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=i.get(u);h&&(n.deleteBuffer(h.buffer),i.delete(u))}function l(u,h){if(u.isGLBufferAttribute){const p=i.get(u);(!p||p.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=i.get(u);d===void 0?i.set(u,r(u,h)):d.version<u.version&&(s(d.buffer,u,h),d.version=u.version)}return{get:o,remove:a,update:l}}class $c extends ht{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),u=a+1,h=l+1,d=e/a,p=t/l,m=[],v=[],y=[],x=[];for(let A=0;A<h;A++){const _=A*p-o;for(let M=0;M<u;M++){const S=M*d-s;v.push(S,-_,0),y.push(0,0,1),x.push(M/a),x.push(1-A/l)}}for(let A=0;A<l;A++)for(let _=0;_<a;_++){const M=_+u*A,S=_+u*(A+1),E=_+1+u*(A+1),P=_+1+u*A;m.push(M,S,P),m.push(S,E,P)}this.setIndex(m),this.setAttribute("position",new Ve(v,3)),this.setAttribute("normal",new Ve(y,3)),this.setAttribute("uv",new Ve(x,2))}static fromJSON(e){return new $c(e.width,e.height,e.widthSegments,e.heightSegments)}}var qk=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,$k=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eO=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,tO=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,nO=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,iO=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,rO="vec3 transformed = vec3( position );",sO=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,oO=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,aO=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,lO=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,cO=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,uO=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,fO=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,hO=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,dO=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,pO=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,mO=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,gO=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,yO=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,vO=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,xO=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,AO=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,_O=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,wO=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,MO=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,SO="gl_FragColor = linearToOutputTexel( gl_FragColor );",CO=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,EO=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,TO=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,bO=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,PO=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,BO=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,RO=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,IO=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,LO=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,DO=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,FO=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,NO=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,kO=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,OO=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,UO=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,zO=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,GO=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,HO=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,VO=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,WO=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,jO=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,JO=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,XO=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,YO=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,KO=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,QO=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,ZO=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,qO=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,$O=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,eU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,tU=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,nU=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,iU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,rU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,sU=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,oU=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,aU=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,lU=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,cU=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,uU=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,fU=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,hU=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,dU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,pU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,mU=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,gU=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,yU=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,vU=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,xU=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,AU=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,_U=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,wU=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,MU=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,SU=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,CU=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,EU=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,TU=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,bU=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,PU=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,BU=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,RU=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,IU=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,LU=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,DU=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,FU=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,NU=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,kU=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,OU=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,UU=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,zU=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,GU=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,HU=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,VU=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,WU=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,jU=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,JU=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,XU=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,YU=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,KU=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const QU=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ZU=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,qU=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$U=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ez=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tz=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nz=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,iz=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,rz=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,sz=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,oz=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,az=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,lz=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cz=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,uz=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fz=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hz=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dz=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pz=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,mz=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gz=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,yz=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vz=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xz=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Az=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,_z=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wz=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mz=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sz=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Cz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Ez=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tz=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,bz=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Pz=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yt={alphamap_fragment:qk,alphamap_pars_fragment:$k,alphatest_fragment:eO,alphatest_pars_fragment:tO,aomap_fragment:nO,aomap_pars_fragment:iO,begin_vertex:rO,beginnormal_vertex:sO,bsdfs:oO,iridescence_fragment:aO,bumpmap_pars_fragment:lO,clipping_planes_fragment:cO,clipping_planes_pars_fragment:uO,clipping_planes_pars_vertex:fO,clipping_planes_vertex:hO,color_fragment:dO,color_pars_fragment:pO,color_pars_vertex:mO,color_vertex:gO,common:yO,cube_uv_reflection_fragment:vO,defaultnormal_vertex:xO,displacementmap_pars_vertex:AO,displacementmap_vertex:_O,emissivemap_fragment:wO,emissivemap_pars_fragment:MO,encodings_fragment:SO,encodings_pars_fragment:CO,envmap_fragment:EO,envmap_common_pars_fragment:TO,envmap_pars_fragment:bO,envmap_pars_vertex:PO,envmap_physical_pars_fragment:GO,envmap_vertex:BO,fog_vertex:RO,fog_pars_vertex:IO,fog_fragment:LO,fog_pars_fragment:DO,gradientmap_pars_fragment:FO,lightmap_fragment:NO,lightmap_pars_fragment:kO,lights_lambert_fragment:OO,lights_lambert_pars_fragment:UO,lights_pars_begin:zO,lights_toon_fragment:HO,lights_toon_pars_fragment:VO,lights_phong_fragment:WO,lights_phong_pars_fragment:jO,lights_physical_fragment:JO,lights_physical_pars_fragment:XO,lights_fragment_begin:YO,lights_fragment_maps:KO,lights_fragment_end:QO,logdepthbuf_fragment:ZO,logdepthbuf_pars_fragment:qO,logdepthbuf_pars_vertex:$O,logdepthbuf_vertex:eU,map_fragment:tU,map_pars_fragment:nU,map_particle_fragment:iU,map_particle_pars_fragment:rU,metalnessmap_fragment:sU,metalnessmap_pars_fragment:oU,morphcolor_vertex:aU,morphnormal_vertex:lU,morphtarget_pars_vertex:cU,morphtarget_vertex:uU,normal_fragment_begin:fU,normal_fragment_maps:hU,normal_pars_fragment:dU,normal_pars_vertex:pU,normal_vertex:mU,normalmap_pars_fragment:gU,clearcoat_normal_fragment_begin:yU,clearcoat_normal_fragment_maps:vU,clearcoat_pars_fragment:xU,iridescence_pars_fragment:AU,output_fragment:_U,packing:wU,premultiplied_alpha_fragment:MU,project_vertex:SU,dithering_fragment:CU,dithering_pars_fragment:EU,roughnessmap_fragment:TU,roughnessmap_pars_fragment:bU,shadowmap_pars_fragment:PU,shadowmap_pars_vertex:BU,shadowmap_vertex:RU,shadowmask_pars_fragment:IU,skinbase_vertex:LU,skinning_pars_vertex:DU,skinning_vertex:FU,skinnormal_vertex:NU,specularmap_fragment:kU,specularmap_pars_fragment:OU,tonemapping_fragment:UU,tonemapping_pars_fragment:zU,transmission_fragment:GU,transmission_pars_fragment:HU,uv_pars_fragment:VU,uv_pars_vertex:WU,uv_vertex:jU,uv2_pars_fragment:JU,uv2_pars_vertex:XU,uv2_vertex:YU,worldpos_vertex:KU,background_vert:QU,background_frag:ZU,backgroundCube_vert:qU,backgroundCube_frag:$U,cube_vert:ez,cube_frag:tz,depth_vert:nz,depth_frag:iz,distanceRGBA_vert:rz,distanceRGBA_frag:sz,equirect_vert:oz,equirect_frag:az,linedashed_vert:lz,linedashed_frag:cz,meshbasic_vert:uz,meshbasic_frag:fz,meshlambert_vert:hz,meshlambert_frag:dz,meshmatcap_vert:pz,meshmatcap_frag:mz,meshnormal_vert:gz,meshnormal_frag:yz,meshphong_vert:vz,meshphong_frag:xz,meshphysical_vert:Az,meshphysical_frag:_z,meshtoon_vert:wz,meshtoon_frag:Mz,points_vert:Sz,points_frag:Cz,shadow_vert:Ez,shadow_frag:Tz,sprite_vert:bz,sprite_frag:Pz},Pe={common:{diffuse:{value:new Le(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ui},uv2Transform:{value:new ui},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Le(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Le(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ui}},sprite:{diffuse:{value:new Le(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ui}}},Rr={basic:{uniforms:ai([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.fog]),vertexShader:yt.meshbasic_vert,fragmentShader:yt.meshbasic_frag},lambert:{uniforms:ai([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,Pe.lights,{emissive:{value:new Le(0)}}]),vertexShader:yt.meshlambert_vert,fragmentShader:yt.meshlambert_frag},phong:{uniforms:ai([Pe.common,Pe.specularmap,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,Pe.lights,{emissive:{value:new Le(0)},specular:{value:new Le(1118481)},shininess:{value:30}}]),vertexShader:yt.meshphong_vert,fragmentShader:yt.meshphong_frag},standard:{uniforms:ai([Pe.common,Pe.envmap,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.roughnessmap,Pe.metalnessmap,Pe.fog,Pe.lights,{emissive:{value:new Le(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag},toon:{uniforms:ai([Pe.common,Pe.aomap,Pe.lightmap,Pe.emissivemap,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.gradientmap,Pe.fog,Pe.lights,{emissive:{value:new Le(0)}}]),vertexShader:yt.meshtoon_vert,fragmentShader:yt.meshtoon_frag},matcap:{uniforms:ai([Pe.common,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,Pe.fog,{matcap:{value:null}}]),vertexShader:yt.meshmatcap_vert,fragmentShader:yt.meshmatcap_frag},points:{uniforms:ai([Pe.points,Pe.fog]),vertexShader:yt.points_vert,fragmentShader:yt.points_frag},dashed:{uniforms:ai([Pe.common,Pe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yt.linedashed_vert,fragmentShader:yt.linedashed_frag},depth:{uniforms:ai([Pe.common,Pe.displacementmap]),vertexShader:yt.depth_vert,fragmentShader:yt.depth_frag},normal:{uniforms:ai([Pe.common,Pe.bumpmap,Pe.normalmap,Pe.displacementmap,{opacity:{value:1}}]),vertexShader:yt.meshnormal_vert,fragmentShader:yt.meshnormal_frag},sprite:{uniforms:ai([Pe.sprite,Pe.fog]),vertexShader:yt.sprite_vert,fragmentShader:yt.sprite_frag},background:{uniforms:{uvTransform:{value:new ui},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:yt.background_vert,fragmentShader:yt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:yt.backgroundCube_vert,fragmentShader:yt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:yt.cube_vert,fragmentShader:yt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yt.equirect_vert,fragmentShader:yt.equirect_frag},distanceRGBA:{uniforms:ai([Pe.common,Pe.displacementmap,{referencePosition:{value:new D},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yt.distanceRGBA_vert,fragmentShader:yt.distanceRGBA_frag},shadow:{uniforms:ai([Pe.lights,Pe.fog,{color:{value:new Le(0)},opacity:{value:1}}]),vertexShader:yt.shadow_vert,fragmentShader:yt.shadow_frag}};Rr.physical={uniforms:ai([Rr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new pe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Le(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Le(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Le(1,1,1)},specularColorMap:{value:null}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag};const mp={r:0,b:0,g:0};function Bz(n,e,t,i,r,s,o){const a=new Le(0);let l=s===!0?0:1,u,h,d=null,p=0,m=null;function v(x,A){let _=!1,M=A.isScene===!0?A.background:null;M&&M.isTexture&&(M=(A.backgroundBlurriness>0?t:e).get(M));const S=n.xr,E=S.getSession&&S.getSession();E&&E.environmentBlendMode==="additive"&&(M=null),M===null?y(a,l):M&&M.isColor&&(y(M,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),M&&(M.isCubeTexture||M.mapping===Zc)?(h===void 0&&(h=new bn(new Zo(1,1,1),new as({name:"BackgroundCubeMaterial",uniforms:Gc(Rr.backgroundCube.uniforms),vertexShader:Rr.backgroundCube.vertexShader,fragmentShader:Rr.backgroundCube.fragmentShader,side:Ti,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(P,R,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),h.material.uniforms.envMap.value=M,h.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,h.material.toneMapped=M.encoding!==Ht,(d!==M||p!==M.version||m!==n.toneMapping)&&(h.material.needsUpdate=!0,d=M,p=M.version,m=n.toneMapping),h.layers.enableAll(),x.unshift(h,h.geometry,h.material,0,0,null)):M&&M.isTexture&&(u===void 0&&(u=new bn(new $c(2,2),new as({name:"BackgroundMaterial",uniforms:Gc(Rr.background.uniforms),vertexShader:Rr.background.vertexShader,fragmentShader:Rr.background.fragmentShader,side:ss,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=M,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.toneMapped=M.encoding!==Ht,M.matrixAutoUpdate===!0&&M.updateMatrix(),u.material.uniforms.uvTransform.value.copy(M.matrix),(d!==M||p!==M.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=M,p=M.version,m=n.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null))}function y(x,A){x.getRGB(mp,JB(n)),i.buffers.color.setClear(mp.r,mp.g,mp.b,A,o)}return{getClearColor:function(){return a},setClearColor:function(x,A=1){a.set(x),l=A,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,y(a,l)},render:v}}function Rz(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let u=l,h=!1;function d(H,Q,ie,ce,N){let X=!1;if(o){const j=y(ce,ie,Q);u!==j&&(u=j,m(u.object)),X=A(H,ce,ie,N),X&&_(H,ce,ie,N)}else{const j=Q.wireframe===!0;(u.geometry!==ce.id||u.program!==ie.id||u.wireframe!==j)&&(u.geometry=ce.id,u.program=ie.id,u.wireframe=j,X=!0)}N!==null&&t.update(N,34963),(X||h)&&(h=!1,T(H,Q,ie,ce),N!==null&&n.bindBuffer(34963,t.get(N).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(H){return i.isWebGL2?n.bindVertexArray(H):s.bindVertexArrayOES(H)}function v(H){return i.isWebGL2?n.deleteVertexArray(H):s.deleteVertexArrayOES(H)}function y(H,Q,ie){const ce=ie.wireframe===!0;let N=a[H.id];N===void 0&&(N={},a[H.id]=N);let X=N[Q.id];X===void 0&&(X={},N[Q.id]=X);let j=X[ce];return j===void 0&&(j=x(p()),X[ce]=j),j}function x(H){const Q=[],ie=[],ce=[];for(let N=0;N<r;N++)Q[N]=0,ie[N]=0,ce[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Q,enabledAttributes:ie,attributeDivisors:ce,object:H,attributes:{},index:null}}function A(H,Q,ie,ce){const N=u.attributes,X=Q.attributes;let j=0;const re=ie.getAttributes();for(const J in re)if(re[J].location>=0){const ve=N[J];let Ae=X[J];if(Ae===void 0&&(J==="instanceMatrix"&&H.instanceMatrix&&(Ae=H.instanceMatrix),J==="instanceColor"&&H.instanceColor&&(Ae=H.instanceColor)),ve===void 0||ve.attribute!==Ae||Ae&&ve.data!==Ae.data)return!0;j++}return u.attributesNum!==j||u.index!==ce}function _(H,Q,ie,ce){const N={},X=Q.attributes;let j=0;const re=ie.getAttributes();for(const J in re)if(re[J].location>=0){let ve=X[J];ve===void 0&&(J==="instanceMatrix"&&H.instanceMatrix&&(ve=H.instanceMatrix),J==="instanceColor"&&H.instanceColor&&(ve=H.instanceColor));const Ae={};Ae.attribute=ve,ve&&ve.data&&(Ae.data=ve.data),N[J]=Ae,j++}u.attributes=N,u.attributesNum=j,u.index=ce}function M(){const H=u.newAttributes;for(let Q=0,ie=H.length;Q<ie;Q++)H[Q]=0}function S(H){E(H,0)}function E(H,Q){const ie=u.newAttributes,ce=u.enabledAttributes,N=u.attributeDivisors;ie[H]=1,ce[H]===0&&(n.enableVertexAttribArray(H),ce[H]=1),N[H]!==Q&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,Q),N[H]=Q)}function P(){const H=u.newAttributes,Q=u.enabledAttributes;for(let ie=0,ce=Q.length;ie<ce;ie++)Q[ie]!==H[ie]&&(n.disableVertexAttribArray(ie),Q[ie]=0)}function R(H,Q,ie,ce,N,X){i.isWebGL2===!0&&(ie===5124||ie===5125)?n.vertexAttribIPointer(H,Q,ie,N,X):n.vertexAttribPointer(H,Q,ie,ce,N,X)}function T(H,Q,ie,ce){if(i.isWebGL2===!1&&(H.isInstancedMesh||ce.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;M();const N=ce.attributes,X=ie.getAttributes(),j=Q.defaultAttributeValues;for(const re in X){const J=X[re];if(J.location>=0){let ee=N[re];if(ee===void 0&&(re==="instanceMatrix"&&H.instanceMatrix&&(ee=H.instanceMatrix),re==="instanceColor"&&H.instanceColor&&(ee=H.instanceColor)),ee!==void 0){const ve=ee.normalized,Ae=ee.itemSize,$=t.get(ee);if($===void 0)continue;const Ne=$.buffer,ke=$.type,He=$.bytesPerElement;if(ee.isInterleavedBufferAttribute){const _e=ee.data,Be=_e.stride,he=ee.offset;if(_e.isInstancedInterleavedBuffer){for(let oe=0;oe<J.locationSize;oe++)E(J.location+oe,_e.meshPerAttribute);H.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let oe=0;oe<J.locationSize;oe++)S(J.location+oe);n.bindBuffer(34962,Ne);for(let oe=0;oe<J.locationSize;oe++)R(J.location+oe,Ae/J.locationSize,ke,ve,Be*He,(he+Ae/J.locationSize*oe)*He)}else{if(ee.isInstancedBufferAttribute){for(let _e=0;_e<J.locationSize;_e++)E(J.location+_e,ee.meshPerAttribute);H.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let _e=0;_e<J.locationSize;_e++)S(J.location+_e);n.bindBuffer(34962,Ne);for(let _e=0;_e<J.locationSize;_e++)R(J.location+_e,Ae/J.locationSize,ke,ve,Ae*He,Ae/J.locationSize*_e*He)}}else if(j!==void 0){const ve=j[re];if(ve!==void 0)switch(ve.length){case 2:n.vertexAttrib2fv(J.location,ve);break;case 3:n.vertexAttrib3fv(J.location,ve);break;case 4:n.vertexAttrib4fv(J.location,ve);break;default:n.vertexAttrib1fv(J.location,ve)}}}}P()}function B(){Z();for(const H in a){const Q=a[H];for(const ie in Q){const ce=Q[ie];for(const N in ce)v(ce[N].object),delete ce[N];delete Q[ie]}delete a[H]}}function I(H){if(a[H.id]===void 0)return;const Q=a[H.id];for(const ie in Q){const ce=Q[ie];for(const N in ce)v(ce[N].object),delete ce[N];delete Q[ie]}delete a[H.id]}function U(H){for(const Q in a){const ie=a[Q];if(ie[H.id]===void 0)continue;const ce=ie[H.id];for(const N in ce)v(ce[N].object),delete ce[N];delete ie[H.id]}}function Z(){W(),h=!0,u!==l&&(u=l,m(u.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:Z,resetDefaultState:W,dispose:B,releaseStatesOfGeometry:I,releaseStatesOfProgram:U,initAttributes:M,enableAttribute:S,disableUnusedAttributes:P}}function Iz(n,e,t,i){const r=i.isWebGL2;let s;function o(u){s=u}function a(u,h){n.drawArrays(s,u,h),t.update(h,s,1)}function l(u,h,d){if(d===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,h,d),t.update(h,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function Lz(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),v=n.getParameter(34076),y=n.getParameter(34921),x=n.getParameter(36347),A=n.getParameter(36348),_=n.getParameter(36349),M=p>0,S=o||e.has("OES_texture_float"),E=M&&S,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:x,maxVaryings:A,maxFragmentUniforms:_,vertexTextures:M,floatFragmentTextures:S,floatVertexTextures:E,maxSamples:P}}function Dz(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Ps,a=new ui,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=h(d,p,0)},this.setState=function(d,p,m){const v=d.clippingPlanes,y=d.clipIntersection,x=d.clipShadows,A=n.get(d);if(!r||v===null||v.length===0||s&&!x)s?h(null):u();else{const _=s?0:i,M=_*4;let S=A.clippingState||null;l.value=S,S=h(v,p,M,m);for(let E=0;E!==M;++E)S[E]=t[E];A.clippingState=S,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=_}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(d,p,m,v){const y=d!==null?d.length:0;let x=null;if(y!==0){if(x=l.value,v!==!0||x===null){const A=m+y*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<A)&&(x=new Float32Array(A));for(let M=0,S=m;M!==y;++M,S+=4)o.copy(d[M]).applyMatrix4(_,a),o.normal.toArray(x,S),x[S+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function Fz(n){let e=new WeakMap;function t(o,a){return a===Vf?o.mapping=ko:a===Wf&&(o.mapping=Oo),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Vf||a===Wf)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new s_(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",r),t(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class dr extends ph{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const dc=4,CC=[.125,.215,.35,.446,.526,.582],Ba=20,Zy=new dr,EC=new Le;let qy=null;const Ea=(1+Math.sqrt(5))/2,Jl=1/Ea,TC=[new D(1,1,1),new D(-1,1,1),new D(1,1,-1),new D(-1,1,-1),new D(0,Ea,Jl),new D(0,Ea,-Jl),new D(Jl,0,Ea),new D(-Jl,0,Ea),new D(Ea,Jl,0),new D(-Ea,Jl,0)];class fA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){qy=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=BC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=PC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(qy),e.scissorTest=!1,gp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ko||e.mapping===Oo?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),qy=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:nn,minFilter:nn,generateMipmaps:!1,type:Oc,format:wi,encoding:zo,depthBuffer:!1},r=bC(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=bC(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Nz(s)),this._blurMaterial=kz(s,e,t)}return r}_compileMaterial(e){const t=new bn(this._lodPlanes[0],e);this._renderer.compile(t,Zy)}_sceneToCubeUV(e,t,i,r){const a=new Xt(90,1,t,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,p=h.toneMapping;h.getClearColor(EC),h.toneMapping=Nr,h.autoClear=!1;const m=new Oi({name:"PMREM.Background",side:Ti,depthWrite:!1,depthTest:!1}),v=new bn(new Zo,m);let y=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,y=!0):(m.color.copy(EC),y=!0);for(let A=0;A<6;A++){const _=A%3;_===0?(a.up.set(0,l[A],0),a.lookAt(u[A],0,0)):_===1?(a.up.set(0,0,l[A]),a.lookAt(0,u[A],0)):(a.up.set(0,l[A],0),a.lookAt(0,0,u[A]));const M=this._cubeSize;gp(r,_*M,A>2?M:0,M,M),h.setRenderTarget(r),y&&h.render(v,a),h.render(e,a)}v.geometry.dispose(),v.material.dispose(),h.toneMapping=p,h.autoClear=d,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===ko||e.mapping===Oo;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=BC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=PC());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new bn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;gp(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,Zy)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=TC[(r-1)%TC.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new bn(this._lodPlanes[r],u),p=u.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Ba-1),y=s/v,x=isFinite(s)?1+Math.floor(h*y):Ba;x>Ba&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Ba}`);const A=[];let _=0;for(let R=0;R<Ba;++R){const T=R/y,B=Math.exp(-T*T/2);A.push(B),R===0?_+=B:R<x&&(_+=2*B)}for(let R=0;R<A.length;R++)A[R]=A[R]/_;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=A,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:M}=this;p.dTheta.value=v,p.mipInt.value=M-i;const S=this._sizeLods[r],E=3*S*(r>M-dc?r-M+dc:0),P=4*(this._cubeSize-S);gp(t,E,P,3*S,2*S),l.setRenderTarget(t),l.render(d,Zy)}}function Nz(n){const e=[],t=[],i=[];let r=n;const s=n-dc+1+CC.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-dc?l=CC[o-n+dc-1]:o===0&&(l=0),i.push(l);const u=1/(a-2),h=-u,d=1+u,p=[h,h,d,h,d,d,h,h,d,d,h,d],m=6,v=6,y=3,x=2,A=1,_=new Float32Array(y*v*m),M=new Float32Array(x*v*m),S=new Float32Array(A*v*m);for(let P=0;P<m;P++){const R=P%3*2/3-1,T=P>2?0:-1,B=[R,T,0,R+2/3,T,0,R+2/3,T+1,0,R,T,0,R+2/3,T+1,0,R,T+1,0];_.set(B,y*v*P),M.set(p,x*v*P);const I=[P,P,P,P,P,P];S.set(I,A*v*P)}const E=new ht;E.setAttribute("position",new Ft(_,y)),E.setAttribute("uv",new Ft(M,x)),E.setAttribute("faceIndex",new Ft(S,A)),e.push(E),r>dc&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function bC(n,e,t){const i=new Or(n,e,t);return i.texture.mapping=Zc,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function gp(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function kz(n,e,t){const i=new Float32Array(Ba),r=new D(0,1,0);return new as({name:"SphericalGaussianBlur",defines:{n:Ba,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:o_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Us,depthTest:!1,depthWrite:!1})}function PC(){return new as({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:o_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Us,depthTest:!1,depthWrite:!1})}function BC(){return new as({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:o_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Us,depthTest:!1,depthWrite:!1})}function o_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Oz(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,u=l===Vf||l===Wf,h=l===ko||l===Oo;if(u||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new fA(n)),d=u?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||h&&d&&r(d)){t===null&&(t=new fA(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const u=6;for(let h=0;h<u;h++)a[h]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function Uz(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function zz(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const v in p)e.update(p[v],34962);const m=d.morphAttributes;for(const v in m){const y=m[v];for(let x=0,A=y.length;x<A;x++)e.update(y[x],34962)}}function u(d){const p=[],m=d.index,v=d.attributes.position;let y=0;if(m!==null){const _=m.array;y=m.version;for(let M=0,S=_.length;M<S;M+=3){const E=_[M+0],P=_[M+1],R=_[M+2];p.push(E,P,P,R,R,E)}}else{const _=v.array;y=v.version;for(let M=0,S=_.length/3-1;M<S;M+=3){const E=M+0,P=M+1,R=M+2;p.push(E,P,P,R,R,E)}}const x=new(WB(p)?i_:n_)(p,1);x.version=y;const A=s.get(d);A&&e.remove(A),s.set(d,x)}function h(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:h}}function Gz(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function h(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function d(p,m,v){if(v===0)return;let y,x;if(r)y=n,x="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,m,a,p*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=u,this.render=h,this.renderInstances=d}function Hz(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function Vz(n,e){return n[0]-e[0]}function Wz(n,e){return Math.abs(e[1])-Math.abs(n[1])}function jz(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Ot,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,h,d,p){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,x=y!==void 0?y.length:0;let A=s.get(h);if(A===void 0||A.count!==x){let ie=function(){H.dispose(),s.delete(h),h.removeEventListener("dispose",ie)};var v=ie;A!==void 0&&A.texture.dispose();const S=h.morphAttributes.position!==void 0,E=h.morphAttributes.normal!==void 0,P=h.morphAttributes.color!==void 0,R=h.morphAttributes.position||[],T=h.morphAttributes.normal||[],B=h.morphAttributes.color||[];let I=0;S===!0&&(I=1),E===!0&&(I=2),P===!0&&(I=3);let U=h.attributes.position.count*I,Z=1;U>e.maxTextureSize&&(Z=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const W=new Float32Array(U*Z*4*x),H=new Pg(W,U,Z,x);H.type=Ds,H.needsUpdate=!0;const Q=I*4;for(let ce=0;ce<x;ce++){const N=R[ce],X=T[ce],j=B[ce],re=U*Z*4*ce;for(let J=0;J<N.count;J++){const ee=J*Q;S===!0&&(o.fromBufferAttribute(N,J),W[re+ee+0]=o.x,W[re+ee+1]=o.y,W[re+ee+2]=o.z,W[re+ee+3]=0),E===!0&&(o.fromBufferAttribute(X,J),W[re+ee+4]=o.x,W[re+ee+5]=o.y,W[re+ee+6]=o.z,W[re+ee+7]=0),P===!0&&(o.fromBufferAttribute(j,J),W[re+ee+8]=o.x,W[re+ee+9]=o.y,W[re+ee+10]=o.z,W[re+ee+11]=j.itemSize===4?o.w:1)}}A={count:x,texture:H,size:new pe(U,Z)},s.set(h,A),h.addEventListener("dispose",ie)}let _=0;for(let S=0;S<m.length;S++)_+=m[S];const M=h.morphTargetsRelative?1:1-_;p.getUniforms().setValue(n,"morphTargetBaseInfluence",M),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",A.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",A.size)}else{const y=m===void 0?0:m.length;let x=i[h.id];if(x===void 0||x.length!==y){x=[];for(let E=0;E<y;E++)x[E]=[E,0];i[h.id]=x}for(let E=0;E<y;E++){const P=x[E];P[0]=E,P[1]=m[E]}x.sort(Wz);for(let E=0;E<8;E++)E<y&&x[E][1]?(a[E][0]=x[E][0],a[E][1]=x[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(Vz);const A=h.morphAttributes.position,_=h.morphAttributes.normal;let M=0;for(let E=0;E<8;E++){const P=a[E],R=P[0],T=P[1];R!==Number.MAX_SAFE_INTEGER&&T?(A&&h.getAttribute("morphTarget"+E)!==A[R]&&h.setAttribute("morphTarget"+E,A[R]),_&&h.getAttribute("morphNormal"+E)!==_[R]&&h.setAttribute("morphNormal"+E,_[R]),r[E]=T,M+=T):(A&&h.hasAttribute("morphTarget"+E)===!0&&h.deleteAttribute("morphTarget"+E),_&&h.hasAttribute("morphNormal"+E)===!0&&h.deleteAttribute("morphNormal"+E),r[E]=0)}const S=h.morphTargetsRelative?1:1-M;p.getUniforms().setValue(n,"morphTargetBaseInfluence",S),p.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function Jz(n,e,t,i){let r=new WeakMap;function s(l){const u=i.render.frame,h=l.geometry,d=e.get(l,h);return r.get(d)!==u&&(e.update(d),r.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){r=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const KB=new jt,QB=new Pg,ZB=new t_,qB=new mh,RC=[],IC=[],LC=new Float32Array(16),DC=new Float32Array(9),FC=new Float32Array(4);function eu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=RC[r];if(s===void 0&&(s=new Float32Array(r),RC[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Pn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Bn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Rg(n,e){let t=IC[e];t===void 0&&(t=new Int32Array(e),IC[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Xz(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Yz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pn(t,e))return;n.uniform2fv(this.addr,e),Bn(t,e)}}function Kz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Pn(t,e))return;n.uniform3fv(this.addr,e),Bn(t,e)}}function Qz(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pn(t,e))return;n.uniform4fv(this.addr,e),Bn(t,e)}}function Zz(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Pn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Bn(t,e)}else{if(Pn(t,i))return;FC.set(i),n.uniformMatrix2fv(this.addr,!1,FC),Bn(t,i)}}function qz(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Pn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Bn(t,e)}else{if(Pn(t,i))return;DC.set(i),n.uniformMatrix3fv(this.addr,!1,DC),Bn(t,i)}}function $z(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Pn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Bn(t,e)}else{if(Pn(t,i))return;LC.set(i),n.uniformMatrix4fv(this.addr,!1,LC),Bn(t,i)}}function e4(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function t4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pn(t,e))return;n.uniform2iv(this.addr,e),Bn(t,e)}}function n4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Pn(t,e))return;n.uniform3iv(this.addr,e),Bn(t,e)}}function i4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pn(t,e))return;n.uniform4iv(this.addr,e),Bn(t,e)}}function r4(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function s4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pn(t,e))return;n.uniform2uiv(this.addr,e),Bn(t,e)}}function o4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Pn(t,e))return;n.uniform3uiv(this.addr,e),Bn(t,e)}}function a4(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pn(t,e))return;n.uniform4uiv(this.addr,e),Bn(t,e)}}function l4(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||KB,r)}function c4(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||ZB,r)}function u4(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||qB,r)}function f4(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||QB,r)}function h4(n){switch(n){case 5126:return Xz;case 35664:return Yz;case 35665:return Kz;case 35666:return Qz;case 35674:return Zz;case 35675:return qz;case 35676:return $z;case 5124:case 35670:return e4;case 35667:case 35671:return t4;case 35668:case 35672:return n4;case 35669:case 35673:return i4;case 5125:return r4;case 36294:return s4;case 36295:return o4;case 36296:return a4;case 35678:case 36198:case 36298:case 36306:case 35682:return l4;case 35679:case 36299:case 36307:return c4;case 35680:case 36300:case 36308:case 36293:return u4;case 36289:case 36303:case 36311:case 36292:return f4}}function d4(n,e){n.uniform1fv(this.addr,e)}function p4(n,e){const t=eu(e,this.size,2);n.uniform2fv(this.addr,t)}function m4(n,e){const t=eu(e,this.size,3);n.uniform3fv(this.addr,t)}function g4(n,e){const t=eu(e,this.size,4);n.uniform4fv(this.addr,t)}function y4(n,e){const t=eu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function v4(n,e){const t=eu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function x4(n,e){const t=eu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function A4(n,e){n.uniform1iv(this.addr,e)}function _4(n,e){n.uniform2iv(this.addr,e)}function w4(n,e){n.uniform3iv(this.addr,e)}function M4(n,e){n.uniform4iv(this.addr,e)}function S4(n,e){n.uniform1uiv(this.addr,e)}function C4(n,e){n.uniform2uiv(this.addr,e)}function E4(n,e){n.uniform3uiv(this.addr,e)}function T4(n,e){n.uniform4uiv(this.addr,e)}function b4(n,e,t){const i=this.cache,r=e.length,s=Rg(t,r);Pn(i,s)||(n.uniform1iv(this.addr,s),Bn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||KB,s[o])}function P4(n,e,t){const i=this.cache,r=e.length,s=Rg(t,r);Pn(i,s)||(n.uniform1iv(this.addr,s),Bn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||ZB,s[o])}function B4(n,e,t){const i=this.cache,r=e.length,s=Rg(t,r);Pn(i,s)||(n.uniform1iv(this.addr,s),Bn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||qB,s[o])}function R4(n,e,t){const i=this.cache,r=e.length,s=Rg(t,r);Pn(i,s)||(n.uniform1iv(this.addr,s),Bn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||QB,s[o])}function I4(n){switch(n){case 5126:return d4;case 35664:return p4;case 35665:return m4;case 35666:return g4;case 35674:return y4;case 35675:return v4;case 35676:return x4;case 5124:case 35670:return A4;case 35667:case 35671:return _4;case 35668:case 35672:return w4;case 35669:case 35673:return M4;case 5125:return S4;case 36294:return C4;case 36295:return E4;case 36296:return T4;case 35678:case 36198:case 36298:case 36306:case 35682:return b4;case 35679:case 36299:case 36307:return P4;case 35680:case 36300:case 36308:case 36293:return B4;case 36289:case 36303:case 36311:case 36292:return R4}}class L4{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=h4(t.type)}}class D4{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=I4(t.type)}}class F4{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const $y=/(\w+)(\])?(\[|\.)?/g;function NC(n,e){n.seq.push(e),n.map[e.id]=e}function N4(n,e,t){const i=n.name,r=i.length;for($y.lastIndex=0;;){const s=$y.exec(i),o=$y.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===r){NC(t,u===void 0?new L4(a,n,e):new D4(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new F4(a),NC(t,d)),t=d}}}class pm{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);N4(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function kC(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let k4=0;function O4(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function U4(n){switch(n){case zo:return["Linear","( value )"];case Ht:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function OC(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+O4(n.getShaderSource(e),o)}else return r}function z4(n,e){const t=U4(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function G4(n,e){let t;switch(e){case gB:t="Linear";break;case yB:t="Reinhard";break;case vB:t="OptimizedCineon";break;case Y1:t="ACESFilmic";break;case xB:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function H4(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(rf).join(`
`)}function V4(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function W4(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function rf(n){return n!==""}function UC(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function zC(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const j4=/^[ \t]*#include +<([\w\d./]+)>/gm;function hA(n){return n.replace(j4,J4)}function J4(n,e){const t=yt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return hA(t)}const X4=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function GC(n){return n.replace(X4,Y4)}function Y4(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function HC(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function K4(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Cg?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===mf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Fa&&(e="SHADOWMAP_TYPE_VSM"),e}function Q4(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ko:case Oo:e="ENVMAP_TYPE_CUBE";break;case Zc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Z4(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Oo:e="ENVMAP_MODE_REFRACTION";break}return e}function q4(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case dh:e="ENVMAP_BLENDING_MULTIPLY";break;case pB:e="ENVMAP_BLENDING_MIX";break;case mB:e="ENVMAP_BLENDING_ADD";break}return e}function $4(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function eG(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=K4(t),u=Q4(t),h=Z4(t),d=q4(t),p=$4(t),m=t.isWebGL2?"":H4(t),v=V4(s),y=r.createProgram();let x,A,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[v].filter(rf).join(`
`),x.length>0&&(x+=`
`),A=[m,v].filter(rf).join(`
`),A.length>0&&(A+=`
`)):(x=[HC(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(rf).join(`
`),A=[m,HC(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Nr?"#define TONE_MAPPING":"",t.toneMapping!==Nr?yt.tonemapping_pars_fragment:"",t.toneMapping!==Nr?G4("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",yt.encodings_pars_fragment,z4("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(rf).join(`
`)),o=hA(o),o=UC(o,t),o=zC(o,t),a=hA(a),a=UC(a,t),a=zC(a,t),o=GC(o),a=GC(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,A=["#define varying in",t.glslVersion===cA?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===cA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const M=_+x+o,S=_+A+a,E=kC(r,35633,M),P=kC(r,35632,S);if(r.attachShader(y,E),r.attachShader(y,P),t.index0AttributeName!==void 0?r.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(y,0,"position"),r.linkProgram(y),n.debug.checkShaderErrors){const B=r.getProgramInfoLog(y).trim(),I=r.getShaderInfoLog(E).trim(),U=r.getShaderInfoLog(P).trim();let Z=!0,W=!0;if(r.getProgramParameter(y,35714)===!1){Z=!1;const H=OC(r,E,"vertex"),Q=OC(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(y,35715)+`

Program Info Log: `+B+`
`+H+`
`+Q)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(I===""||U==="")&&(W=!1);W&&(this.diagnostics={runnable:Z,programLog:B,vertexShader:{log:I,prefix:x},fragmentShader:{log:U,prefix:A}})}r.deleteShader(E),r.deleteShader(P);let R;this.getUniforms=function(){return R===void 0&&(R=new pm(r,y)),R};let T;return this.getAttributes=function(){return T===void 0&&(T=W4(r,y)),T},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(y),this.program=void 0},this.name=t.shaderName,this.id=k4++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=P,this}let tG=0;class nG{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new iG(e),t.set(e,i)),i}}class iG{constructor(e){this.id=tG++,this.code=e,this.usedTimes=0}}function rG(n,e,t,i,r,s,o){const a=new Qa,l=new nG,u=[],h=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(T,B,I,U,Z){const W=U.fog,H=Z.geometry,Q=T.isMeshStandardMaterial?U.environment:null,ie=(T.isMeshStandardMaterial?t:e).get(T.envMap||Q),ce=ie&&ie.mapping===Zc?ie.image.height:null,N=v[T.type];T.precision!==null&&(m=r.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));const X=H.morphAttributes.position||H.morphAttributes.normal||H.morphAttributes.color,j=X!==void 0?X.length:0;let re=0;H.morphAttributes.position!==void 0&&(re=1),H.morphAttributes.normal!==void 0&&(re=2),H.morphAttributes.color!==void 0&&(re=3);let J,ee,ve,Ae;if(N){const Be=Rr[N];J=Be.vertexShader,ee=Be.fragmentShader}else J=T.vertexShader,ee=T.fragmentShader,l.update(T),ve=l.getVertexShaderID(T),Ae=l.getFragmentShaderID(T);const $=n.getRenderTarget(),Ne=T.alphaTest>0,ke=T.clearcoat>0,He=T.iridescence>0;return{isWebGL2:h,shaderID:N,shaderName:T.type,vertexShader:J,fragmentShader:ee,defines:T.defines,customVertexShaderID:ve,customFragmentShaderID:Ae,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,instancing:Z.isInstancedMesh===!0,instancingColor:Z.isInstancedMesh===!0&&Z.instanceColor!==null,supportsVertexTextures:p,outputEncoding:$===null?n.outputEncoding:$.isXRRenderTarget===!0?$.texture.encoding:zo,map:!!T.map,matcap:!!T.matcap,envMap:!!ie,envMapMode:ie&&ie.mapping,envMapCubeUVHeight:ce,lightMap:!!T.lightMap,aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===GB,tangentSpaceNormalMap:T.normalMapType===Yo,decodeVideoTexture:!!T.map&&T.map.isVideoTexture===!0&&T.map.encoding===Ht,clearcoat:ke,clearcoatMap:ke&&!!T.clearcoatMap,clearcoatRoughnessMap:ke&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:ke&&!!T.clearcoatNormalMap,iridescence:He,iridescenceMap:He&&!!T.iridescenceMap,iridescenceThicknessMap:He&&!!T.iridescenceThicknessMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularColorMap:!!T.specularColorMap,opaque:T.transparent===!1&&T.blending===ja,alphaMap:!!T.alphaMap,alphaTest:Ne,gradientMap:!!T.gradientMap,sheen:T.sheen>0,sheenColorMap:!!T.sheenColorMap,sheenRoughnessMap:!!T.sheenRoughnessMap,transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!H.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!H.attributes.color&&H.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.iridescenceMap||!!T.iridescenceThicknessMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||!!T.sheenColorMap||!!T.sheenRoughnessMap,uvsVertexOnly:!(T.map||T.bumpMap||T.normalMap||T.specularMap||T.alphaMap||T.emissiveMap||T.roughnessMap||T.metalnessMap||T.clearcoatNormalMap||T.iridescenceMap||T.iridescenceThicknessMap||T.transmission>0||T.transmissionMap||T.thicknessMap||T.specularIntensityMap||T.specularColorMap||T.sheen>0||T.sheenColorMap||T.sheenRoughnessMap)&&!!T.displacementMap,fog:!!W,useFog:T.fog===!0,fogExp2:W&&W.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:d,skinning:Z.isSkinnedMesh===!0,morphTargets:H.morphAttributes.position!==void 0,morphNormals:H.morphAttributes.normal!==void 0,morphColors:H.morphAttributes.color!==void 0,morphTargetsCount:j,morphTextureStride:re,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&I.length>0,shadowMapType:n.shadowMap.type,toneMapping:T.toneMapped?n.toneMapping:Nr,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Ir,flipSided:T.side===Ti,useDepthPacking:!!T.depthPacking,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||i.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function x(T){const B=[];if(T.shaderID?B.push(T.shaderID):(B.push(T.customVertexShaderID),B.push(T.customFragmentShaderID)),T.defines!==void 0)for(const I in T.defines)B.push(I),B.push(T.defines[I]);return T.isRawShaderMaterial===!1&&(A(B,T),_(B,T),B.push(n.outputEncoding)),B.push(T.customProgramCacheKey),B.join()}function A(T,B){T.push(B.precision),T.push(B.outputEncoding),T.push(B.envMapMode),T.push(B.envMapCubeUVHeight),T.push(B.combine),T.push(B.vertexUvs),T.push(B.fogExp2),T.push(B.sizeAttenuation),T.push(B.morphTargetsCount),T.push(B.morphAttributeCount),T.push(B.numDirLights),T.push(B.numPointLights),T.push(B.numSpotLights),T.push(B.numSpotLightMaps),T.push(B.numHemiLights),T.push(B.numRectAreaLights),T.push(B.numDirLightShadows),T.push(B.numPointLightShadows),T.push(B.numSpotLightShadows),T.push(B.numSpotLightShadowsWithMaps),T.push(B.shadowMapType),T.push(B.toneMapping),T.push(B.numClippingPlanes),T.push(B.numClipIntersection),T.push(B.depthPacking)}function _(T,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.map&&a.enable(4),B.matcap&&a.enable(5),B.envMap&&a.enable(6),B.lightMap&&a.enable(7),B.aoMap&&a.enable(8),B.emissiveMap&&a.enable(9),B.bumpMap&&a.enable(10),B.normalMap&&a.enable(11),B.objectSpaceNormalMap&&a.enable(12),B.tangentSpaceNormalMap&&a.enable(13),B.clearcoat&&a.enable(14),B.clearcoatMap&&a.enable(15),B.clearcoatRoughnessMap&&a.enable(16),B.clearcoatNormalMap&&a.enable(17),B.iridescence&&a.enable(18),B.iridescenceMap&&a.enable(19),B.iridescenceThicknessMap&&a.enable(20),B.displacementMap&&a.enable(21),B.specularMap&&a.enable(22),B.roughnessMap&&a.enable(23),B.metalnessMap&&a.enable(24),B.gradientMap&&a.enable(25),B.alphaMap&&a.enable(26),B.alphaTest&&a.enable(27),B.vertexColors&&a.enable(28),B.vertexAlphas&&a.enable(29),B.vertexUvs&&a.enable(30),B.vertexTangents&&a.enable(31),B.uvsVertexOnly&&a.enable(32),T.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.physicallyCorrectLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.specularIntensityMap&&a.enable(15),B.specularColorMap&&a.enable(16),B.transmission&&a.enable(17),B.transmissionMap&&a.enable(18),B.thicknessMap&&a.enable(19),B.sheen&&a.enable(20),B.sheenColorMap&&a.enable(21),B.sheenRoughnessMap&&a.enable(22),B.decodeVideoTexture&&a.enable(23),B.opaque&&a.enable(24),T.push(a.mask)}function M(T){const B=v[T.type];let I;if(B){const U=Rr[B];I=XB.clone(U.uniforms)}else I=T.uniforms;return I}function S(T,B){let I;for(let U=0,Z=u.length;U<Z;U++){const W=u[U];if(W.cacheKey===B){I=W,++I.usedTimes;break}}return I===void 0&&(I=new eG(n,B,T,s),u.push(I)),I}function E(T){if(--T.usedTimes===0){const B=u.indexOf(T);u[B]=u[u.length-1],u.pop(),T.destroy()}}function P(T){l.remove(T)}function R(){l.dispose()}return{getParameters:y,getProgramCacheKey:x,getUniforms:M,acquireProgram:S,releaseProgram:E,releaseShaderCache:P,programs:u,dispose:R}}function sG(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function oG(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function VC(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function WC(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,m,v,y,x){let A=n[e];return A===void 0?(A={id:d.id,object:d,geometry:p,material:m,groupOrder:v,renderOrder:d.renderOrder,z:y,group:x},n[e]=A):(A.id=d.id,A.object=d,A.geometry=p,A.material=m,A.groupOrder=v,A.renderOrder=d.renderOrder,A.z=y,A.group=x),e++,A}function a(d,p,m,v,y,x){const A=o(d,p,m,v,y,x);m.transmission>0?i.push(A):m.transparent===!0?r.push(A):t.push(A)}function l(d,p,m,v,y,x){const A=o(d,p,m,v,y,x);m.transmission>0?i.unshift(A):m.transparent===!0?r.unshift(A):t.unshift(A)}function u(d,p){t.length>1&&t.sort(d||oG),i.length>1&&i.sort(p||VC),r.length>1&&r.sort(p||VC)}function h(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:h,sort:u}}function aG(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new WC,n.set(i,[o])):r>=s.length?(o=new WC,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function lG(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new D,color:new Le};break;case"SpotLight":t={position:new D,direction:new D,color:new Le,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new D,color:new Le,distance:0,decay:0};break;case"HemisphereLight":t={direction:new D,skyColor:new Le,groundColor:new Le};break;case"RectAreaLight":t={color:new Le,position:new D,halfWidth:new D,halfHeight:new D};break}return n[e.id]=t,t}}}function cG(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let uG=0;function fG(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function hG(n,e){const t=new lG,i=cG(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)r.probe.push(new D);const s=new D,o=new st,a=new st;function l(h,d){let p=0,m=0,v=0;for(let U=0;U<9;U++)r.probe[U].set(0,0,0);let y=0,x=0,A=0,_=0,M=0,S=0,E=0,P=0,R=0,T=0;h.sort(fG);const B=d!==!0?Math.PI:1;for(let U=0,Z=h.length;U<Z;U++){const W=h[U],H=W.color,Q=W.intensity,ie=W.distance,ce=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)p+=H.r*Q*B,m+=H.g*Q*B,v+=H.b*Q*B;else if(W.isLightProbe)for(let N=0;N<9;N++)r.probe[N].addScaledVector(W.sh.coefficients[N],Q);else if(W.isDirectionalLight){const N=t.get(W);if(N.color.copy(W.color).multiplyScalar(W.intensity*B),W.castShadow){const X=W.shadow,j=i.get(W);j.shadowBias=X.bias,j.shadowNormalBias=X.normalBias,j.shadowRadius=X.radius,j.shadowMapSize=X.mapSize,r.directionalShadow[y]=j,r.directionalShadowMap[y]=ce,r.directionalShadowMatrix[y]=W.shadow.matrix,S++}r.directional[y]=N,y++}else if(W.isSpotLight){const N=t.get(W);N.position.setFromMatrixPosition(W.matrixWorld),N.color.copy(H).multiplyScalar(Q*B),N.distance=ie,N.coneCos=Math.cos(W.angle),N.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),N.decay=W.decay,r.spot[A]=N;const X=W.shadow;if(W.map&&(r.spotLightMap[R]=W.map,R++,X.updateMatrices(W),W.castShadow&&T++),r.spotLightMatrix[A]=X.matrix,W.castShadow){const j=i.get(W);j.shadowBias=X.bias,j.shadowNormalBias=X.normalBias,j.shadowRadius=X.radius,j.shadowMapSize=X.mapSize,r.spotShadow[A]=j,r.spotShadowMap[A]=ce,P++}A++}else if(W.isRectAreaLight){const N=t.get(W);N.color.copy(H).multiplyScalar(Q),N.halfWidth.set(W.width*.5,0,0),N.halfHeight.set(0,W.height*.5,0),r.rectArea[_]=N,_++}else if(W.isPointLight){const N=t.get(W);if(N.color.copy(W.color).multiplyScalar(W.intensity*B),N.distance=W.distance,N.decay=W.decay,W.castShadow){const X=W.shadow,j=i.get(W);j.shadowBias=X.bias,j.shadowNormalBias=X.normalBias,j.shadowRadius=X.radius,j.shadowMapSize=X.mapSize,j.shadowCameraNear=X.camera.near,j.shadowCameraFar=X.camera.far,r.pointShadow[x]=j,r.pointShadowMap[x]=ce,r.pointShadowMatrix[x]=W.shadow.matrix,E++}r.point[x]=N,x++}else if(W.isHemisphereLight){const N=t.get(W);N.skyColor.copy(W.color).multiplyScalar(Q*B),N.groundColor.copy(W.groundColor).multiplyScalar(Q*B),r.hemi[M]=N,M++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Pe.LTC_FLOAT_1,r.rectAreaLTC2=Pe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Pe.LTC_HALF_1,r.rectAreaLTC2=Pe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=v;const I=r.hash;(I.directionalLength!==y||I.pointLength!==x||I.spotLength!==A||I.rectAreaLength!==_||I.hemiLength!==M||I.numDirectionalShadows!==S||I.numPointShadows!==E||I.numSpotShadows!==P||I.numSpotMaps!==R)&&(r.directional.length=y,r.spot.length=A,r.rectArea.length=_,r.point.length=x,r.hemi.length=M,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=P+R-T,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=T,I.directionalLength=y,I.pointLength=x,I.spotLength=A,I.rectAreaLength=_,I.hemiLength=M,I.numDirectionalShadows=S,I.numPointShadows=E,I.numSpotShadows=P,I.numSpotMaps=R,r.version=uG++)}function u(h,d){let p=0,m=0,v=0,y=0,x=0;const A=d.matrixWorldInverse;for(let _=0,M=h.length;_<M;_++){const S=h[_];if(S.isDirectionalLight){const E=r.directional[p];E.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(A),p++}else if(S.isSpotLight){const E=r.spot[v];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(A),E.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(A),v++}else if(S.isRectAreaLight){const E=r.rectArea[y];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(A),a.identity(),o.copy(S.matrixWorld),o.premultiply(A),a.extractRotation(o),E.halfWidth.set(S.width*.5,0,0),E.halfHeight.set(0,S.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),y++}else if(S.isPointLight){const E=r.point[m];E.position.setFromMatrixPosition(S.matrixWorld),E.position.applyMatrix4(A),m++}else if(S.isHemisphereLight){const E=r.hemi[x];E.direction.setFromMatrixPosition(S.matrixWorld),E.direction.transformDirection(A),x++}}}return{setup:l,setupView:u,state:r}}function jC(n,e){const t=new hG(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){t.setup(i,d)}function u(d){t.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function dG(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new jC(n,e),t.set(s,[l])):o>=a.length?(l=new jC(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class a_ extends Mn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=UB,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class l_ extends Mn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new D,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const pG=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,mG=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function gG(n,e,t){let i=new Bg;const r=new pe,s=new pe,o=new Ot,a=new a_({depthPacking:zB}),l=new l_,u={},h=t.maxTextureSize,d={[ss]:Ti,[Ti]:ss,[Ir]:Ir},p=new as({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:pG,fragmentShader:mG}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new ht;v.setAttribute("position",new Ft(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new bn(v,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Cg,this.render=function(S,E,P){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||S.length===0)return;const R=n.getRenderTarget(),T=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),I=n.state;I.setBlending(Us),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let U=0,Z=S.length;U<Z;U++){const W=S[U],H=W.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;r.copy(H.mapSize);const Q=H.getFrameExtents();if(r.multiply(Q),s.copy(H.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/Q.x),r.x=s.x*Q.x,H.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/Q.y),r.y=s.y*Q.y,H.mapSize.y=s.y)),H.map===null){const ce=this.type!==Fa?{minFilter:dn,magFilter:dn}:{};H.map=new Or(r.x,r.y,ce),H.map.texture.name=W.name+".shadowMap",H.camera.updateProjectionMatrix()}n.setRenderTarget(H.map),n.clear();const ie=H.getViewportCount();for(let ce=0;ce<ie;ce++){const N=H.getViewport(ce);o.set(s.x*N.x,s.y*N.y,s.x*N.z,s.y*N.w),I.viewport(o),H.updateMatrices(W,ce),i=H.getFrustum(),M(E,P,H.camera,W,this.type)}H.isPointLightShadow!==!0&&this.type===Fa&&A(H,P),H.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(R,T,B)};function A(S,E){const P=e.update(y);p.defines.VSM_SAMPLES!==S.blurSamples&&(p.defines.VSM_SAMPLES=S.blurSamples,m.defines.VSM_SAMPLES=S.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new Or(r.x,r.y)),p.uniforms.shadow_pass.value=S.map.texture,p.uniforms.resolution.value=S.mapSize,p.uniforms.radius.value=S.radius,n.setRenderTarget(S.mapPass),n.clear(),n.renderBufferDirect(E,null,P,p,y,null),m.uniforms.shadow_pass.value=S.mapPass.texture,m.uniforms.resolution.value=S.mapSize,m.uniforms.radius.value=S.radius,n.setRenderTarget(S.map),n.clear(),n.renderBufferDirect(E,null,P,m,y,null)}function _(S,E,P,R,T,B){let I=null;const U=P.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(U!==void 0)I=U;else if(I=P.isPointLight===!0?l:a,n.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const Z=I.uuid,W=E.uuid;let H=u[Z];H===void 0&&(H={},u[Z]=H);let Q=H[W];Q===void 0&&(Q=I.clone(),H[W]=Q),I=Q}return I.visible=E.visible,I.wireframe=E.wireframe,B===Fa?I.side=E.shadowSide!==null?E.shadowSide:E.side:I.side=E.shadowSide!==null?E.shadowSide:d[E.side],I.alphaMap=E.alphaMap,I.alphaTest=E.alphaTest,I.map=E.map,I.clipShadows=E.clipShadows,I.clippingPlanes=E.clippingPlanes,I.clipIntersection=E.clipIntersection,I.displacementMap=E.displacementMap,I.displacementScale=E.displacementScale,I.displacementBias=E.displacementBias,I.wireframeLinewidth=E.wireframeLinewidth,I.linewidth=E.linewidth,P.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(P.matrixWorld),I.nearDistance=R,I.farDistance=T),I}function M(S,E,P,R,T){if(S.visible===!1)return;if(S.layers.test(E.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&T===Fa)&&(!S.frustumCulled||i.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,S.matrixWorld);const U=e.update(S),Z=S.material;if(Array.isArray(Z)){const W=U.groups;for(let H=0,Q=W.length;H<Q;H++){const ie=W[H],ce=Z[ie.materialIndex];if(ce&&ce.visible){const N=_(S,ce,R,P.near,P.far,T);n.renderBufferDirect(P,null,U,N,S,ie)}}}else if(Z.visible){const W=_(S,Z,R,P.near,P.far,T);n.renderBufferDirect(P,null,U,W,S,null)}}const I=S.children;for(let U=0,Z=I.length;U<Z;U++)M(I[U],E,P,R,T)}}function yG(n,e,t){const i=t.isWebGL2;function r(){let V=!1;const le=new Ot;let xe=null;const Oe=new Ot(0,0,0,0);return{setMask:function(Je){xe!==Je&&!V&&(n.colorMask(Je,Je,Je,Je),xe=Je)},setLocked:function(Je){V=Je},setClear:function(Je,ct,Nt,Kt,jn){jn===!0&&(Je*=Kt,ct*=Kt,Nt*=Kt),le.set(Je,ct,Nt,Kt),Oe.equals(le)===!1&&(n.clearColor(Je,ct,Nt,Kt),Oe.copy(le))},reset:function(){V=!1,xe=null,Oe.set(-1,0,0,0)}}}function s(){let V=!1,le=null,xe=null,Oe=null;return{setTest:function(Je){Je?Ne(2929):ke(2929)},setMask:function(Je){le!==Je&&!V&&(n.depthMask(Je),le=Je)},setFunc:function(Je){if(xe!==Je){switch(Je){case aB:n.depthFunc(512);break;case lB:n.depthFunc(519);break;case cB:n.depthFunc(513);break;case Wm:n.depthFunc(515);break;case uB:n.depthFunc(514);break;case fB:n.depthFunc(518);break;case hB:n.depthFunc(516);break;case dB:n.depthFunc(517);break;default:n.depthFunc(515)}xe=Je}},setLocked:function(Je){V=Je},setClear:function(Je){Oe!==Je&&(n.clearDepth(Je),Oe=Je)},reset:function(){V=!1,le=null,xe=null,Oe=null}}}function o(){let V=!1,le=null,xe=null,Oe=null,Je=null,ct=null,Nt=null,Kt=null,jn=null;return{setTest:function(Bt){V||(Bt?Ne(2960):ke(2960))},setMask:function(Bt){le!==Bt&&!V&&(n.stencilMask(Bt),le=Bt)},setFunc:function(Bt,Un,gi){(xe!==Bt||Oe!==Un||Je!==gi)&&(n.stencilFunc(Bt,Un,gi),xe=Bt,Oe=Un,Je=gi)},setOp:function(Bt,Un,gi){(ct!==Bt||Nt!==Un||Kt!==gi)&&(n.stencilOp(Bt,Un,gi),ct=Bt,Nt=Un,Kt=gi)},setLocked:function(Bt){V=Bt},setClear:function(Bt){jn!==Bt&&(n.clearStencil(Bt),jn=Bt)},reset:function(){V=!1,le=null,xe=null,Oe=null,Je=null,ct=null,Nt=null,Kt=null,jn=null}}}const a=new r,l=new s,u=new o,h=new WeakMap,d=new WeakMap;let p={},m={},v=new WeakMap,y=[],x=null,A=!1,_=null,M=null,S=null,E=null,P=null,R=null,T=null,B=!1,I=null,U=null,Z=null,W=null,H=null;const Q=n.getParameter(35661);let ie=!1,ce=0;const N=n.getParameter(7938);N.indexOf("WebGL")!==-1?(ce=parseFloat(/^WebGL (\d)/.exec(N)[1]),ie=ce>=1):N.indexOf("OpenGL ES")!==-1&&(ce=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),ie=ce>=2);let X=null,j={};const re=n.getParameter(3088),J=n.getParameter(2978),ee=new Ot().fromArray(re),ve=new Ot().fromArray(J);function Ae(V,le,xe){const Oe=new Uint8Array(4),Je=n.createTexture();n.bindTexture(V,Je),n.texParameteri(V,10241,9728),n.texParameteri(V,10240,9728);for(let ct=0;ct<xe;ct++)n.texImage2D(le+ct,0,6408,1,1,0,6408,5121,Oe);return Je}const $={};$[3553]=Ae(3553,3553,1),$[34067]=Ae(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Ne(2929),l.setFunc(Wm),be(!1),Qe(Dx),Ne(2884),Se(Us);function Ne(V){p[V]!==!0&&(n.enable(V),p[V]=!0)}function ke(V){p[V]!==!1&&(n.disable(V),p[V]=!1)}function He(V,le){return m[V]!==le?(n.bindFramebuffer(V,le),m[V]=le,i&&(V===36009&&(m[36160]=le),V===36160&&(m[36009]=le)),!0):!1}function _e(V,le){let xe=y,Oe=!1;if(V)if(xe=v.get(le),xe===void 0&&(xe=[],v.set(le,xe)),V.isWebGLMultipleRenderTargets){const Je=V.texture;if(xe.length!==Je.length||xe[0]!==36064){for(let ct=0,Nt=Je.length;ct<Nt;ct++)xe[ct]=36064+ct;xe.length=Je.length,Oe=!0}}else xe[0]!==36064&&(xe[0]=36064,Oe=!0);else xe[0]!==1029&&(xe[0]=1029,Oe=!0);Oe&&(t.isWebGL2?n.drawBuffers(xe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(xe))}function Be(V){return x!==V?(n.useProgram(V),x=V,!0):!1}const he={[Pa]:32774,[Q2]:32778,[Z2]:32779};if(i)he[Ox]=32775,he[Ux]=32776;else{const V=e.get("EXT_blend_minmax");V!==null&&(he[Ox]=V.MIN_EXT,he[Ux]=V.MAX_EXT)}const oe={[q2]:0,[$2]:1,[eB]:768,[J1]:770,[oB]:776,[rB]:774,[nB]:772,[tB]:769,[X1]:771,[sB]:775,[iB]:773};function Se(V,le,xe,Oe,Je,ct,Nt,Kt){if(V===Us){A===!0&&(ke(3042),A=!1);return}if(A===!1&&(Ne(3042),A=!0),V!==K2){if(V!==_||Kt!==B){if((M!==Pa||P!==Pa)&&(n.blendEquation(32774),M=Pa,P=Pa),Kt)switch(V){case ja:n.blendFuncSeparate(1,771,1,771);break;case Fx:n.blendFunc(1,1);break;case Nx:n.blendFuncSeparate(0,769,0,1);break;case kx:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}else switch(V){case ja:n.blendFuncSeparate(770,771,1,771);break;case Fx:n.blendFunc(770,1);break;case Nx:n.blendFuncSeparate(0,769,0,1);break;case kx:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}S=null,E=null,R=null,T=null,_=V,B=Kt}return}Je=Je||le,ct=ct||xe,Nt=Nt||Oe,(le!==M||Je!==P)&&(n.blendEquationSeparate(he[le],he[Je]),M=le,P=Je),(xe!==S||Oe!==E||ct!==R||Nt!==T)&&(n.blendFuncSeparate(oe[xe],oe[Oe],oe[ct],oe[Nt]),S=xe,E=Oe,R=ct,T=Nt),_=V,B=!1}function Ue(V,le){V.side===Ir?ke(2884):Ne(2884);let xe=V.side===Ti;le&&(xe=!xe),be(xe),V.blending===ja&&V.transparent===!1?Se(Us):Se(V.blending,V.blendEquation,V.blendSrc,V.blendDst,V.blendEquationAlpha,V.blendSrcAlpha,V.blendDstAlpha,V.premultipliedAlpha),l.setFunc(V.depthFunc),l.setTest(V.depthTest),l.setMask(V.depthWrite),a.setMask(V.colorWrite);const Oe=V.stencilWrite;u.setTest(Oe),Oe&&(u.setMask(V.stencilWriteMask),u.setFunc(V.stencilFunc,V.stencilRef,V.stencilFuncMask),u.setOp(V.stencilFail,V.stencilZFail,V.stencilZPass)),je(V.polygonOffset,V.polygonOffsetFactor,V.polygonOffsetUnits),V.alphaToCoverage===!0?Ne(32926):ke(32926)}function be(V){I!==V&&(V?n.frontFace(2304):n.frontFace(2305),I=V)}function Qe(V){V!==J2?(Ne(2884),V!==U&&(V===Dx?n.cullFace(1029):V===X2?n.cullFace(1028):n.cullFace(1032))):ke(2884),U=V}function Ye(V){V!==Z&&(ie&&n.lineWidth(V),Z=V)}function je(V,le,xe){V?(Ne(32823),(W!==le||H!==xe)&&(n.polygonOffset(le,xe),W=le,H=xe)):ke(32823)}function wt(V){V?Ne(3089):ke(3089)}function Mt(V){V===void 0&&(V=33984+Q-1),X!==V&&(n.activeTexture(V),X=V)}function O(V,le,xe){xe===void 0&&(X===null?xe=33984+Q-1:xe=X);let Oe=j[xe];Oe===void 0&&(Oe={type:void 0,texture:void 0},j[xe]=Oe),(Oe.type!==V||Oe.texture!==le)&&(X!==xe&&(n.activeTexture(xe),X=xe),n.bindTexture(V,le||$[V]),Oe.type=V,Oe.texture=le)}function L(){const V=j[X];V!==void 0&&V.type!==void 0&&(n.bindTexture(V.type,null),V.type=void 0,V.texture=void 0)}function se(){try{n.compressedTexImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function we(){try{n.compressedTexImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Te(){try{n.texSubImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function it(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function De(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function me(){try{n.texStorage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ze(){try{n.texStorage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function nt(){try{n.texImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function We(){try{n.texImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function qe(V){ee.equals(V)===!1&&(n.scissor(V.x,V.y,V.z,V.w),ee.copy(V))}function G(V){ve.equals(V)===!1&&(n.viewport(V.x,V.y,V.z,V.w),ve.copy(V))}function ye(V,le){let xe=d.get(le);xe===void 0&&(xe=new WeakMap,d.set(le,xe));let Oe=xe.get(V);Oe===void 0&&(Oe=n.getUniformBlockIndex(le,V.name),xe.set(V,Oe))}function Re(V,le){const Oe=d.get(le).get(V);h.get(le)!==Oe&&(n.uniformBlockBinding(le,Oe,V.__bindingPointIndex),h.set(le,Oe))}function et(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},X=null,j={},m={},v=new WeakMap,y=[],x=null,A=!1,_=null,M=null,S=null,E=null,P=null,R=null,T=null,B=!1,I=null,U=null,Z=null,W=null,H=null,ee.set(0,0,n.canvas.width,n.canvas.height),ve.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Ne,disable:ke,bindFramebuffer:He,drawBuffers:_e,useProgram:Be,setBlending:Se,setMaterial:Ue,setFlipSided:be,setCullFace:Qe,setLineWidth:Ye,setPolygonOffset:je,setScissorTest:wt,activeTexture:Mt,bindTexture:O,unbindTexture:L,compressedTexImage2D:se,compressedTexImage3D:we,texImage2D:nt,texImage3D:We,updateUBOMapping:ye,uniformBlockBinding:Re,texStorage2D:me,texStorage3D:Ze,texSubImage2D:Ce,texSubImage3D:Te,compressedTexSubImage2D:it,compressedTexSubImage3D:De,scissor:qe,viewport:G,reset:et}}function vG(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,h=r.maxTextureSize,d=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let y;const x=new WeakMap;let A=!1;try{A=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(O,L){return A?new OffscreenCanvas(O,L):Kf("canvas")}function M(O,L,se,we){let Ce=1;if((O.width>we||O.height>we)&&(Ce=we/Math.max(O.width,O.height)),Ce<1||L===!0)if(typeof HTMLImageElement<"u"&&O instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&O instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&O instanceof ImageBitmap){const Te=L?Xm:Math.floor,it=Te(Ce*O.width),De=Te(Ce*O.height);y===void 0&&(y=_(it,De));const me=se?_(it,De):y;return me.width=it,me.height=De,me.getContext("2d").drawImage(O,0,0,it,De),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+O.width+"x"+O.height+") to ("+it+"x"+De+")."),me}else return"data"in O&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+O.width+"x"+O.height+")."),O;return O}function S(O){return uA(O.width)&&uA(O.height)}function E(O){return a?!1:O.wrapS!==Hn||O.wrapT!==Hn||O.minFilter!==dn&&O.minFilter!==nn}function P(O,L){return O.generateMipmaps&&L&&O.minFilter!==dn&&O.minFilter!==nn}function R(O){n.generateMipmap(O)}function T(O,L,se,we,Ce=!1){if(a===!1)return L;if(O!==null){if(n[O]!==void 0)return n[O];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+O+"'")}let Te=L;return L===6403&&(se===5126&&(Te=33326),se===5131&&(Te=33325),se===5121&&(Te=33321)),L===33319&&(se===5126&&(Te=33328),se===5131&&(Te=33327),se===5121&&(Te=33323)),L===6408&&(se===5126&&(Te=34836),se===5131&&(Te=34842),se===5121&&(Te=we===Ht&&Ce===!1?35907:32856),se===32819&&(Te=32854),se===32820&&(Te=32855)),(Te===33325||Te===33326||Te===33327||Te===33328||Te===34842||Te===34836)&&e.get("EXT_color_buffer_float"),Te}function B(O,L,se){return P(O,se)===!0||O.isFramebufferTexture&&O.minFilter!==dn&&O.minFilter!==nn?Math.log2(Math.max(L.width,L.height))+1:O.mipmaps!==void 0&&O.mipmaps.length>0?O.mipmaps.length:O.isCompressedTexture&&Array.isArray(O.image)?L.mipmaps.length:1}function I(O){return O===dn||O===jf||O===Ec?9728:9729}function U(O){const L=O.target;L.removeEventListener("dispose",U),W(L),L.isVideoTexture&&v.delete(L)}function Z(O){const L=O.target;L.removeEventListener("dispose",Z),Q(L)}function W(O){const L=i.get(O);if(L.__webglInit===void 0)return;const se=O.source,we=x.get(se);if(we){const Ce=we[L.__cacheKey];Ce.usedTimes--,Ce.usedTimes===0&&H(O),Object.keys(we).length===0&&x.delete(se)}i.remove(O)}function H(O){const L=i.get(O);n.deleteTexture(L.__webglTexture);const se=O.source,we=x.get(se);delete we[L.__cacheKey],o.memory.textures--}function Q(O){const L=O.texture,se=i.get(O),we=i.get(L);if(we.__webglTexture!==void 0&&(n.deleteTexture(we.__webglTexture),o.memory.textures--),O.depthTexture&&O.depthTexture.dispose(),O.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++)n.deleteFramebuffer(se.__webglFramebuffer[Ce]),se.__webglDepthbuffer&&n.deleteRenderbuffer(se.__webglDepthbuffer[Ce]);else{if(n.deleteFramebuffer(se.__webglFramebuffer),se.__webglDepthbuffer&&n.deleteRenderbuffer(se.__webglDepthbuffer),se.__webglMultisampledFramebuffer&&n.deleteFramebuffer(se.__webglMultisampledFramebuffer),se.__webglColorRenderbuffer)for(let Ce=0;Ce<se.__webglColorRenderbuffer.length;Ce++)se.__webglColorRenderbuffer[Ce]&&n.deleteRenderbuffer(se.__webglColorRenderbuffer[Ce]);se.__webglDepthRenderbuffer&&n.deleteRenderbuffer(se.__webglDepthRenderbuffer)}if(O.isWebGLMultipleRenderTargets)for(let Ce=0,Te=L.length;Ce<Te;Ce++){const it=i.get(L[Ce]);it.__webglTexture&&(n.deleteTexture(it.__webglTexture),o.memory.textures--),i.remove(L[Ce])}i.remove(L),i.remove(O)}let ie=0;function ce(){ie=0}function N(){const O=ie;return O>=l&&console.warn("THREE.WebGLTextures: Trying to use "+O+" texture units while this GPU supports only "+l),ie+=1,O}function X(O){const L=[];return L.push(O.wrapS),L.push(O.wrapT),L.push(O.wrapR||0),L.push(O.magFilter),L.push(O.minFilter),L.push(O.anisotropy),L.push(O.internalFormat),L.push(O.format),L.push(O.type),L.push(O.generateMipmaps),L.push(O.premultiplyAlpha),L.push(O.flipY),L.push(O.unpackAlignment),L.push(O.encoding),L.join()}function j(O,L){const se=i.get(O);if(O.isVideoTexture&&wt(O),O.isRenderTargetTexture===!1&&O.version>0&&se.__version!==O.version){const we=O.image;if(we===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ke(se,O,L);return}}t.bindTexture(3553,se.__webglTexture,33984+L)}function re(O,L){const se=i.get(O);if(O.version>0&&se.__version!==O.version){ke(se,O,L);return}t.bindTexture(35866,se.__webglTexture,33984+L)}function J(O,L){const se=i.get(O);if(O.version>0&&se.__version!==O.version){ke(se,O,L);return}t.bindTexture(32879,se.__webglTexture,33984+L)}function ee(O,L){const se=i.get(O);if(O.version>0&&se.__version!==O.version){He(se,O,L);return}t.bindTexture(34067,se.__webglTexture,33984+L)}const ve={[Uo]:10497,[Hn]:33071,[kc]:33648},Ae={[dn]:9728,[jf]:9984,[Ec]:9986,[nn]:9729,[Tg]:9985,[os]:9987};function $(O,L,se){if(se?(n.texParameteri(O,10242,ve[L.wrapS]),n.texParameteri(O,10243,ve[L.wrapT]),(O===32879||O===35866)&&n.texParameteri(O,32882,ve[L.wrapR]),n.texParameteri(O,10240,Ae[L.magFilter]),n.texParameteri(O,10241,Ae[L.minFilter])):(n.texParameteri(O,10242,33071),n.texParameteri(O,10243,33071),(O===32879||O===35866)&&n.texParameteri(O,32882,33071),(L.wrapS!==Hn||L.wrapT!==Hn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(O,10240,I(L.magFilter)),n.texParameteri(O,10241,I(L.minFilter)),L.minFilter!==dn&&L.minFilter!==nn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const we=e.get("EXT_texture_filter_anisotropic");if(L.magFilter===dn||L.minFilter!==Ec&&L.minFilter!==os||L.type===Ds&&e.has("OES_texture_float_linear")===!1||a===!1&&L.type===Oc&&e.has("OES_texture_half_float_linear")===!1)return;(L.anisotropy>1||i.get(L).__currentAnisotropy)&&(n.texParameterf(O,we.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(L.anisotropy,r.getMaxAnisotropy())),i.get(L).__currentAnisotropy=L.anisotropy)}}function Ne(O,L){let se=!1;O.__webglInit===void 0&&(O.__webglInit=!0,L.addEventListener("dispose",U));const we=L.source;let Ce=x.get(we);Ce===void 0&&(Ce={},x.set(we,Ce));const Te=X(L);if(Te!==O.__cacheKey){Ce[Te]===void 0&&(Ce[Te]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,se=!0),Ce[Te].usedTimes++;const it=Ce[O.__cacheKey];it!==void 0&&(Ce[O.__cacheKey].usedTimes--,it.usedTimes===0&&H(L)),O.__cacheKey=Te,O.__webglTexture=Ce[Te].texture}return se}function ke(O,L,se){let we=3553;(L.isDataArrayTexture||L.isCompressedArrayTexture)&&(we=35866),L.isData3DTexture&&(we=32879);const Ce=Ne(O,L),Te=L.source;t.bindTexture(we,O.__webglTexture,33984+se);const it=i.get(Te);if(Te.version!==it.__version||Ce===!0){t.activeTexture(33984+se),n.pixelStorei(37440,L.flipY),n.pixelStorei(37441,L.premultiplyAlpha),n.pixelStorei(3317,L.unpackAlignment),n.pixelStorei(37443,0);const De=E(L)&&S(L.image)===!1;let me=M(L.image,De,!1,h);me=Mt(L,me);const Ze=S(me)||a,nt=s.convert(L.format,L.encoding);let We=s.convert(L.type),qe=T(L.internalFormat,nt,We,L.encoding,L.isVideoTexture);$(we,L,Ze);let G;const ye=L.mipmaps,Re=a&&L.isVideoTexture!==!0,et=it.__version===void 0||Ce===!0,V=B(L,me,Ze);if(L.isDepthTexture)qe=6402,a?L.type===Ds?qe=36012:L.type===Mo?qe=33190:L.type===Ja?qe=35056:qe=33189:L.type===Ds&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),L.format===Io&&qe===6402&&L.type!==K1&&L.type!==Mo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),L.type=Mo,We=s.convert(L.type)),L.format===il&&qe===6402&&(qe=34041,L.type!==Ja&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),L.type=Ja,We=s.convert(L.type))),et&&(Re?t.texStorage2D(3553,1,qe,me.width,me.height):t.texImage2D(3553,0,qe,me.width,me.height,0,nt,We,null));else if(L.isDataTexture)if(ye.length>0&&Ze){Re&&et&&t.texStorage2D(3553,V,qe,ye[0].width,ye[0].height);for(let le=0,xe=ye.length;le<xe;le++)G=ye[le],Re?t.texSubImage2D(3553,le,0,0,G.width,G.height,nt,We,G.data):t.texImage2D(3553,le,qe,G.width,G.height,0,nt,We,G.data);L.generateMipmaps=!1}else Re?(et&&t.texStorage2D(3553,V,qe,me.width,me.height),t.texSubImage2D(3553,0,0,0,me.width,me.height,nt,We,me.data)):t.texImage2D(3553,0,qe,me.width,me.height,0,nt,We,me.data);else if(L.isCompressedTexture)if(L.isCompressedArrayTexture){Re&&et&&t.texStorage3D(35866,V,qe,ye[0].width,ye[0].height,me.depth);for(let le=0,xe=ye.length;le<xe;le++)G=ye[le],L.format!==wi?nt!==null?Re?t.compressedTexSubImage3D(35866,le,0,0,0,G.width,G.height,me.depth,nt,G.data,0,0):t.compressedTexImage3D(35866,le,qe,G.width,G.height,me.depth,0,G.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Re?t.texSubImage3D(35866,le,0,0,0,G.width,G.height,me.depth,nt,We,G.data):t.texImage3D(35866,le,qe,G.width,G.height,me.depth,0,nt,We,G.data)}else{Re&&et&&t.texStorage2D(3553,V,qe,ye[0].width,ye[0].height);for(let le=0,xe=ye.length;le<xe;le++)G=ye[le],L.format!==wi?nt!==null?Re?t.compressedTexSubImage2D(3553,le,0,0,G.width,G.height,nt,G.data):t.compressedTexImage2D(3553,le,qe,G.width,G.height,0,G.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Re?t.texSubImage2D(3553,le,0,0,G.width,G.height,nt,We,G.data):t.texImage2D(3553,le,qe,G.width,G.height,0,nt,We,G.data)}else if(L.isDataArrayTexture)Re?(et&&t.texStorage3D(35866,V,qe,me.width,me.height,me.depth),t.texSubImage3D(35866,0,0,0,0,me.width,me.height,me.depth,nt,We,me.data)):t.texImage3D(35866,0,qe,me.width,me.height,me.depth,0,nt,We,me.data);else if(L.isData3DTexture)Re?(et&&t.texStorage3D(32879,V,qe,me.width,me.height,me.depth),t.texSubImage3D(32879,0,0,0,0,me.width,me.height,me.depth,nt,We,me.data)):t.texImage3D(32879,0,qe,me.width,me.height,me.depth,0,nt,We,me.data);else if(L.isFramebufferTexture){if(et)if(Re)t.texStorage2D(3553,V,qe,me.width,me.height);else{let le=me.width,xe=me.height;for(let Oe=0;Oe<V;Oe++)t.texImage2D(3553,Oe,qe,le,xe,0,nt,We,null),le>>=1,xe>>=1}}else if(ye.length>0&&Ze){Re&&et&&t.texStorage2D(3553,V,qe,ye[0].width,ye[0].height);for(let le=0,xe=ye.length;le<xe;le++)G=ye[le],Re?t.texSubImage2D(3553,le,0,0,nt,We,G):t.texImage2D(3553,le,qe,nt,We,G);L.generateMipmaps=!1}else Re?(et&&t.texStorage2D(3553,V,qe,me.width,me.height),t.texSubImage2D(3553,0,0,0,nt,We,me)):t.texImage2D(3553,0,qe,nt,We,me);P(L,Ze)&&R(we),it.__version=Te.version,L.onUpdate&&L.onUpdate(L)}O.__version=L.version}function He(O,L,se){if(L.image.length!==6)return;const we=Ne(O,L),Ce=L.source;t.bindTexture(34067,O.__webglTexture,33984+se);const Te=i.get(Ce);if(Ce.version!==Te.__version||we===!0){t.activeTexture(33984+se),n.pixelStorei(37440,L.flipY),n.pixelStorei(37441,L.premultiplyAlpha),n.pixelStorei(3317,L.unpackAlignment),n.pixelStorei(37443,0);const it=L.isCompressedTexture||L.image[0].isCompressedTexture,De=L.image[0]&&L.image[0].isDataTexture,me=[];for(let le=0;le<6;le++)!it&&!De?me[le]=M(L.image[le],!1,!0,u):me[le]=De?L.image[le].image:L.image[le],me[le]=Mt(L,me[le]);const Ze=me[0],nt=S(Ze)||a,We=s.convert(L.format,L.encoding),qe=s.convert(L.type),G=T(L.internalFormat,We,qe,L.encoding),ye=a&&L.isVideoTexture!==!0,Re=Te.__version===void 0||we===!0;let et=B(L,Ze,nt);$(34067,L,nt);let V;if(it){ye&&Re&&t.texStorage2D(34067,et,G,Ze.width,Ze.height);for(let le=0;le<6;le++){V=me[le].mipmaps;for(let xe=0;xe<V.length;xe++){const Oe=V[xe];L.format!==wi?We!==null?ye?t.compressedTexSubImage2D(34069+le,xe,0,0,Oe.width,Oe.height,We,Oe.data):t.compressedTexImage2D(34069+le,xe,G,Oe.width,Oe.height,0,Oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ye?t.texSubImage2D(34069+le,xe,0,0,Oe.width,Oe.height,We,qe,Oe.data):t.texImage2D(34069+le,xe,G,Oe.width,Oe.height,0,We,qe,Oe.data)}}}else{V=L.mipmaps,ye&&Re&&(V.length>0&&et++,t.texStorage2D(34067,et,G,me[0].width,me[0].height));for(let le=0;le<6;le++)if(De){ye?t.texSubImage2D(34069+le,0,0,0,me[le].width,me[le].height,We,qe,me[le].data):t.texImage2D(34069+le,0,G,me[le].width,me[le].height,0,We,qe,me[le].data);for(let xe=0;xe<V.length;xe++){const Je=V[xe].image[le].image;ye?t.texSubImage2D(34069+le,xe+1,0,0,Je.width,Je.height,We,qe,Je.data):t.texImage2D(34069+le,xe+1,G,Je.width,Je.height,0,We,qe,Je.data)}}else{ye?t.texSubImage2D(34069+le,0,0,0,We,qe,me[le]):t.texImage2D(34069+le,0,G,We,qe,me[le]);for(let xe=0;xe<V.length;xe++){const Oe=V[xe];ye?t.texSubImage2D(34069+le,xe+1,0,0,We,qe,Oe.image[le]):t.texImage2D(34069+le,xe+1,G,We,qe,Oe.image[le])}}}P(L,nt)&&R(34067),Te.__version=Ce.version,L.onUpdate&&L.onUpdate(L)}O.__version=L.version}function _e(O,L,se,we,Ce){const Te=s.convert(se.format,se.encoding),it=s.convert(se.type),De=T(se.internalFormat,Te,it,se.encoding);i.get(L).__hasExternalTextures||(Ce===32879||Ce===35866?t.texImage3D(Ce,0,De,L.width,L.height,L.depth,0,Te,it,null):t.texImage2D(Ce,0,De,L.width,L.height,0,Te,it,null)),t.bindFramebuffer(36160,O),je(L)?p.framebufferTexture2DMultisampleEXT(36160,we,Ce,i.get(se).__webglTexture,0,Ye(L)):(Ce===3553||Ce>=34069&&Ce<=34074)&&n.framebufferTexture2D(36160,we,Ce,i.get(se).__webglTexture,0),t.bindFramebuffer(36160,null)}function Be(O,L,se){if(n.bindRenderbuffer(36161,O),L.depthBuffer&&!L.stencilBuffer){let we=33189;if(se||je(L)){const Ce=L.depthTexture;Ce&&Ce.isDepthTexture&&(Ce.type===Ds?we=36012:Ce.type===Mo&&(we=33190));const Te=Ye(L);je(L)?p.renderbufferStorageMultisampleEXT(36161,Te,we,L.width,L.height):n.renderbufferStorageMultisample(36161,Te,we,L.width,L.height)}else n.renderbufferStorage(36161,we,L.width,L.height);n.framebufferRenderbuffer(36160,36096,36161,O)}else if(L.depthBuffer&&L.stencilBuffer){const we=Ye(L);se&&je(L)===!1?n.renderbufferStorageMultisample(36161,we,35056,L.width,L.height):je(L)?p.renderbufferStorageMultisampleEXT(36161,we,35056,L.width,L.height):n.renderbufferStorage(36161,34041,L.width,L.height),n.framebufferRenderbuffer(36160,33306,36161,O)}else{const we=L.isWebGLMultipleRenderTargets===!0?L.texture:[L.texture];for(let Ce=0;Ce<we.length;Ce++){const Te=we[Ce],it=s.convert(Te.format,Te.encoding),De=s.convert(Te.type),me=T(Te.internalFormat,it,De,Te.encoding),Ze=Ye(L);se&&je(L)===!1?n.renderbufferStorageMultisample(36161,Ze,me,L.width,L.height):je(L)?p.renderbufferStorageMultisampleEXT(36161,Ze,me,L.width,L.height):n.renderbufferStorage(36161,me,L.width,L.height)}}n.bindRenderbuffer(36161,null)}function he(O,L){if(L&&L.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,O),!(L.depthTexture&&L.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(L.depthTexture).__webglTexture||L.depthTexture.image.width!==L.width||L.depthTexture.image.height!==L.height)&&(L.depthTexture.image.width=L.width,L.depthTexture.image.height=L.height,L.depthTexture.needsUpdate=!0),j(L.depthTexture,0);const we=i.get(L.depthTexture).__webglTexture,Ce=Ye(L);if(L.depthTexture.format===Io)je(L)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,we,0,Ce):n.framebufferTexture2D(36160,36096,3553,we,0);else if(L.depthTexture.format===il)je(L)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,we,0,Ce):n.framebufferTexture2D(36160,33306,3553,we,0);else throw new Error("Unknown depthTexture format")}function oe(O){const L=i.get(O),se=O.isWebGLCubeRenderTarget===!0;if(O.depthTexture&&!L.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");he(L.__webglFramebuffer,O)}else if(se){L.__webglDepthbuffer=[];for(let we=0;we<6;we++)t.bindFramebuffer(36160,L.__webglFramebuffer[we]),L.__webglDepthbuffer[we]=n.createRenderbuffer(),Be(L.__webglDepthbuffer[we],O,!1)}else t.bindFramebuffer(36160,L.__webglFramebuffer),L.__webglDepthbuffer=n.createRenderbuffer(),Be(L.__webglDepthbuffer,O,!1);t.bindFramebuffer(36160,null)}function Se(O,L,se){const we=i.get(O);L!==void 0&&_e(we.__webglFramebuffer,O,O.texture,36064,3553),se!==void 0&&oe(O)}function Ue(O){const L=O.texture,se=i.get(O),we=i.get(L);O.addEventListener("dispose",Z),O.isWebGLMultipleRenderTargets!==!0&&(we.__webglTexture===void 0&&(we.__webglTexture=n.createTexture()),we.__version=L.version,o.memory.textures++);const Ce=O.isWebGLCubeRenderTarget===!0,Te=O.isWebGLMultipleRenderTargets===!0,it=S(O)||a;if(Ce){se.__webglFramebuffer=[];for(let De=0;De<6;De++)se.__webglFramebuffer[De]=n.createFramebuffer()}else{if(se.__webglFramebuffer=n.createFramebuffer(),Te)if(r.drawBuffers){const De=O.texture;for(let me=0,Ze=De.length;me<Ze;me++){const nt=i.get(De[me]);nt.__webglTexture===void 0&&(nt.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&O.samples>0&&je(O)===!1){const De=Te?L:[L];se.__webglMultisampledFramebuffer=n.createFramebuffer(),se.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,se.__webglMultisampledFramebuffer);for(let me=0;me<De.length;me++){const Ze=De[me];se.__webglColorRenderbuffer[me]=n.createRenderbuffer(),n.bindRenderbuffer(36161,se.__webglColorRenderbuffer[me]);const nt=s.convert(Ze.format,Ze.encoding),We=s.convert(Ze.type),qe=T(Ze.internalFormat,nt,We,Ze.encoding,O.isXRRenderTarget===!0),G=Ye(O);n.renderbufferStorageMultisample(36161,G,qe,O.width,O.height),n.framebufferRenderbuffer(36160,36064+me,36161,se.__webglColorRenderbuffer[me])}n.bindRenderbuffer(36161,null),O.depthBuffer&&(se.__webglDepthRenderbuffer=n.createRenderbuffer(),Be(se.__webglDepthRenderbuffer,O,!0)),t.bindFramebuffer(36160,null)}}if(Ce){t.bindTexture(34067,we.__webglTexture),$(34067,L,it);for(let De=0;De<6;De++)_e(se.__webglFramebuffer[De],O,L,36064,34069+De);P(L,it)&&R(34067),t.unbindTexture()}else if(Te){const De=O.texture;for(let me=0,Ze=De.length;me<Ze;me++){const nt=De[me],We=i.get(nt);t.bindTexture(3553,We.__webglTexture),$(3553,nt,it),_e(se.__webglFramebuffer,O,nt,36064+me,3553),P(nt,it)&&R(3553)}t.unbindTexture()}else{let De=3553;(O.isWebGL3DRenderTarget||O.isWebGLArrayRenderTarget)&&(a?De=O.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(De,we.__webglTexture),$(De,L,it),_e(se.__webglFramebuffer,O,L,36064,De),P(L,it)&&R(De),t.unbindTexture()}O.depthBuffer&&oe(O)}function be(O){const L=S(O)||a,se=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let we=0,Ce=se.length;we<Ce;we++){const Te=se[we];if(P(Te,L)){const it=O.isWebGLCubeRenderTarget?34067:3553,De=i.get(Te).__webglTexture;t.bindTexture(it,De),R(it),t.unbindTexture()}}}function Qe(O){if(a&&O.samples>0&&je(O)===!1){const L=O.isWebGLMultipleRenderTargets?O.texture:[O.texture],se=O.width,we=O.height;let Ce=16384;const Te=[],it=O.stencilBuffer?33306:36096,De=i.get(O),me=O.isWebGLMultipleRenderTargets===!0;if(me)for(let Ze=0;Ze<L.length;Ze++)t.bindFramebuffer(36160,De.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ze,36161,null),t.bindFramebuffer(36160,De.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ze,3553,null,0);t.bindFramebuffer(36008,De.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,De.__webglFramebuffer);for(let Ze=0;Ze<L.length;Ze++){Te.push(36064+Ze),O.depthBuffer&&Te.push(it);const nt=De.__ignoreDepthValues!==void 0?De.__ignoreDepthValues:!1;if(nt===!1&&(O.depthBuffer&&(Ce|=256),O.stencilBuffer&&(Ce|=1024)),me&&n.framebufferRenderbuffer(36008,36064,36161,De.__webglColorRenderbuffer[Ze]),nt===!0&&(n.invalidateFramebuffer(36008,[it]),n.invalidateFramebuffer(36009,[it])),me){const We=i.get(L[Ze]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,We,0)}n.blitFramebuffer(0,0,se,we,0,0,se,we,Ce,9728),m&&n.invalidateFramebuffer(36008,Te)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),me)for(let Ze=0;Ze<L.length;Ze++){t.bindFramebuffer(36160,De.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ze,36161,De.__webglColorRenderbuffer[Ze]);const nt=i.get(L[Ze]).__webglTexture;t.bindFramebuffer(36160,De.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ze,3553,nt,0)}t.bindFramebuffer(36009,De.__webglMultisampledFramebuffer)}}function Ye(O){return Math.min(d,O.samples)}function je(O){const L=i.get(O);return a&&O.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&L.__useRenderToTexture!==!1}function wt(O){const L=o.render.frame;v.get(O)!==L&&(v.set(O,L),O.update())}function Mt(O,L){const se=O.encoding,we=O.format,Ce=O.type;return O.isCompressedTexture===!0||O.isVideoTexture===!0||O.format===Jm||se!==zo&&(se===Ht?a===!1?e.has("EXT_sRGB")===!0&&we===wi?(O.format=Jm,O.minFilter=nn,O.generateMipmaps=!1):L=e_.sRGBToLinear(L):(we!==wi||Ce!==Xs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",se)),L}this.allocateTextureUnit=N,this.resetTextureUnits=ce,this.setTexture2D=j,this.setTexture2DArray=re,this.setTexture3D=J,this.setTextureCube=ee,this.rebindTextures=Se,this.setupRenderTarget=Ue,this.updateRenderTargetMipmap=be,this.updateMultisampleRenderTarget=Qe,this.setupDepthRenderbuffer=oe,this.setupFrameBufferTexture=_e,this.useMultisampledRTT=je}function $B(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===Xs)return 5121;if(s===MB)return 32819;if(s===SB)return 32820;if(s===AB)return 5120;if(s===_B)return 5122;if(s===K1)return 5123;if(s===wB)return 5124;if(s===Mo)return 5125;if(s===Ds)return 5126;if(s===Oc)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===CB)return 6406;if(s===wi)return 6408;if(s===EB)return 6409;if(s===TB)return 6410;if(s===Io)return 6402;if(s===il)return 34041;if(s===Jm)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===bB)return 6403;if(s===PB)return 36244;if(s===BB)return 33319;if(s===RB)return 33320;if(s===IB)return 36249;if(s===om||s===am||s===lm||s===cm)if(o===Ht)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===om)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===am)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===lm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===cm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===om)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===am)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===lm)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===cm)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===zx||s===Gx||s===Hx||s===Vx)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===zx)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Gx)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Hx)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Vx)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===LB)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Wx||s===jx)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Wx)return o===Ht?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===jx)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Jx||s===Xx||s===Yx||s===Kx||s===Qx||s===Zx||s===qx||s===$x||s===eA||s===tA||s===nA||s===iA||s===rA||s===sA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Jx)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Xx)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Yx)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Kx)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Qx)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Zx)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===qx)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===$x)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===eA)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===tA)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===nA)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===iA)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===rA)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===sA)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===um)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===um)return o===Ht?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===DB||s===oA||s===aA||s===lA)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===um)return a.COMPRESSED_RED_RGTC1_EXT;if(s===oA)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===aA)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===lA)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Ja?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class eR extends Xt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ns extends Tt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const xG={type:"move"};class ev{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ns,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ns,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new D,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new D),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ns,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new D,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new D),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const y of e.hand.values()){const x=t.getJointPose(y,i),A=this._getHandJoint(u,y);x!==null&&(A.matrix.fromArray(x.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.jointRadius=x.radius),A.visible=x!==null}const h=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],p=h.position.distanceTo(d.position),m=.02,v=.005;u.inputState.pinching&&p>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(xG)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Ns;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class tR extends jt{constructor(e,t,i,r,s,o,a,l,u,h){if(h=h!==void 0?h:Io,h!==Io&&h!==il)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&h===Io&&(i=Mo),i===void 0&&h===il&&(i=Ja),super(null,r,s,o,a,l,h,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:dn,this.minFilter=l!==void 0?l:dn,this.flipY=!1,this.generateMipmaps=!1}}class AG extends cs{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,u=null,h=null,d=null,p=null,m=null,v=null;const y=t.getContextAttributes();let x=null,A=null;const _=[],M=[],S=new Set,E=new Map,P=new Xt;P.layers.enable(1),P.viewport=new Ot;const R=new Xt;R.layers.enable(2),R.viewport=new Ot;const T=[P,R],B=new eR;B.layers.enable(1),B.layers.enable(2);let I=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let ee=_[J];return ee===void 0&&(ee=new ev,_[J]=ee),ee.getTargetRaySpace()},this.getControllerGrip=function(J){let ee=_[J];return ee===void 0&&(ee=new ev,_[J]=ee),ee.getGripSpace()},this.getHand=function(J){let ee=_[J];return ee===void 0&&(ee=new ev,_[J]=ee),ee.getHandSpace()};function Z(J){const ee=M.indexOf(J.inputSource);if(ee===-1)return;const ve=_[ee];ve!==void 0&&ve.dispatchEvent({type:J.type,data:J.inputSource})}function W(){r.removeEventListener("select",Z),r.removeEventListener("selectstart",Z),r.removeEventListener("selectend",Z),r.removeEventListener("squeeze",Z),r.removeEventListener("squeezestart",Z),r.removeEventListener("squeezeend",Z),r.removeEventListener("end",W),r.removeEventListener("inputsourceschange",H);for(let J=0;J<_.length;J++){const ee=M[J];ee!==null&&(M[J]=null,_[J].disconnect(ee))}I=null,U=null,e.setRenderTarget(x),m=null,p=null,d=null,r=null,A=null,re.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){s=J,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){a=J,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(J){u=J},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(J){if(r=J,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",Z),r.addEventListener("selectstart",Z),r.addEventListener("selectend",Z),r.addEventListener("squeeze",Z),r.addEventListener("squeezestart",Z),r.addEventListener("squeezeend",Z),r.addEventListener("end",W),r.addEventListener("inputsourceschange",H),y.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ee={antialias:r.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,ee),r.updateRenderState({baseLayer:m}),A=new Or(m.framebufferWidth,m.framebufferHeight,{format:wi,type:Xs,encoding:e.outputEncoding,stencilBuffer:y.stencil})}else{let ee=null,ve=null,Ae=null;y.depth&&(Ae=y.stencil?35056:33190,ee=y.stencil?il:Io,ve=y.stencil?Ja:Mo);const $={colorFormat:32856,depthFormat:Ae,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer($),r.updateRenderState({layers:[p]}),A=new Or(p.textureWidth,p.textureHeight,{format:wi,type:Xs,depthTexture:new tR(p.textureWidth,p.textureHeight,ve,void 0,void 0,void 0,void 0,void 0,void 0,ee),stencilBuffer:y.stencil,encoding:e.outputEncoding,samples:y.antialias?4:0});const Ne=e.properties.get(A);Ne.__ignoreDepthValues=p.ignoreDepthValues}A.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await r.requestReferenceSpace(a),re.setContext(r),re.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function H(J){for(let ee=0;ee<J.removed.length;ee++){const ve=J.removed[ee],Ae=M.indexOf(ve);Ae>=0&&(M[Ae]=null,_[Ae].disconnect(ve))}for(let ee=0;ee<J.added.length;ee++){const ve=J.added[ee];let Ae=M.indexOf(ve);if(Ae===-1){for(let Ne=0;Ne<_.length;Ne++)if(Ne>=M.length){M.push(ve),Ae=Ne;break}else if(M[Ne]===null){M[Ne]=ve,Ae=Ne;break}if(Ae===-1)break}const $=_[Ae];$&&$.connect(ve)}}const Q=new D,ie=new D;function ce(J,ee,ve){Q.setFromMatrixPosition(ee.matrixWorld),ie.setFromMatrixPosition(ve.matrixWorld);const Ae=Q.distanceTo(ie),$=ee.projectionMatrix.elements,Ne=ve.projectionMatrix.elements,ke=$[14]/($[10]-1),He=$[14]/($[10]+1),_e=($[9]+1)/$[5],Be=($[9]-1)/$[5],he=($[8]-1)/$[0],oe=(Ne[8]+1)/Ne[0],Se=ke*he,Ue=ke*oe,be=Ae/(-he+oe),Qe=be*-he;ee.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(Qe),J.translateZ(be),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert();const Ye=ke+be,je=He+be,wt=Se-Qe,Mt=Ue+(Ae-Qe),O=_e*He/je*Ye,L=Be*He/je*Ye;J.projectionMatrix.makePerspective(wt,Mt,O,L,Ye,je)}function N(J,ee){ee===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(ee.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(r===null)return;B.near=R.near=P.near=J.near,B.far=R.far=P.far=J.far,(I!==B.near||U!==B.far)&&(r.updateRenderState({depthNear:B.near,depthFar:B.far}),I=B.near,U=B.far);const ee=J.parent,ve=B.cameras;N(B,ee);for(let $=0;$<ve.length;$++)N(ve[$],ee);B.matrixWorld.decompose(B.position,B.quaternion,B.scale),J.matrix.copy(B.matrix),J.matrix.decompose(J.position,J.quaternion,J.scale);const Ae=J.children;for(let $=0,Ne=Ae.length;$<Ne;$++)Ae[$].updateMatrixWorld(!0);ve.length===2?ce(B,P,R):B.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return B},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(J){l=J,p!==null&&(p.fixedFoveation=J),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=J)},this.getPlanes=function(){return S};let X=null;function j(J,ee){if(h=ee.getViewerPose(u||o),v=ee,h!==null){const ve=h.views;m!==null&&(e.setRenderTargetFramebuffer(A,m.framebuffer),e.setRenderTarget(A));let Ae=!1;ve.length!==B.cameras.length&&(B.cameras.length=0,Ae=!0);for(let $=0;$<ve.length;$++){const Ne=ve[$];let ke=null;if(m!==null)ke=m.getViewport(Ne);else{const _e=d.getViewSubImage(p,Ne);ke=_e.viewport,$===0&&(e.setRenderTargetTextures(A,_e.colorTexture,p.ignoreDepthValues?void 0:_e.depthStencilTexture),e.setRenderTarget(A))}let He=T[$];He===void 0&&(He=new Xt,He.layers.enable($),He.viewport=new Ot,T[$]=He),He.matrix.fromArray(Ne.transform.matrix),He.projectionMatrix.fromArray(Ne.projectionMatrix),He.viewport.set(ke.x,ke.y,ke.width,ke.height),$===0&&B.matrix.copy(He.matrix),Ae===!0&&B.cameras.push(He)}}for(let ve=0;ve<_.length;ve++){const Ae=M[ve],$=_[ve];Ae!==null&&$!==void 0&&$.update(Ae,ee,u||o)}if(X&&X(J,ee),ee.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:ee.detectedPlanes});let ve=null;for(const Ae of S)ee.detectedPlanes.has(Ae)||(ve===null&&(ve=[]),ve.push(Ae));if(ve!==null)for(const Ae of ve)S.delete(Ae),E.delete(Ae),i.dispatchEvent({type:"planeremoved",data:Ae});for(const Ae of ee.detectedPlanes)if(!S.has(Ae))S.add(Ae),E.set(Ae,ee.lastChangedTime),i.dispatchEvent({type:"planeadded",data:Ae});else{const $=E.get(Ae);Ae.lastChangedTime>$&&(E.set(Ae,Ae.lastChangedTime),i.dispatchEvent({type:"planechanged",data:Ae}))}}v=null}const re=new YB;re.setAnimationLoop(j),this.setAnimationLoop=function(J){X=J},this.dispose=function(){}}}function _G(n,e){function t(y,x){x.color.getRGB(y.fogColor.value,JB(n)),x.isFog?(y.fogNear.value=x.near,y.fogFar.value=x.far):x.isFogExp2&&(y.fogDensity.value=x.density)}function i(y,x,A,_,M){x.isMeshBasicMaterial||x.isMeshLambertMaterial?r(y,x):x.isMeshToonMaterial?(r(y,x),h(y,x)):x.isMeshPhongMaterial?(r(y,x),u(y,x)):x.isMeshStandardMaterial?(r(y,x),d(y,x),x.isMeshPhysicalMaterial&&p(y,x,M)):x.isMeshMatcapMaterial?(r(y,x),m(y,x)):x.isMeshDepthMaterial?r(y,x):x.isMeshDistanceMaterial?(r(y,x),v(y,x)):x.isMeshNormalMaterial?r(y,x):x.isLineBasicMaterial?(s(y,x),x.isLineDashedMaterial&&o(y,x)):x.isPointsMaterial?a(y,x,A,_):x.isSpriteMaterial?l(y,x):x.isShadowMaterial?(y.color.value.copy(x.color),y.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function r(y,x){y.opacity.value=x.opacity,x.color&&y.diffuse.value.copy(x.color),x.emissive&&y.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.bumpMap&&(y.bumpMap.value=x.bumpMap,y.bumpScale.value=x.bumpScale,x.side===Ti&&(y.bumpScale.value*=-1)),x.displacementMap&&(y.displacementMap.value=x.displacementMap,y.displacementScale.value=x.displacementScale,y.displacementBias.value=x.displacementBias),x.emissiveMap&&(y.emissiveMap.value=x.emissiveMap),x.normalMap&&(y.normalMap.value=x.normalMap,y.normalScale.value.copy(x.normalScale),x.side===Ti&&y.normalScale.value.negate()),x.specularMap&&(y.specularMap.value=x.specularMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);const A=e.get(x).envMap;if(A&&(y.envMap.value=A,y.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=x.reflectivity,y.ior.value=x.ior,y.refractionRatio.value=x.refractionRatio),x.lightMap){y.lightMap.value=x.lightMap;const S=n.physicallyCorrectLights!==!0?Math.PI:1;y.lightMapIntensity.value=x.lightMapIntensity*S}x.aoMap&&(y.aoMap.value=x.aoMap,y.aoMapIntensity.value=x.aoMapIntensity);let _;x.map?_=x.map:x.specularMap?_=x.specularMap:x.displacementMap?_=x.displacementMap:x.normalMap?_=x.normalMap:x.bumpMap?_=x.bumpMap:x.roughnessMap?_=x.roughnessMap:x.metalnessMap?_=x.metalnessMap:x.alphaMap?_=x.alphaMap:x.emissiveMap?_=x.emissiveMap:x.clearcoatMap?_=x.clearcoatMap:x.clearcoatNormalMap?_=x.clearcoatNormalMap:x.clearcoatRoughnessMap?_=x.clearcoatRoughnessMap:x.iridescenceMap?_=x.iridescenceMap:x.iridescenceThicknessMap?_=x.iridescenceThicknessMap:x.specularIntensityMap?_=x.specularIntensityMap:x.specularColorMap?_=x.specularColorMap:x.transmissionMap?_=x.transmissionMap:x.thicknessMap?_=x.thicknessMap:x.sheenColorMap?_=x.sheenColorMap:x.sheenRoughnessMap&&(_=x.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),y.uvTransform.value.copy(_.matrix));let M;x.aoMap?M=x.aoMap:x.lightMap&&(M=x.lightMap),M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),y.uv2Transform.value.copy(M.matrix))}function s(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity}function o(y,x){y.dashSize.value=x.dashSize,y.totalSize.value=x.dashSize+x.gapSize,y.scale.value=x.scale}function a(y,x,A,_){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.size.value=x.size*A,y.scale.value=_*.5,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let M;x.map?M=x.map:x.alphaMap&&(M=x.alphaMap),M!==void 0&&(M.matrixAutoUpdate===!0&&M.updateMatrix(),y.uvTransform.value.copy(M.matrix))}function l(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.rotation.value=x.rotation,x.map&&(y.map.value=x.map),x.alphaMap&&(y.alphaMap.value=x.alphaMap),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);let A;x.map?A=x.map:x.alphaMap&&(A=x.alphaMap),A!==void 0&&(A.matrixAutoUpdate===!0&&A.updateMatrix(),y.uvTransform.value.copy(A.matrix))}function u(y,x){y.specular.value.copy(x.specular),y.shininess.value=Math.max(x.shininess,1e-4)}function h(y,x){x.gradientMap&&(y.gradientMap.value=x.gradientMap)}function d(y,x){y.roughness.value=x.roughness,y.metalness.value=x.metalness,x.roughnessMap&&(y.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(y.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(y.envMapIntensity.value=x.envMapIntensity)}function p(y,x,A){y.ior.value=x.ior,x.sheen>0&&(y.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),y.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(y.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(y.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(y.clearcoat.value=x.clearcoat,y.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(y.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),y.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===Ti&&y.clearcoatNormalScale.value.negate())),x.iridescence>0&&(y.iridescence.value=x.iridescence,y.iridescenceIOR.value=x.iridescenceIOR,y.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(y.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(y.transmission.value=x.transmission,y.transmissionSamplerMap.value=A.texture,y.transmissionSamplerSize.value.set(A.width,A.height),x.transmissionMap&&(y.transmissionMap.value=x.transmissionMap),y.thickness.value=x.thickness,x.thicknessMap&&(y.thicknessMap.value=x.thicknessMap),y.attenuationDistance.value=x.attenuationDistance,y.attenuationColor.value.copy(x.attenuationColor)),y.specularIntensity.value=x.specularIntensity,y.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(y.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(y.specularColorMap.value=x.specularColorMap)}function m(y,x){x.matcap&&(y.matcap.value=x.matcap)}function v(y,x){y.referencePosition.value.copy(x.referencePosition),y.nearDistance.value=x.nearDistance,y.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function wG(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,M){const S=M.program;i.uniformBlockBinding(_,S)}function u(_,M){let S=r[_.id];S===void 0&&(v(_),S=h(_),r[_.id]=S,_.addEventListener("dispose",x));const E=M.program;i.updateUBOMapping(_,E);const P=e.render.frame;s[_.id]!==P&&(p(_),s[_.id]=P)}function h(_){const M=d();_.__bindingPointIndex=M;const S=n.createBuffer(),E=_.__size,P=_.usage;return n.bindBuffer(35345,S),n.bufferData(35345,E,P),n.bindBuffer(35345,null),n.bindBufferBase(35345,M,S),S}function d(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const M=r[_.id],S=_.uniforms,E=_.__cache;n.bindBuffer(35345,M);for(let P=0,R=S.length;P<R;P++){const T=S[P];if(m(T,P,E)===!0){const B=T.__offset,I=Array.isArray(T.value)?T.value:[T.value];let U=0;for(let Z=0;Z<I.length;Z++){const W=I[Z],H=y(W);typeof W=="number"?(T.__data[0]=W,n.bufferSubData(35345,B+U,T.__data)):W.isMatrix3?(T.__data[0]=W.elements[0],T.__data[1]=W.elements[1],T.__data[2]=W.elements[2],T.__data[3]=W.elements[0],T.__data[4]=W.elements[3],T.__data[5]=W.elements[4],T.__data[6]=W.elements[5],T.__data[7]=W.elements[0],T.__data[8]=W.elements[6],T.__data[9]=W.elements[7],T.__data[10]=W.elements[8],T.__data[11]=W.elements[0]):(W.toArray(T.__data,U),U+=H.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,B,T.__data)}}n.bindBuffer(35345,null)}function m(_,M,S){const E=_.value;if(S[M]===void 0){if(typeof E=="number")S[M]=E;else{const P=Array.isArray(E)?E:[E],R=[];for(let T=0;T<P.length;T++)R.push(P[T].clone());S[M]=R}return!0}else if(typeof E=="number"){if(S[M]!==E)return S[M]=E,!0}else{const P=Array.isArray(S[M])?S[M]:[S[M]],R=Array.isArray(E)?E:[E];for(let T=0;T<P.length;T++){const B=P[T];if(B.equals(R[T])===!1)return B.copy(R[T]),!0}}return!1}function v(_){const M=_.uniforms;let S=0;const E=16;let P=0;for(let R=0,T=M.length;R<T;R++){const B=M[R],I={boundary:0,storage:0},U=Array.isArray(B.value)?B.value:[B.value];for(let Z=0,W=U.length;Z<W;Z++){const H=U[Z],Q=y(H);I.boundary+=Q.boundary,I.storage+=Q.storage}if(B.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=S,R>0){P=S%E;const Z=E-P;P!==0&&Z-I.boundary<0&&(S+=E-P,B.__offset=S)}S+=I.storage}return P=S%E,P>0&&(S+=E-P),_.__size=S,_.__cache={},this}function y(_){const M={boundary:0,storage:0};return typeof _=="number"?(M.boundary=4,M.storage=4):_.isVector2?(M.boundary=8,M.storage=8):_.isVector3||_.isColor?(M.boundary=16,M.storage=12):_.isVector4?(M.boundary=16,M.storage=16):_.isMatrix3?(M.boundary=48,M.storage=48):_.isMatrix4?(M.boundary=64,M.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),M}function x(_){const M=_.target;M.removeEventListener("dispose",x);const S=o.indexOf(M.__bindingPointIndex);o.splice(S,1),n.deleteBuffer(r[M.id]),delete r[M.id],delete s[M.id]}function A(){for(const _ in r)n.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:l,update:u,dispose:A}}function MG(){const n=Kf("canvas");return n.style.display="block",n}function c_(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:MG(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let h;t!==null?h=t.getContextAttributes().alpha:h=n.alpha!==void 0?n.alpha:!1;let d=null,p=null;const m=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=zo,this.physicallyCorrectLights=!1,this.toneMapping=Nr,this.toneMappingExposure=1;const y=this;let x=!1,A=0,_=0,M=null,S=-1,E=null;const P=new Ot,R=new Ot;let T=null,B=e.width,I=e.height,U=1,Z=null,W=null;const H=new Ot(0,0,B,I),Q=new Ot(0,0,B,I);let ie=!1;const ce=new Bg;let N=!1,X=!1,j=null;const re=new st,J=new pe,ee=new D,ve={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ae(){return M===null?U:1}let $=t;function Ne(F,te){for(let de=0;de<F.length;de++){const q=F[de],ge=e.getContext(q,te);if(ge!==null)return ge}return null}try{const F={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Qc}`),e.addEventListener("webglcontextlost",qe,!1),e.addEventListener("webglcontextrestored",G,!1),e.addEventListener("webglcontextcreationerror",ye,!1),$===null){const te=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&te.shift(),$=Ne(te,F),$===null)throw Ne(te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}$.getShaderPrecisionFormat===void 0&&($.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let ke,He,_e,Be,he,oe,Se,Ue,be,Qe,Ye,je,wt,Mt,O,L,se,we,Ce,Te,it,De,me,Ze;function nt(){ke=new Uz($),He=new Lz($,ke,n),ke.init(He),De=new $B($,ke,He),_e=new yG($,ke,He),Be=new Hz,he=new sG,oe=new vG($,ke,_e,he,He,De,Be),Se=new Fz(y),Ue=new Oz(y),be=new Zk($,He),me=new Rz($,ke,be,He),Qe=new zz($,be,Be,me),Ye=new Jz($,Qe,be,Be),Ce=new jz($,He,oe),L=new Dz(he),je=new rG(y,Se,Ue,ke,He,me,L),wt=new _G(y,he),Mt=new aG,O=new dG(ke,He),we=new Bz(y,Se,Ue,_e,Ye,h,o),se=new gG(y,Ye,He),Ze=new wG($,Be,He,_e),Te=new Iz($,ke,Be,He),it=new Gz($,ke,Be,He),Be.programs=je.programs,y.capabilities=He,y.extensions=ke,y.properties=he,y.renderLists=Mt,y.shadowMap=se,y.state=_e,y.info=Be}nt();const We=new AG(y,$);this.xr=We,this.getContext=function(){return $},this.getContextAttributes=function(){return $.getContextAttributes()},this.forceContextLoss=function(){const F=ke.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=ke.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return U},this.setPixelRatio=function(F){F!==void 0&&(U=F,this.setSize(B,I,!1))},this.getSize=function(F){return F.set(B,I)},this.setSize=function(F,te,de){if(We.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=F,I=te,e.width=Math.floor(F*U),e.height=Math.floor(te*U),de!==!1&&(e.style.width=F+"px",e.style.height=te+"px"),this.setViewport(0,0,F,te)},this.getDrawingBufferSize=function(F){return F.set(B*U,I*U).floor()},this.setDrawingBufferSize=function(F,te,de){B=F,I=te,U=de,e.width=Math.floor(F*de),e.height=Math.floor(te*de),this.setViewport(0,0,F,te)},this.getCurrentViewport=function(F){return F.copy(P)},this.getViewport=function(F){return F.copy(H)},this.setViewport=function(F,te,de,q){F.isVector4?H.set(F.x,F.y,F.z,F.w):H.set(F,te,de,q),_e.viewport(P.copy(H).multiplyScalar(U).floor())},this.getScissor=function(F){return F.copy(Q)},this.setScissor=function(F,te,de,q){F.isVector4?Q.set(F.x,F.y,F.z,F.w):Q.set(F,te,de,q),_e.scissor(R.copy(Q).multiplyScalar(U).floor())},this.getScissorTest=function(){return ie},this.setScissorTest=function(F){_e.setScissorTest(ie=F)},this.setOpaqueSort=function(F){Z=F},this.setTransparentSort=function(F){W=F},this.getClearColor=function(F){return F.copy(we.getClearColor())},this.setClearColor=function(){we.setClearColor.apply(we,arguments)},this.getClearAlpha=function(){return we.getClearAlpha()},this.setClearAlpha=function(){we.setClearAlpha.apply(we,arguments)},this.clear=function(F=!0,te=!0,de=!0){let q=0;F&&(q|=16384),te&&(q|=256),de&&(q|=1024),$.clear(q)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",qe,!1),e.removeEventListener("webglcontextrestored",G,!1),e.removeEventListener("webglcontextcreationerror",ye,!1),Mt.dispose(),O.dispose(),he.dispose(),Se.dispose(),Ue.dispose(),Ye.dispose(),me.dispose(),Ze.dispose(),je.dispose(),We.dispose(),We.removeEventListener("sessionstart",Oe),We.removeEventListener("sessionend",Je),j&&(j.dispose(),j=null),ct.stop()};function qe(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function G(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const F=Be.autoReset,te=se.enabled,de=se.autoUpdate,q=se.needsUpdate,ge=se.type;nt(),Be.autoReset=F,se.enabled=te,se.autoUpdate=de,se.needsUpdate=q,se.type=ge}function ye(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function Re(F){const te=F.target;te.removeEventListener("dispose",Re),et(te)}function et(F){V(F),he.remove(F)}function V(F){const te=he.get(F).programs;te!==void 0&&(te.forEach(function(de){je.releaseProgram(de)}),F.isShaderMaterial&&je.releaseShaderCache(F))}this.renderBufferDirect=function(F,te,de,q,ge,$e){te===null&&(te=ve);const at=ge.isMesh&&ge.matrixWorld.determinant()<0,pt=$g(F,te,de,q,ge);_e.setMaterial(q,at);let vt=de.index,Et=1;q.wireframe===!0&&(vt=Qe.getWireframeAttribute(de),Et=2);const St=de.drawRange,Ct=de.attributes.position;let ln=St.start*Et,ii=(St.start+St.count)*Et;$e!==null&&(ln=Math.max(ln,$e.start*Et),ii=Math.min(ii,($e.start+$e.count)*Et)),vt!==null?(ln=Math.max(ln,0),ii=Math.min(ii,vt.count)):Ct!=null&&(ln=Math.max(ln,0),ii=Math.min(ii,Ct.count));const xr=ii-ln;if(xr<0||xr===1/0)return;me.setup(ge,q,pt,de,vt);let us,Qt=Te;if(vt!==null&&(us=be.get(vt),Qt=it,Qt.setIndex(us)),ge.isMesh)q.wireframe===!0?(_e.setLineWidth(q.wireframeLinewidth*Ae()),Qt.setMode(1)):Qt.setMode(4);else if(ge.isLine){let mt=q.linewidth;mt===void 0&&(mt=1),_e.setLineWidth(mt*Ae()),ge.isLineSegments?Qt.setMode(1):ge.isLineLoop?Qt.setMode(2):Qt.setMode(3)}else ge.isPoints?Qt.setMode(0):ge.isSprite&&Qt.setMode(4);if(ge.isInstancedMesh)Qt.renderInstances(ln,xr,ge.count);else if(de.isInstancedBufferGeometry){const mt=de._maxInstanceCount!==void 0?de._maxInstanceCount:1/0,ta=Math.min(de.instanceCount,mt);Qt.renderInstances(ln,xr,ta)}else Qt.render(ln,xr)},this.compile=function(F,te){function de(q,ge,$e){q.transparent===!0&&q.side===Ir&&q.forceSinglePass===!1?(q.side=Ti,q.needsUpdate=!0,gi(q,ge,$e),q.side=ss,q.needsUpdate=!0,gi(q,ge,$e),q.side=Ir):gi(q,ge,$e)}p=O.get(F),p.init(),v.push(p),F.traverseVisible(function(q){q.isLight&&q.layers.test(te.layers)&&(p.pushLight(q),q.castShadow&&p.pushShadow(q))}),p.setupLights(y.physicallyCorrectLights),F.traverse(function(q){const ge=q.material;if(ge)if(Array.isArray(ge))for(let $e=0;$e<ge.length;$e++){const at=ge[$e];de(at,F,q)}else de(ge,F,q)}),v.pop(),p=null};let le=null;function xe(F){le&&le(F)}function Oe(){ct.stop()}function Je(){ct.start()}const ct=new YB;ct.setAnimationLoop(xe),typeof self<"u"&&ct.setContext(self),this.setAnimationLoop=function(F){le=F,We.setAnimationLoop(F),F===null?ct.stop():ct.start()},We.addEventListener("sessionstart",Oe),We.addEventListener("sessionend",Je),this.render=function(F,te){if(te!==void 0&&te.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),te.parent===null&&te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),We.enabled===!0&&We.isPresenting===!0&&(We.cameraAutoUpdate===!0&&We.updateCamera(te),te=We.getCamera()),F.isScene===!0&&F.onBeforeRender(y,F,te,M),p=O.get(F,v.length),p.init(),v.push(p),re.multiplyMatrices(te.projectionMatrix,te.matrixWorldInverse),ce.setFromProjectionMatrix(re),X=this.localClippingEnabled,N=L.init(this.clippingPlanes,X),d=Mt.get(F,m.length),d.init(),m.push(d),Nt(F,te,0,y.sortObjects),d.finish(),y.sortObjects===!0&&d.sort(Z,W),N===!0&&L.beginShadows();const de=p.state.shadowsArray;if(se.render(de,F,te),N===!0&&L.endShadows(),this.info.autoReset===!0&&this.info.reset(),we.render(d,F),p.setupLights(y.physicallyCorrectLights),te.isArrayCamera){const q=te.cameras;for(let ge=0,$e=q.length;ge<$e;ge++){const at=q[ge];Kt(d,F,at,at.viewport)}}else Kt(d,F,te);M!==null&&(oe.updateMultisampleRenderTarget(M),oe.updateRenderTargetMipmap(M)),F.isScene===!0&&F.onAfterRender(y,F,te),me.resetDefaultState(),S=-1,E=null,v.pop(),v.length>0?p=v[v.length-1]:p=null,m.pop(),m.length>0?d=m[m.length-1]:d=null};function Nt(F,te,de,q){if(F.visible===!1)return;if(F.layers.test(te.layers)){if(F.isGroup)de=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(te);else if(F.isLight)p.pushLight(F),F.castShadow&&p.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||ce.intersectsSprite(F)){q&&ee.setFromMatrixPosition(F.matrixWorld).applyMatrix4(re);const at=Ye.update(F),pt=F.material;pt.visible&&d.push(F,at,pt,de,ee.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(F.isSkinnedMesh&&F.skeleton.frame!==Be.render.frame&&(F.skeleton.update(),F.skeleton.frame=Be.render.frame),!F.frustumCulled||ce.intersectsObject(F))){q&&ee.setFromMatrixPosition(F.matrixWorld).applyMatrix4(re);const at=Ye.update(F),pt=F.material;if(Array.isArray(pt)){const vt=at.groups;for(let Et=0,St=vt.length;Et<St;Et++){const Ct=vt[Et],ln=pt[Ct.materialIndex];ln&&ln.visible&&d.push(F,at,ln,de,ee.z,Ct)}}else pt.visible&&d.push(F,at,pt,de,ee.z,null)}}const $e=F.children;for(let at=0,pt=$e.length;at<pt;at++)Nt($e[at],te,de,q)}function Kt(F,te,de,q){const ge=F.opaque,$e=F.transmissive,at=F.transparent;p.setupLightsView(de),N===!0&&L.setGlobalState(y.clippingPlanes,de),$e.length>0&&jn(ge,te,de),q&&_e.viewport(P.copy(q)),ge.length>0&&Bt(ge,te,de),$e.length>0&&Bt($e,te,de),at.length>0&&Bt(at,te,de),_e.buffers.depth.setTest(!0),_e.buffers.depth.setMask(!0),_e.buffers.color.setMask(!0),_e.setPolygonOffset(!1)}function jn(F,te,de){const q=He.isWebGL2;j===null&&(j=new Or(1,1,{generateMipmaps:!0,type:ke.has("EXT_color_buffer_half_float")?Oc:Xs,minFilter:os,samples:q&&s===!0?4:0})),y.getDrawingBufferSize(J),q?j.setSize(J.x,J.y):j.setSize(Xm(J.x),Xm(J.y));const ge=y.getRenderTarget();y.setRenderTarget(j),y.clear();const $e=y.toneMapping;y.toneMapping=Nr,Bt(F,te,de),y.toneMapping=$e,oe.updateMultisampleRenderTarget(j),oe.updateRenderTargetMipmap(j),y.setRenderTarget(ge)}function Bt(F,te,de){const q=te.isScene===!0?te.overrideMaterial:null;for(let ge=0,$e=F.length;ge<$e;ge++){const at=F[ge],pt=at.object,vt=at.geometry,Et=q===null?at.material:q,St=at.group;pt.layers.test(de.layers)&&Un(pt,te,de,vt,Et,St)}}function Un(F,te,de,q,ge,$e){F.onBeforeRender(y,te,de,q,ge,$e),F.modelViewMatrix.multiplyMatrices(de.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),ge.onBeforeRender(y,te,de,q,F,$e),ge.transparent===!0&&ge.side===Ir&&ge.forceSinglePass===!1?(ge.side=Ti,ge.needsUpdate=!0,y.renderBufferDirect(de,te,q,ge,F,$e),ge.side=ss,ge.needsUpdate=!0,y.renderBufferDirect(de,te,q,ge,F,$e),ge.side=Ir):y.renderBufferDirect(de,te,q,ge,F,$e),F.onAfterRender(y,te,de,q,ge,$e)}function gi(F,te,de){te.isScene!==!0&&(te=ve);const q=he.get(F),ge=p.state.lights,$e=p.state.shadowsArray,at=ge.state.version,pt=je.getParameters(F,ge.state,$e,te,de),vt=je.getProgramCacheKey(pt);let Et=q.programs;q.environment=F.isMeshStandardMaterial?te.environment:null,q.fog=te.fog,q.envMap=(F.isMeshStandardMaterial?Ue:Se).get(F.envMap||q.environment),Et===void 0&&(F.addEventListener("dispose",Re),Et=new Map,q.programs=Et);let St=Et.get(vt);if(St!==void 0){if(q.currentProgram===St&&q.lightsStateVersion===at)return zh(F,pt),St}else pt.uniforms=je.getUniforms(F),F.onBuild(de,pt,y),F.onBeforeCompile(pt,y),St=je.acquireProgram(pt,vt),Et.set(vt,St),q.uniforms=pt.uniforms;const Ct=q.uniforms;(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(Ct.clippingPlanes=L.uniform),zh(F,pt),q.needsLights=ou(F),q.lightsStateVersion=at,q.needsLights&&(Ct.ambientLightColor.value=ge.state.ambient,Ct.lightProbe.value=ge.state.probe,Ct.directionalLights.value=ge.state.directional,Ct.directionalLightShadows.value=ge.state.directionalShadow,Ct.spotLights.value=ge.state.spot,Ct.spotLightShadows.value=ge.state.spotShadow,Ct.rectAreaLights.value=ge.state.rectArea,Ct.ltc_1.value=ge.state.rectAreaLTC1,Ct.ltc_2.value=ge.state.rectAreaLTC2,Ct.pointLights.value=ge.state.point,Ct.pointLightShadows.value=ge.state.pointShadow,Ct.hemisphereLights.value=ge.state.hemi,Ct.directionalShadowMap.value=ge.state.directionalShadowMap,Ct.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,Ct.spotShadowMap.value=ge.state.spotShadowMap,Ct.spotLightMatrix.value=ge.state.spotLightMatrix,Ct.spotLightMap.value=ge.state.spotLightMap,Ct.pointShadowMap.value=ge.state.pointShadowMap,Ct.pointShadowMatrix.value=ge.state.pointShadowMatrix);const ln=St.getUniforms(),ii=pm.seqWithValue(ln.seq,Ct);return q.currentProgram=St,q.uniformsList=ii,St}function zh(F,te){const de=he.get(F);de.outputEncoding=te.outputEncoding,de.instancing=te.instancing,de.skinning=te.skinning,de.morphTargets=te.morphTargets,de.morphNormals=te.morphNormals,de.morphColors=te.morphColors,de.morphTargetsCount=te.morphTargetsCount,de.numClippingPlanes=te.numClippingPlanes,de.numIntersection=te.numClipIntersection,de.vertexAlphas=te.vertexAlphas,de.vertexTangents=te.vertexTangents,de.toneMapping=te.toneMapping}function $g(F,te,de,q,ge){te.isScene!==!0&&(te=ve),oe.resetTextureUnits();const $e=te.fog,at=q.isMeshStandardMaterial?te.environment:null,pt=M===null?y.outputEncoding:M.isXRRenderTarget===!0?M.texture.encoding:zo,vt=(q.isMeshStandardMaterial?Ue:Se).get(q.envMap||at),Et=q.vertexColors===!0&&!!de.attributes.color&&de.attributes.color.itemSize===4,St=!!q.normalMap&&!!de.attributes.tangent,Ct=!!de.morphAttributes.position,ln=!!de.morphAttributes.normal,ii=!!de.morphAttributes.color,xr=q.toneMapped?y.toneMapping:Nr,us=de.morphAttributes.position||de.morphAttributes.normal||de.morphAttributes.color,Qt=us!==void 0?us.length:0,mt=he.get(q),ta=p.state.lights;if(N===!0&&(X===!0||F!==E)){const kt=F===E&&q.id===S;L.setState(q,F,kt)}let cn=!1;q.version===mt.__version?(mt.needsLights&&mt.lightsStateVersion!==ta.state.version||mt.outputEncoding!==pt||ge.isInstancedMesh&&mt.instancing===!1||!ge.isInstancedMesh&&mt.instancing===!0||ge.isSkinnedMesh&&mt.skinning===!1||!ge.isSkinnedMesh&&mt.skinning===!0||mt.envMap!==vt||q.fog===!0&&mt.fog!==$e||mt.numClippingPlanes!==void 0&&(mt.numClippingPlanes!==L.numPlanes||mt.numIntersection!==L.numIntersection)||mt.vertexAlphas!==Et||mt.vertexTangents!==St||mt.morphTargets!==Ct||mt.morphNormals!==ln||mt.morphColors!==ii||mt.toneMapping!==xr||He.isWebGL2===!0&&mt.morphTargetsCount!==Qt)&&(cn=!0):(cn=!0,mt.__version=q.version);let fs=mt.currentProgram;cn===!0&&(fs=gi(q,te,ge));let xl=!1,Xi=!1,Yi=!1;const dt=fs.getUniforms(),bt=mt.uniforms;if(_e.useProgram(fs.program)&&(xl=!0,Xi=!0,Yi=!0),q.id!==S&&(S=q.id,Xi=!0),xl||E!==F){if(dt.setValue($,"projectionMatrix",F.projectionMatrix),He.logarithmicDepthBuffer&&dt.setValue($,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),E!==F&&(E=F,Xi=!0,Yi=!0),q.isShaderMaterial||q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshStandardMaterial||q.envMap){const kt=dt.map.cameraPosition;kt!==void 0&&kt.setValue($,ee.setFromMatrixPosition(F.matrixWorld))}(q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshLambertMaterial||q.isMeshBasicMaterial||q.isMeshStandardMaterial||q.isShaderMaterial)&&dt.setValue($,"isOrthographic",F.isOrthographicCamera===!0),(q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshLambertMaterial||q.isMeshBasicMaterial||q.isMeshStandardMaterial||q.isShaderMaterial||q.isShadowMaterial||ge.isSkinnedMesh)&&dt.setValue($,"viewMatrix",F.matrixWorldInverse)}if(ge.isSkinnedMesh){dt.setOptional($,ge,"bindMatrix"),dt.setOptional($,ge,"bindMatrixInverse");const kt=ge.skeleton;kt&&(He.floatVertexTextures?(kt.boneTexture===null&&kt.computeBoneTexture(),dt.setValue($,"boneTexture",kt.boneTexture,oe),dt.setValue($,"boneTextureSize",kt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ki=de.morphAttributes;if((Ki.position!==void 0||Ki.normal!==void 0||Ki.color!==void 0&&He.isWebGL2===!0)&&Ce.update(ge,de,q,fs),(Xi||mt.receiveShadow!==ge.receiveShadow)&&(mt.receiveShadow=ge.receiveShadow,dt.setValue($,"receiveShadow",ge.receiveShadow)),q.isMeshGouraudMaterial&&q.envMap!==null&&(bt.envMap.value=vt,bt.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1),Xi&&(dt.setValue($,"toneMappingExposure",y.toneMappingExposure),mt.needsLights&&Gh(bt,Yi),$e&&q.fog===!0&&wt.refreshFogUniforms(bt,$e),wt.refreshMaterialUniforms(bt,q,U,I,j),pm.upload($,mt.uniformsList,bt,oe)),q.isShaderMaterial&&q.uniformsNeedUpdate===!0&&(pm.upload($,mt.uniformsList,bt,oe),q.uniformsNeedUpdate=!1),q.isSpriteMaterial&&dt.setValue($,"center",ge.center),dt.setValue($,"modelViewMatrix",ge.modelViewMatrix),dt.setValue($,"normalMatrix",ge.normalMatrix),dt.setValue($,"modelMatrix",ge.matrixWorld),q.isShaderMaterial||q.isRawShaderMaterial){const kt=q.uniformsGroups;for(let Rn=0,hs=kt.length;Rn<hs;Rn++)if(He.isWebGL2){const ds=kt[Rn];Ze.update(ds,fs),Ze.bind(ds,fs)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return fs}function Gh(F,te){F.ambientLightColor.needsUpdate=te,F.lightProbe.needsUpdate=te,F.directionalLights.needsUpdate=te,F.directionalLightShadows.needsUpdate=te,F.pointLights.needsUpdate=te,F.pointLightShadows.needsUpdate=te,F.spotLights.needsUpdate=te,F.spotLightShadows.needsUpdate=te,F.rectAreaLights.needsUpdate=te,F.hemisphereLights.needsUpdate=te}function ou(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(F,te,de){he.get(F.texture).__webglTexture=te,he.get(F.depthTexture).__webglTexture=de;const q=he.get(F);q.__hasExternalTextures=!0,q.__hasExternalTextures&&(q.__autoAllocateDepthBuffer=de===void 0,q.__autoAllocateDepthBuffer||ke.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),q.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(F,te){const de=he.get(F);de.__webglFramebuffer=te,de.__useDefaultFramebuffer=te===void 0},this.setRenderTarget=function(F,te=0,de=0){M=F,A=te,_=de;let q=!0,ge=null,$e=!1,at=!1;if(F){const vt=he.get(F);vt.__useDefaultFramebuffer!==void 0?(_e.bindFramebuffer(36160,null),q=!1):vt.__webglFramebuffer===void 0?oe.setupRenderTarget(F):vt.__hasExternalTextures&&oe.rebindTextures(F,he.get(F.texture).__webglTexture,he.get(F.depthTexture).__webglTexture);const Et=F.texture;(Et.isData3DTexture||Et.isDataArrayTexture||Et.isCompressedArrayTexture)&&(at=!0);const St=he.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(ge=St[te],$e=!0):He.isWebGL2&&F.samples>0&&oe.useMultisampledRTT(F)===!1?ge=he.get(F).__webglMultisampledFramebuffer:ge=St,P.copy(F.viewport),R.copy(F.scissor),T=F.scissorTest}else P.copy(H).multiplyScalar(U).floor(),R.copy(Q).multiplyScalar(U).floor(),T=ie;if(_e.bindFramebuffer(36160,ge)&&He.drawBuffers&&q&&_e.drawBuffers(F,ge),_e.viewport(P),_e.scissor(R),_e.setScissorTest(T),$e){const vt=he.get(F.texture);$.framebufferTexture2D(36160,36064,34069+te,vt.__webglTexture,de)}else if(at){const vt=he.get(F.texture),Et=te||0;$.framebufferTextureLayer(36160,36064,vt.__webglTexture,de||0,Et)}S=-1},this.readRenderTargetPixels=function(F,te,de,q,ge,$e,at){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let pt=he.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&at!==void 0&&(pt=pt[at]),pt){_e.bindFramebuffer(36160,pt);try{const vt=F.texture,Et=vt.format,St=vt.type;if(Et!==wi&&De.convert(Et)!==$.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ct=St===Oc&&(ke.has("EXT_color_buffer_half_float")||He.isWebGL2&&ke.has("EXT_color_buffer_float"));if(St!==Xs&&De.convert(St)!==$.getParameter(35738)&&!(St===Ds&&(He.isWebGL2||ke.has("OES_texture_float")||ke.has("WEBGL_color_buffer_float")))&&!Ct){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}te>=0&&te<=F.width-q&&de>=0&&de<=F.height-ge&&$.readPixels(te,de,q,ge,De.convert(Et),De.convert(St),$e)}finally{const vt=M!==null?he.get(M).__webglFramebuffer:null;_e.bindFramebuffer(36160,vt)}}},this.copyFramebufferToTexture=function(F,te,de=0){const q=Math.pow(2,-de),ge=Math.floor(te.image.width*q),$e=Math.floor(te.image.height*q);oe.setTexture2D(te,0),$.copyTexSubImage2D(3553,de,0,0,F.x,F.y,ge,$e),_e.unbindTexture()},this.copyTextureToTexture=function(F,te,de,q=0){const ge=te.image.width,$e=te.image.height,at=De.convert(de.format),pt=De.convert(de.type);oe.setTexture2D(de,0),$.pixelStorei(37440,de.flipY),$.pixelStorei(37441,de.premultiplyAlpha),$.pixelStorei(3317,de.unpackAlignment),te.isDataTexture?$.texSubImage2D(3553,q,F.x,F.y,ge,$e,at,pt,te.image.data):te.isCompressedTexture?$.compressedTexSubImage2D(3553,q,F.x,F.y,te.mipmaps[0].width,te.mipmaps[0].height,at,te.mipmaps[0].data):$.texSubImage2D(3553,q,F.x,F.y,at,pt,te.image),q===0&&de.generateMipmaps&&$.generateMipmap(3553),_e.unbindTexture()},this.copyTextureToTexture3D=function(F,te,de,q,ge=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $e=F.max.x-F.min.x+1,at=F.max.y-F.min.y+1,pt=F.max.z-F.min.z+1,vt=De.convert(q.format),Et=De.convert(q.type);let St;if(q.isData3DTexture)oe.setTexture3D(q,0),St=32879;else if(q.isDataArrayTexture)oe.setTexture2DArray(q,0),St=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}$.pixelStorei(37440,q.flipY),$.pixelStorei(37441,q.premultiplyAlpha),$.pixelStorei(3317,q.unpackAlignment);const Ct=$.getParameter(3314),ln=$.getParameter(32878),ii=$.getParameter(3316),xr=$.getParameter(3315),us=$.getParameter(32877),Qt=de.isCompressedTexture?de.mipmaps[0]:de.image;$.pixelStorei(3314,Qt.width),$.pixelStorei(32878,Qt.height),$.pixelStorei(3316,F.min.x),$.pixelStorei(3315,F.min.y),$.pixelStorei(32877,F.min.z),de.isDataTexture||de.isData3DTexture?$.texSubImage3D(St,ge,te.x,te.y,te.z,$e,at,pt,vt,Et,Qt.data):de.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),$.compressedTexSubImage3D(St,ge,te.x,te.y,te.z,$e,at,pt,vt,Qt.data)):$.texSubImage3D(St,ge,te.x,te.y,te.z,$e,at,pt,vt,Et,Qt),$.pixelStorei(3314,Ct),$.pixelStorei(32878,ln),$.pixelStorei(3316,ii),$.pixelStorei(3315,xr),$.pixelStorei(32877,us),ge===0&&q.generateMipmaps&&$.generateMipmap(St),_e.unbindTexture()},this.initTexture=function(F){F.isCubeTexture?oe.setTextureCube(F,0):F.isData3DTexture?oe.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?oe.setTexture2DArray(F,0):oe.setTexture2D(F,0),_e.unbindTexture()},this.resetState=function(){A=0,_=0,M=null,_e.reset(),me.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class nR extends c_{}nR.prototype.isWebGL1Renderer=!0;class Ig{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Le(e),this.density=t}clone(){return new Ig(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Lg{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Le(e),this.near=t,this.far=i}clone(){return new Lg(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Ym extends Tt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class gh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Xf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=zi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=zi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=zi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const oi=new D;class Go{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)oi.fromBufferAttribute(this,t),oi.applyMatrix4(e),this.setXYZ(t,oi.x,oi.y,oi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)oi.fromBufferAttribute(this,t),oi.applyNormalMatrix(e),this.setXYZ(t,oi.x,oi.y,oi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)oi.fromBufferAttribute(this,t),oi.transformDirection(e),this.setXYZ(t,oi.x,oi.y,oi.z);return this}setX(e,t){return this.normalized&&(t=Gt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Gt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Gt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Gt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Fs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Fs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Fs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Fs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Gt(t,this.array),i=Gt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Gt(t,this.array),i=Gt(i,this.array),r=Gt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Gt(t,this.array),i=Gt(i,this.array),r=Gt(r,this.array),s=Gt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Ft(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Go(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class u_ extends Mn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Le(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Xl;const Gu=new D,Yl=new D,Kl=new D,Ql=new pe,Hu=new pe,iR=new st,yp=new D,Vu=new D,vp=new D,JC=new pe,tv=new pe,XC=new pe;class rR extends Tt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Xl===void 0){Xl=new ht;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new gh(t,5);Xl.setIndex([0,1,2,0,2,3]),Xl.setAttribute("position",new Go(i,3,0,!1)),Xl.setAttribute("uv",new Go(i,2,3,!1))}this.geometry=Xl,this.material=e!==void 0?e:new u_,this.center=new pe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Yl.setFromMatrixScale(this.matrixWorld),iR.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Kl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Yl.multiplyScalar(-Kl.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;xp(yp.set(-.5,-.5,0),Kl,o,Yl,r,s),xp(Vu.set(.5,-.5,0),Kl,o,Yl,r,s),xp(vp.set(.5,.5,0),Kl,o,Yl,r,s),JC.set(0,0),tv.set(1,0),XC.set(1,1);let a=e.ray.intersectTriangle(yp,Vu,vp,!1,Gu);if(a===null&&(xp(Vu.set(-.5,.5,0),Kl,o,Yl,r,s),tv.set(0,1),a=e.ray.intersectTriangle(yp,vp,Vu,!1,Gu),a===null))return;const l=e.ray.origin.distanceTo(Gu);l<e.near||l>e.far||t.push({distance:l,point:Gu.clone(),uv:fr.getUV(Gu,yp,Vu,vp,JC,tv,XC,new pe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function xp(n,e,t,i,r,s){Ql.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Hu.x=s*Ql.x-r*Ql.y,Hu.y=r*Ql.x+s*Ql.y):Hu.copy(Ql),n.copy(e),n.x+=Hu.x,n.y+=Hu.y,n.applyMatrix4(iR)}const Ap=new D,YC=new D;class sR extends Tt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Ap.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Ap);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ap.setFromMatrixPosition(e.matrixWorld),YC.setFromMatrixPosition(this.matrixWorld);const i=Ap.distanceTo(YC)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const KC=new D,QC=new Ot,ZC=new Ot,SG=new D,qC=new st;class f_ extends bn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new st,this.bindMatrixInverse=new st}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ot,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;QC.fromBufferAttribute(r.attributes.skinIndex,e),ZC.fromBufferAttribute(r.attributes.skinWeight,e),KC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=ZC.getComponent(s);if(o!==0){const a=QC.getComponent(s);qC.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(SG.copy(KC).applyMatrix4(qC),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Dg extends Tt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Tc extends jt{constructor(e=null,t=1,i=1,r,s,o,a,l,u=dn,h=dn,d,p){super(null,o,a,l,u,h,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const $C=new st,CG=new st;class yh{constructor(e=[],t=[]){this.uuid=zi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new st)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new st;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:CG;$C.multiplyMatrices(a,t[s]),$C.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new yh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=VB(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Tc(t,e,e,wi,Ds);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Dg),this.bones.push(o),this.boneInverses.push(new st().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class sl extends Ft{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const eE=new st,tE=new st,_p=[],EG=new st,Wu=new bn;class h_ extends bn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new sl(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,EG)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Wu.geometry=this.geometry,Wu.material=this.material,Wu.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,eE),tE.multiplyMatrices(i,eE),Wu.matrixWorld=tE,Wu.raycast(e,_p);for(let o=0,a=_p.length;o<a;o++){const l=_p[o];l.instanceId=s,l.object=this,t.push(l)}_p.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new sl(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ni extends Mn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Le(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const nE=new D,iE=new D,rE=new st,nv=new qc,wp=new Qo;class Ys extends Tt{constructor(e=new ht,t=new ni){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)nE.fromBufferAttribute(t,r-1),iE.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=nE.distanceTo(iE);e.setAttribute("lineDistance",new Ve(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),wp.copy(i.boundingSphere),wp.applyMatrix4(r),wp.radius+=s,e.ray.intersectsSphere(wp)===!1)return;rE.copy(r).invert(),nv.copy(e.ray).applyMatrix4(rE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new D,h=new D,d=new D,p=new D,m=this.isLineSegments?2:1,v=i.index,x=i.attributes.position;if(v!==null){const A=Math.max(0,o.start),_=Math.min(v.count,o.start+o.count);for(let M=A,S=_-1;M<S;M+=m){const E=v.getX(M),P=v.getX(M+1);if(u.fromBufferAttribute(x,E),h.fromBufferAttribute(x,P),nv.distanceSqToSegment(u,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||t.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else{const A=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let M=A,S=_-1;M<S;M+=m){if(u.fromBufferAttribute(x,M),h.fromBufferAttribute(x,M+1),nv.distanceSqToSegment(u,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:d.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const sE=new D,oE=new D;class zr extends Ys{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)sE.fromBufferAttribute(t,r),oE.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+sE.distanceTo(oE);e.setAttribute("lineDistance",new Ve(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class d_ extends Ys{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class vh extends Mn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Le(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const aE=new st,dA=new qc,Mp=new Qo,Sp=new D;let p_=class extends Tt{constructor(e=new ht,t=new vh){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Mp.copy(i.boundingSphere),Mp.applyMatrix4(r),Mp.radius+=s,e.ray.intersectsSphere(Mp)===!1)return;aE.copy(r).invert(),dA.copy(e.ray).applyMatrix4(aE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=i.index,d=i.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let v=p,y=m;v<y;v++){const x=u.getX(v);Sp.fromBufferAttribute(d,x),lE(Sp,x,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let v=p,y=m;v<y;v++)Sp.fromBufferAttribute(d,v),lE(Sp,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function lE(n,e,t,i,r,s,o){const a=dA.distanceSqToPoint(n);if(a<t){const l=new D;dA.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class TG extends jt{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:nn,this.magFilter=s!==void 0?s:nn,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class bG extends jt{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=dn,this.minFilter=dn,this.generateMipmaps=!1,this.needsUpdate=!0}}class m_ extends jt{constructor(e,t,i,r,s,o,a,l,u,h,d,p){super(null,o,a,l,u,h,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class PG extends m_{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Hn}}class BG extends jt{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Gr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,u;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),u=i[r]-o,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const h=i[r],p=i[r+1]-h,m=(o-h)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new pe:new D);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new D,r=[],s=[],o=[],a=new D,l=new st;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new D)}s[0]=new D,o[0]=new D;let u=Number.MAX_VALUE;const h=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);h<=u&&(u=h,i.set(1,0,0)),d<=u&&(u=d,i.set(0,1,0)),p<=u&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(yn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(yn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Fg extends Gr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new pe,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*h-m*d+this.aX,u=p*d+m*h+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class oR extends Fg{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function g_(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){r(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,h,d){let p=(o-s)/u-(a-s)/(u+h)+(a-o)/h,m=(a-o)/h-(l-o)/(h+d)+(l-a)/d;p*=h,m*=h,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Cp=new D,iv=new g_,rv=new g_,sv=new g_;class aR extends Gr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new D){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,h;this.closed||a>0?u=r[(a-1)%s]:(Cp.subVectors(r[0],r[1]).add(r[0]),u=Cp);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?h=r[(a+2)%s]:(Cp.subVectors(r[s-1],r[s-2]).add(r[s-1]),h=Cp),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(d),m),y=Math.pow(d.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(h),m);y<1e-4&&(y=1),v<1e-4&&(v=y),x<1e-4&&(x=y),iv.initNonuniformCatmullRom(u.x,d.x,p.x,h.x,v,y,x),rv.initNonuniformCatmullRom(u.y,d.y,p.y,h.y,v,y,x),sv.initNonuniformCatmullRom(u.z,d.z,p.z,h.z,v,y,x)}else this.curveType==="catmullrom"&&(iv.initCatmullRom(u.x,d.x,p.x,h.x,this.tension),rv.initCatmullRom(u.y,d.y,p.y,h.y,this.tension),sv.initCatmullRom(u.z,d.z,p.z,h.z,this.tension));return i.set(iv.calc(l),rv.calc(l),sv.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new D().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function cE(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function RG(n,e){const t=1-n;return t*t*e}function IG(n,e){return 2*(1-n)*n*e}function LG(n,e){return n*n*e}function yf(n,e,t,i){return RG(n,e)+IG(n,t)+LG(n,i)}function DG(n,e){const t=1-n;return t*t*t*e}function FG(n,e){const t=1-n;return 3*t*t*n*e}function NG(n,e){return 3*(1-n)*n*n*e}function kG(n,e){return n*n*n*e}function vf(n,e,t,i,r){return DG(n,e)+FG(n,t)+NG(n,i)+kG(n,r)}class y_ extends Gr{constructor(e=new pe,t=new pe,i=new pe,r=new pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(vf(e,r.x,s.x,o.x,a.x),vf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class lR extends Gr{constructor(e=new D,t=new D,i=new D,r=new D){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new D){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(vf(e,r.x,s.x,o.x,a.x),vf(e,r.y,s.y,o.y,a.y),vf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Ng extends Gr{constructor(e=new pe,t=new pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new pe;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cR extends Gr{constructor(e=new D,t=new D){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new D){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class v_ extends Gr{constructor(e=new pe,t=new pe,i=new pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(yf(e,r.x,s.x,o.x),yf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class x_ extends Gr{constructor(e=new D,t=new D,i=new D){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new D){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(yf(e,r.x,s.x,o.x),yf(e,r.y,s.y,o.y),yf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class A_ extends Gr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],u=r[o],h=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(cE(a,l.x,u.x,h.x,d.x),cE(a,l.y,u.y,h.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new pe().fromArray(r))}return this}}var __=Object.freeze({__proto__:null,ArcCurve:oR,CatmullRomCurve3:aR,CubicBezierCurve:y_,CubicBezierCurve3:lR,EllipseCurve:Fg,LineCurve:Ng,LineCurve3:cR,QuadraticBezierCurve:v_,QuadraticBezierCurve3:x_,SplineCurve:A_});class uR extends Gr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ng(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const h=l[u];i&&i.equals(h)||(t.push(h),i=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new __[r.type]().fromJSON(r))}return this}}class Qf extends uR{constructor(e){super(),this.type="Path",this.currentPoint=new pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Ng(this.currentPoint.clone(),new pe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new v_(this.currentPoint.clone(),new pe(e,t),new pe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new y_(this.currentPoint.clone(),new pe(e,t),new pe(i,r),new pe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new A_(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,t+h,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const u=new Fg(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class tu extends ht{constructor(e=[new pe(0,-.5),new pe(.5,0),new pe(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=yn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],h=1/t,d=new D,p=new pe,m=new D,v=new D,y=new D;let x=0,A=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,A=e[_+1].y-e[_].y,m.x=A*1,m.y=-x,m.z=A*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:x=e[_+1].x-e[_].x,A=e[_+1].y-e[_].y,m.x=A*1,m.y=-x,m.z=A*0,v.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(v)}for(let _=0;_<=t;_++){const M=i+_*h*r,S=Math.sin(M),E=Math.cos(M);for(let P=0;P<=e.length-1;P++){d.x=e[P].x*S,d.y=e[P].y,d.z=e[P].x*E,o.push(d.x,d.y,d.z),p.x=_/t,p.y=P/(e.length-1),a.push(p.x,p.y);const R=l[3*P+0]*S,T=l[3*P+1],B=l[3*P+0]*E;u.push(R,T,B)}}for(let _=0;_<t;_++)for(let M=0;M<e.length-1;M++){const S=M+_*e.length,E=S,P=S+e.length,R=S+e.length+1,T=S+1;s.push(E,P,T),s.push(R,T,P)}this.setIndex(s),this.setAttribute("position",new Ve(o,3)),this.setAttribute("uv",new Ve(a,2)),this.setAttribute("normal",new Ve(u,3))}static fromJSON(e){return new tu(e.points,e.segments,e.phiStart,e.phiLength)}}class xh extends tu{constructor(e=1,t=1,i=4,r=8){const s=new Qf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new xh(e.radius,e.length,e.capSegments,e.radialSegments)}}class Ah extends ht{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new D,h=new pe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=i+d/t*r;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),h.x=(o[p]/e+1)/2,h.y=(o[p+1]/e+1)/2,l.push(h.x,h.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Ve(o,3)),this.setAttribute("normal",new Ve(a,3)),this.setAttribute("uv",new Ve(l,2))}static fromJSON(e){return new Ah(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class dl extends ht{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const h=[],d=[],p=[],m=[];let v=0;const y=[],x=i/2;let A=0;_(),o===!1&&(e>0&&M(!0),t>0&&M(!1)),this.setIndex(h),this.setAttribute("position",new Ve(d,3)),this.setAttribute("normal",new Ve(p,3)),this.setAttribute("uv",new Ve(m,2));function _(){const S=new D,E=new D;let P=0;const R=(t-e)/i;for(let T=0;T<=s;T++){const B=[],I=T/s,U=I*(t-e)+e;for(let Z=0;Z<=r;Z++){const W=Z/r,H=W*l+a,Q=Math.sin(H),ie=Math.cos(H);E.x=U*Q,E.y=-I*i+x,E.z=U*ie,d.push(E.x,E.y,E.z),S.set(Q,R,ie).normalize(),p.push(S.x,S.y,S.z),m.push(W,1-I),B.push(v++)}y.push(B)}for(let T=0;T<r;T++)for(let B=0;B<s;B++){const I=y[B][T],U=y[B+1][T],Z=y[B+1][T+1],W=y[B][T+1];h.push(I,U,W),h.push(U,Z,W),P+=6}u.addGroup(A,P,0),A+=P}function M(S){const E=v,P=new pe,R=new D;let T=0;const B=S===!0?e:t,I=S===!0?1:-1;for(let Z=1;Z<=r;Z++)d.push(0,x*I,0),p.push(0,I,0),m.push(.5,.5),v++;const U=v;for(let Z=0;Z<=r;Z++){const H=Z/r*l+a,Q=Math.cos(H),ie=Math.sin(H);R.x=B*ie,R.y=x*I,R.z=B*Q,d.push(R.x,R.y,R.z),p.push(0,I,0),P.x=Q*.5+.5,P.y=ie*.5*I+.5,m.push(P.x,P.y),v++}for(let Z=0;Z<r;Z++){const W=E+Z,H=U+Z;S===!0?h.push(H,H+1,W):h.push(H+1,H,W),T+=3}u.addGroup(A,T,S===!0?1:2),A+=T}}static fromJSON(e){return new dl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class _h extends dl{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new _h(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Qs extends ht{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),u(i),h(),this.setAttribute("position",new Ve(s,3)),this.setAttribute("normal",new Ve(s.slice(),3)),this.setAttribute("uv",new Ve(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const M=new D,S=new D,E=new D;for(let P=0;P<t.length;P+=3)m(t[P+0],M),m(t[P+1],S),m(t[P+2],E),l(M,S,E,_)}function l(_,M,S,E){const P=E+1,R=[];for(let T=0;T<=P;T++){R[T]=[];const B=_.clone().lerp(S,T/P),I=M.clone().lerp(S,T/P),U=P-T;for(let Z=0;Z<=U;Z++)Z===0&&T===P?R[T][Z]=B:R[T][Z]=B.clone().lerp(I,Z/U)}for(let T=0;T<P;T++)for(let B=0;B<2*(P-T)-1;B++){const I=Math.floor(B/2);B%2===0?(p(R[T][I+1]),p(R[T+1][I]),p(R[T][I])):(p(R[T][I+1]),p(R[T+1][I+1]),p(R[T+1][I]))}}function u(_){const M=new D;for(let S=0;S<s.length;S+=3)M.x=s[S+0],M.y=s[S+1],M.z=s[S+2],M.normalize().multiplyScalar(_),s[S+0]=M.x,s[S+1]=M.y,s[S+2]=M.z}function h(){const _=new D;for(let M=0;M<s.length;M+=3){_.x=s[M+0],_.y=s[M+1],_.z=s[M+2];const S=x(_)/2/Math.PI+.5,E=A(_)/Math.PI+.5;o.push(S,1-E)}v(),d()}function d(){for(let _=0;_<o.length;_+=6){const M=o[_+0],S=o[_+2],E=o[_+4],P=Math.max(M,S,E),R=Math.min(M,S,E);P>.9&&R<.1&&(M<.2&&(o[_+0]+=1),S<.2&&(o[_+2]+=1),E<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,M){const S=_*3;M.x=e[S+0],M.y=e[S+1],M.z=e[S+2]}function v(){const _=new D,M=new D,S=new D,E=new D,P=new pe,R=new pe,T=new pe;for(let B=0,I=0;B<s.length;B+=9,I+=6){_.set(s[B+0],s[B+1],s[B+2]),M.set(s[B+3],s[B+4],s[B+5]),S.set(s[B+6],s[B+7],s[B+8]),P.set(o[I+0],o[I+1]),R.set(o[I+2],o[I+3]),T.set(o[I+4],o[I+5]),E.copy(_).add(M).add(S).divideScalar(3);const U=x(E);y(P,I+0,_,U),y(R,I+2,M,U),y(T,I+4,S,U)}}function y(_,M,S,E){E<0&&_.x===1&&(o[M]=_.x-1),S.x===0&&S.z===0&&(o[M]=E/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function A(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new Qs(e.vertices,e.indices,e.radius,e.details)}}class wh extends Qs{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new wh(e.radius,e.detail)}}const Ep=new D,Tp=new D,ov=new D,bp=new fr;class fR extends ht{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Ya*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],h=["a","b","c"],d=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:y,b:x,c:A}=bp;if(y.fromBufferAttribute(a,u[0]),x.fromBufferAttribute(a,u[1]),A.fromBufferAttribute(a,u[2]),bp.getNormal(ov),d[0]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,d[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,d[2]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let _=0;_<3;_++){const M=(_+1)%3,S=d[_],E=d[M],P=bp[h[_]],R=bp[h[M]],T=`${S}_${E}`,B=`${E}_${S}`;B in p&&p[B]?(ov.dot(p[B].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(R.x,R.y,R.z)),p[B]=null):T in p||(p[T]={index0:u[_],index1:u[M],normal:ov.clone()})}}for(const v in p)if(p[v]){const{index0:y,index1:x}=p[v];Ep.fromBufferAttribute(a,y),Tp.fromBufferAttribute(a,x),m.push(Ep.x,Ep.y,Ep.z),m.push(Tp.x,Tp.y,Tp.z)}this.setAttribute("position",new Ve(m,3))}}}class Za extends Qf{constructor(e){super(e),this.uuid=zi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Qf().fromJSON(r))}return this}}const OG={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=hR(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,h,d,p,m;if(i&&(s=VG(n,e,s,t)),n.length>80*t){a=u=n[0],l=h=n[1];for(let v=t;v<r;v+=t)d=n[v],p=n[v+1],d<a&&(a=d),p<l&&(l=p),d>u&&(u=d),p>h&&(h=p);m=Math.max(u-a,h-l),m=m!==0?32767/m:0}return Zf(s,o,t,a,l,m,0),o}};function hR(n,e,t,i,r){let s,o;if(r===eH(n,e,t,i)>0)for(s=e;s<t;s+=i)o=uE(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=uE(s,n[s],n[s+1],o);return o&&kg(o,o.next)&&($f(o),o=o.next),o}function ol(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(kg(t,t.next)||rn(t.prev,t,t.next)===0)){if($f(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Zf(n,e,t,i,r,s,o){if(!n)return;!o&&s&&YG(n,i,r,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?zG(n,i,r,s):UG(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),$f(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=GG(ol(n),e,t),Zf(n,e,t,i,r,s,2)):o===2&&HG(n,e,t,i,r,s):Zf(ol(n),e,t,i,r,s,1);break}}}function UG(n){const e=n.prev,t=n,i=n.next;if(rn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,u=i.y,h=r<s?r<o?r:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let v=i.next;for(;v!==e;){if(v.x>=h&&v.x<=p&&v.y>=d&&v.y<=m&&pc(r,a,s,l,o,u,v.x,v.y)&&rn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function zG(n,e,t,i){const r=n.prev,s=n,o=n.next;if(rn(r,s,o)>=0)return!1;const a=r.x,l=s.x,u=o.x,h=r.y,d=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,v=h<d?h<p?h:p:d<p?d:p,y=a>l?a>u?a:u:l>u?l:u,x=h>d?h>p?h:p:d>p?d:p,A=pA(m,v,e,t,i),_=pA(y,x,e,t,i);let M=n.prevZ,S=n.nextZ;for(;M&&M.z>=A&&S&&S.z<=_;){if(M.x>=m&&M.x<=y&&M.y>=v&&M.y<=x&&M!==r&&M!==o&&pc(a,h,l,d,u,p,M.x,M.y)&&rn(M.prev,M,M.next)>=0||(M=M.prevZ,S.x>=m&&S.x<=y&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&pc(a,h,l,d,u,p,S.x,S.y)&&rn(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;M&&M.z>=A;){if(M.x>=m&&M.x<=y&&M.y>=v&&M.y<=x&&M!==r&&M!==o&&pc(a,h,l,d,u,p,M.x,M.y)&&rn(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;S&&S.z<=_;){if(S.x>=m&&S.x<=y&&S.y>=v&&S.y<=x&&S!==r&&S!==o&&pc(a,h,l,d,u,p,S.x,S.y)&&rn(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function GG(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!kg(r,s)&&dR(r,i,i.next,s)&&qf(r,s)&&qf(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),$f(i),$f(i.next),i=n=s),i=i.next}while(i!==n);return ol(i)}function HG(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&ZG(o,a)){let l=pR(o,a);o=ol(o,o.next),l=ol(l,l.next),Zf(o,e,t,i,r,s,0),Zf(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function VG(n,e,t,i){const r=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,u=hR(n,a,l,i,!1),u===u.next&&(u.steiner=!0),r.push(QG(u));for(r.sort(WG),s=0;s<r.length;s++)t=jG(r[s],t);return t}function WG(n,e){return n.x-e.x}function jG(n,e){const t=JG(n,e);if(!t)return e;const i=pR(t,n);return ol(i,i.next),ol(t,t.next)}function JG(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,u=r.y;let h=1/0,d;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&pc(o<u?s:i,o,l,u,o<u?i:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),qf(t,n)&&(d<h||d===h&&(t.x>r.x||t.x===r.x&&XG(r,t)))&&(r=t,h=d)),t=t.next;while(t!==a);return r}function XG(n,e){return rn(n.prev,n,e.prev)<0&&rn(e.next,n,n.next)<0}function YG(n,e,t,i){let r=n;do r.z===0&&(r.z=pA(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,KG(r)}function KG(n){let e,t,i,r,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<u&&(a++,i=i.nextZ,!!i);e++);for(l=u;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,u*=2}while(o>1);return n}function pA(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function QG(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function pc(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function ZG(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!qG(n,e)&&(qf(n,e)&&qf(e,n)&&$G(n,e)&&(rn(n.prev,n,e.prev)||rn(n,e.prev,e))||kg(n,e)&&rn(n.prev,n,n.next)>0&&rn(e.prev,e,e.next)>0)}function rn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function kg(n,e){return n.x===e.x&&n.y===e.y}function dR(n,e,t,i){const r=Bp(rn(n,e,t)),s=Bp(rn(n,e,i)),o=Bp(rn(t,i,n)),a=Bp(rn(t,i,e));return!!(r!==s&&o!==a||r===0&&Pp(n,t,e)||s===0&&Pp(n,i,e)||o===0&&Pp(t,n,i)||a===0&&Pp(t,e,i))}function Pp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Bp(n){return n>0?1:n<0?-1:0}function qG(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&dR(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function qf(n,e){return rn(n.prev,n,n.next)<0?rn(n,e,n.next)>=0&&rn(n,n.prev,e)>=0:rn(n,e,n.prev)<0||rn(n,n.next,e)<0}function $G(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function pR(n,e){const t=new mA(n.i,n.x,n.y),i=new mA(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function uE(n,e,t,i){const r=new mA(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function $f(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function mA(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function eH(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class is{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return is.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];fE(e),hE(i,e);let o=e.length;t.forEach(fE);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,hE(i,t[l]);const a=OG.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function fE(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function hE(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Mh extends ht{constructor(e=new Za([new pe(.5,.5),new pe(-.5,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Ve(r,3)),this.setAttribute("uv",new Ve(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const A=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:tH;let M,S=!1,E,P,R,T;A&&(M=A.getSpacedPoints(h),S=!0,p=!1,E=A.computeFrenetFrames(h,!1),P=new D,R=new D,T=new D),p||(x=0,m=0,v=0,y=0);const B=a.extractPoints(u);let I=B.shape;const U=B.holes;if(!is.isClockWise(I)){I=I.reverse();for(let he=0,oe=U.length;he<oe;he++){const Se=U[he];is.isClockWise(Se)&&(U[he]=Se.reverse())}}const W=is.triangulateShape(I,U),H=I;for(let he=0,oe=U.length;he<oe;he++){const Se=U[he];I=I.concat(Se)}function Q(he,oe,Se){return oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),oe.clone().multiplyScalar(Se).add(he)}const ie=I.length,ce=W.length;function N(he,oe,Se){let Ue,be,Qe;const Ye=he.x-oe.x,je=he.y-oe.y,wt=Se.x-he.x,Mt=Se.y-he.y,O=Ye*Ye+je*je,L=Ye*Mt-je*wt;if(Math.abs(L)>Number.EPSILON){const se=Math.sqrt(O),we=Math.sqrt(wt*wt+Mt*Mt),Ce=oe.x-je/se,Te=oe.y+Ye/se,it=Se.x-Mt/we,De=Se.y+wt/we,me=((it-Ce)*Mt-(De-Te)*wt)/(Ye*Mt-je*wt);Ue=Ce+Ye*me-he.x,be=Te+je*me-he.y;const Ze=Ue*Ue+be*be;if(Ze<=2)return new pe(Ue,be);Qe=Math.sqrt(Ze/2)}else{let se=!1;Ye>Number.EPSILON?wt>Number.EPSILON&&(se=!0):Ye<-Number.EPSILON?wt<-Number.EPSILON&&(se=!0):Math.sign(je)===Math.sign(Mt)&&(se=!0),se?(Ue=-je,be=Ye,Qe=Math.sqrt(O)):(Ue=Ye,be=je,Qe=Math.sqrt(O/2))}return new pe(Ue/Qe,be/Qe)}const X=[];for(let he=0,oe=H.length,Se=oe-1,Ue=he+1;he<oe;he++,Se++,Ue++)Se===oe&&(Se=0),Ue===oe&&(Ue=0),X[he]=N(H[he],H[Se],H[Ue]);const j=[];let re,J=X.concat();for(let he=0,oe=U.length;he<oe;he++){const Se=U[he];re=[];for(let Ue=0,be=Se.length,Qe=be-1,Ye=Ue+1;Ue<be;Ue++,Qe++,Ye++)Qe===be&&(Qe=0),Ye===be&&(Ye=0),re[Ue]=N(Se[Ue],Se[Qe],Se[Ye]);j.push(re),J=J.concat(re)}for(let he=0;he<x;he++){const oe=he/x,Se=m*Math.cos(oe*Math.PI/2),Ue=v*Math.sin(oe*Math.PI/2)+y;for(let be=0,Qe=H.length;be<Qe;be++){const Ye=Q(H[be],X[be],Ue);Ne(Ye.x,Ye.y,-Se)}for(let be=0,Qe=U.length;be<Qe;be++){const Ye=U[be];re=j[be];for(let je=0,wt=Ye.length;je<wt;je++){const Mt=Q(Ye[je],re[je],Ue);Ne(Mt.x,Mt.y,-Se)}}}const ee=v+y;for(let he=0;he<ie;he++){const oe=p?Q(I[he],J[he],ee):I[he];S?(R.copy(E.normals[0]).multiplyScalar(oe.x),P.copy(E.binormals[0]).multiplyScalar(oe.y),T.copy(M[0]).add(R).add(P),Ne(T.x,T.y,T.z)):Ne(oe.x,oe.y,0)}for(let he=1;he<=h;he++)for(let oe=0;oe<ie;oe++){const Se=p?Q(I[oe],J[oe],ee):I[oe];S?(R.copy(E.normals[he]).multiplyScalar(Se.x),P.copy(E.binormals[he]).multiplyScalar(Se.y),T.copy(M[he]).add(R).add(P),Ne(T.x,T.y,T.z)):Ne(Se.x,Se.y,d/h*he)}for(let he=x-1;he>=0;he--){const oe=he/x,Se=m*Math.cos(oe*Math.PI/2),Ue=v*Math.sin(oe*Math.PI/2)+y;for(let be=0,Qe=H.length;be<Qe;be++){const Ye=Q(H[be],X[be],Ue);Ne(Ye.x,Ye.y,d+Se)}for(let be=0,Qe=U.length;be<Qe;be++){const Ye=U[be];re=j[be];for(let je=0,wt=Ye.length;je<wt;je++){const Mt=Q(Ye[je],re[je],Ue);S?Ne(Mt.x,Mt.y+M[h-1].y,M[h-1].x+Se):Ne(Mt.x,Mt.y,d+Se)}}}ve(),Ae();function ve(){const he=r.length/3;if(p){let oe=0,Se=ie*oe;for(let Ue=0;Ue<ce;Ue++){const be=W[Ue];ke(be[2]+Se,be[1]+Se,be[0]+Se)}oe=h+x*2,Se=ie*oe;for(let Ue=0;Ue<ce;Ue++){const be=W[Ue];ke(be[0]+Se,be[1]+Se,be[2]+Se)}}else{for(let oe=0;oe<ce;oe++){const Se=W[oe];ke(Se[2],Se[1],Se[0])}for(let oe=0;oe<ce;oe++){const Se=W[oe];ke(Se[0]+ie*h,Se[1]+ie*h,Se[2]+ie*h)}}i.addGroup(he,r.length/3-he,0)}function Ae(){const he=r.length/3;let oe=0;$(H,oe),oe+=H.length;for(let Se=0,Ue=U.length;Se<Ue;Se++){const be=U[Se];$(be,oe),oe+=be.length}i.addGroup(he,r.length/3-he,1)}function $(he,oe){let Se=he.length;for(;--Se>=0;){const Ue=Se;let be=Se-1;be<0&&(be=he.length-1);for(let Qe=0,Ye=h+x*2;Qe<Ye;Qe++){const je=ie*Qe,wt=ie*(Qe+1),Mt=oe+Ue+je,O=oe+be+je,L=oe+be+wt,se=oe+Ue+wt;He(Mt,O,L,se)}}}function Ne(he,oe,Se){l.push(he),l.push(oe),l.push(Se)}function ke(he,oe,Se){_e(he),_e(oe),_e(Se);const Ue=r.length/3,be=_.generateTopUV(i,r,Ue-3,Ue-2,Ue-1);Be(be[0]),Be(be[1]),Be(be[2])}function He(he,oe,Se,Ue){_e(he),_e(oe),_e(Ue),_e(oe),_e(Se),_e(Ue);const be=r.length/3,Qe=_.generateSideWallUV(i,r,be-6,be-3,be-2,be-1);Be(Qe[0]),Be(Qe[1]),Be(Qe[3]),Be(Qe[1]),Be(Qe[2]),Be(Qe[3])}function _e(he){r.push(l[he*3+0]),r.push(l[he*3+1]),r.push(l[he*3+2])}function Be(he){s.push(he.x),s.push(he.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return nH(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new __[r.type]().fromJSON(r)),new Mh(i,e.options)}}const tH={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],u=e[r*3],h=e[r*3+1];return[new pe(s,o),new pe(a,l),new pe(u,h)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[i*3],h=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],y=e[s*3],x=e[s*3+1],A=e[s*3+2];return Math.abs(a-h)<Math.abs(o-u)?[new pe(o,1-l),new pe(u,1-d),new pe(p,1-v),new pe(y,1-A)]:[new pe(a,1-l),new pe(h,1-d),new pe(m,1-v),new pe(x,1-A)]}};function nH(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Sh extends Qs{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Sh(e.radius,e.detail)}}class nu extends Qs{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new nu(e.radius,e.detail)}}class Ch extends ht{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],u=[],h=[];let d=e;const p=(t-e)/r,m=new D,v=new pe;for(let y=0;y<=r;y++){for(let x=0;x<=i;x++){const A=s+x/i*o;m.x=d*Math.cos(A),m.y=d*Math.sin(A),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,h.push(v.x,v.y)}d+=p}for(let y=0;y<r;y++){const x=y*(i+1);for(let A=0;A<i;A++){const _=A+x,M=_,S=_+i+1,E=_+i+2,P=_+1;a.push(M,S,P),a.push(S,E,P)}}this.setIndex(a),this.setAttribute("position",new Ve(l,3)),this.setAttribute("normal",new Ve(u,3)),this.setAttribute("uv",new Ve(h,2))}static fromJSON(e){return new Ch(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Eh extends ht{constructor(e=new Za([new pe(0,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ve(r,3)),this.setAttribute("normal",new Ve(s,3)),this.setAttribute("uv",new Ve(o,2));function u(h){const d=r.length/3,p=h.extractPoints(t);let m=p.shape;const v=p.holes;is.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,A=v.length;x<A;x++){const _=v[x];is.isClockWise(_)===!0&&(v[x]=_.reverse())}const y=is.triangulateShape(m,v);for(let x=0,A=v.length;x<A;x++){const _=v[x];m=m.concat(_)}for(let x=0,A=m.length;x<A;x++){const _=m[x];r.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,A=y.length;x<A;x++){const _=y[x],M=_[0]+d,S=_[1]+d,E=_[2]+d;i.push(M,S,E),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return iH(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Eh(i,e.curveSegments)}}function iH(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class iu extends ht{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let u=0;const h=[],d=new D,p=new D,m=[],v=[],y=[],x=[];for(let A=0;A<=i;A++){const _=[],M=A/i;let S=0;A==0&&o==0?S=.5/t:A==i&&l==Math.PI&&(S=-.5/t);for(let E=0;E<=t;E++){const P=E/t;d.x=-e*Math.cos(r+P*s)*Math.sin(o+M*a),d.y=e*Math.cos(o+M*a),d.z=e*Math.sin(r+P*s)*Math.sin(o+M*a),v.push(d.x,d.y,d.z),p.copy(d).normalize(),y.push(p.x,p.y,p.z),x.push(P+S,1-M),_.push(u++)}h.push(_)}for(let A=0;A<i;A++)for(let _=0;_<t;_++){const M=h[A][_+1],S=h[A][_],E=h[A+1][_],P=h[A+1][_+1];(A!==0||o>0)&&m.push(M,S,P),(A!==i-1||l<Math.PI)&&m.push(S,E,P)}this.setIndex(m),this.setAttribute("position",new Ve(v,3)),this.setAttribute("normal",new Ve(y,3)),this.setAttribute("uv",new Ve(x,2))}static fromJSON(e){return new iu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Th extends Qs{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Th(e.radius,e.detail)}}class bh extends ht{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],u=[],h=new D,d=new D,p=new D;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const y=v/r*s,x=m/i*Math.PI*2;d.x=(e+t*Math.cos(x))*Math.cos(y),d.y=(e+t*Math.cos(x))*Math.sin(y),d.z=t*Math.sin(x),a.push(d.x,d.y,d.z),h.x=e*Math.cos(y),h.y=e*Math.sin(y),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),u.push(v/r),u.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const y=(r+1)*m+v-1,x=(r+1)*(m-1)+v-1,A=(r+1)*(m-1)+v,_=(r+1)*m+v;o.push(y,x,_),o.push(x,A,_)}this.setIndex(o),this.setAttribute("position",new Ve(a,3)),this.setAttribute("normal",new Ve(l,3)),this.setAttribute("uv",new Ve(u,2))}static fromJSON(e){return new bh(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ph extends ht{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],u=[],h=[],d=new D,p=new D,m=new D,v=new D,y=new D,x=new D,A=new D;for(let M=0;M<=i;++M){const S=M/i*s*Math.PI*2;_(S,s,o,e,m),_(S+.01,s,o,e,v),x.subVectors(v,m),A.addVectors(v,m),y.crossVectors(x,A),A.crossVectors(y,x),y.normalize(),A.normalize();for(let E=0;E<=r;++E){const P=E/r*Math.PI*2,R=-t*Math.cos(P),T=t*Math.sin(P);d.x=m.x+(R*A.x+T*y.x),d.y=m.y+(R*A.y+T*y.y),d.z=m.z+(R*A.z+T*y.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),u.push(p.x,p.y,p.z),h.push(M/i),h.push(E/r)}}for(let M=1;M<=i;M++)for(let S=1;S<=r;S++){const E=(r+1)*(M-1)+(S-1),P=(r+1)*M+(S-1),R=(r+1)*M+S,T=(r+1)*(M-1)+S;a.push(E,P,T),a.push(P,R,T)}this.setIndex(a),this.setAttribute("position",new Ve(l,3)),this.setAttribute("normal",new Ve(u,3)),this.setAttribute("uv",new Ve(h,2));function _(M,S,E,P,R){const T=Math.cos(M),B=Math.sin(M),I=E/S*M,U=Math.cos(I);R.x=P*(2+U)*.5*T,R.y=P*(2+U)*B*.5,R.z=P*Math.sin(I)*.5}}static fromJSON(e){return new Ph(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Bh extends ht{constructor(e=new x_(new D(-1,-1,0),new D(-1,1,0),new D(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new D,l=new D,u=new pe;let h=new D;const d=[],p=[],m=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new Ve(d,3)),this.setAttribute("normal",new Ve(p,3)),this.setAttribute("uv",new Ve(m,2));function y(){for(let M=0;M<t;M++)x(M);x(s===!1?t:0),_(),A()}function x(M){h=e.getPointAt(M/t,h);const S=o.normals[M],E=o.binormals[M];for(let P=0;P<=r;P++){const R=P/r*Math.PI*2,T=Math.sin(R),B=-Math.cos(R);l.x=B*S.x+T*E.x,l.y=B*S.y+T*E.y,l.z=B*S.z+T*E.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=h.x+i*l.x,a.y=h.y+i*l.y,a.z=h.z+i*l.z,d.push(a.x,a.y,a.z)}}function A(){for(let M=1;M<=t;M++)for(let S=1;S<=r;S++){const E=(r+1)*(M-1)+(S-1),P=(r+1)*M+(S-1),R=(r+1)*M+S,T=(r+1)*(M-1)+S;v.push(E,P,T),v.push(P,R,T)}}function _(){for(let M=0;M<=t;M++)for(let S=0;S<=r;S++)u.x=M/t,u.y=S/r,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Bh(new __[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class mR extends ht{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new D,s=new D;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,h=l.length;u<h;++u){const d=l[u],p=d.start,m=d.count;for(let v=p,y=p+m;v<y;v+=3)for(let x=0;x<3;x++){const A=a.getX(v+x),_=a.getX(v+(x+1)%3);r.fromBufferAttribute(o,A),s.fromBufferAttribute(o,_),dE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const h=3*a+u,d=3*a+(u+1)%3;r.fromBufferAttribute(o,h),s.fromBufferAttribute(o,d),dE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ve(t,3))}}}function dE(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var pE=Object.freeze({__proto__:null,BoxGeometry:Zo,CapsuleGeometry:xh,CircleGeometry:Ah,ConeGeometry:_h,CylinderGeometry:dl,DodecahedronGeometry:wh,EdgesGeometry:fR,ExtrudeGeometry:Mh,IcosahedronGeometry:Sh,LatheGeometry:tu,OctahedronGeometry:nu,PlaneGeometry:$c,PolyhedronGeometry:Qs,RingGeometry:Ch,ShapeGeometry:Eh,SphereGeometry:iu,TetrahedronGeometry:Th,TorusGeometry:bh,TorusKnotGeometry:Ph,TubeGeometry:Bh,WireframeGeometry:mR});class gR extends Mn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Le(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class yR extends as{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Rh extends Mn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Le(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vr extends Rh{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return yn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Le(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Le(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Le(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class vR extends Mn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Le(16777215),this.specular=new Le(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=dh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xR extends Mn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Le(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class AR extends Mn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class _R extends Mn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Le(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=dh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wR extends Mn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Le(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MR extends ni{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function lr(n,e,t){return w_(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Ua(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function w_(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function SR(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function gA(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function M_(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function rH(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],h=u.getValueSize(),d=[],p=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*r;if(!(v<t||v>=i)){d.push(u.times[m]);for(let y=0;y<h;++y)p.push(u.values[m*h+y])}}d.length!==0&&(u.times=Ua(d,u.times.constructor),u.values=Ua(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function sH(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(A){return A.name===a.name&&A.ValueTypeName===l});if(u===void 0)continue;let h=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const A=h,_=d-h;y=lr(a.values,A,_)}else if(s>=a.times[v]){const A=v*d+h,_=A+d-h;y=lr(a.values,A,_)}else{const A=a.createInterpolant(),_=h,M=d-h;A.evaluate(s),y=lr(A.resultBuffer,_,M)}l==="quaternion"&&new On().fromArray(y).normalize().conjugate().toArray(y);const x=u.times.length;for(let A=0;A<x;++A){const _=A*m+p;if(l==="quaternion")On.multiplyQuaternionsFlat(u.values,_,y,0,u.values,_);else{const M=m-p*2;for(let S=0;S<M;++S)u.values[_+S]-=y[S]}}}return n.blendMode=Q1,n}var oH=Object.freeze({__proto__:null,arraySlice:lr,convertArray:Ua,flattenJSON:M_,getKeyframeOrder:SR,isTypedArray:w_,makeClipAdditive:sH,sortedArray:gA,subclip:rH});class ru{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CR extends ru{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Na,endingEnd:Na}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case ka:s=e,a=2*t-i;break;case Jf:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case ka:o=e,l=2*i-t;break;case Jf:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const u=(i-t)*.5,h=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-i),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),y=v*v,x=y*v,A=-p*x+2*p*y-p*v,_=(1+p)*x+(-1.5-2*p)*y+(-.5+p)*v+1,M=(-1-m)*x+(1.5+m)*y+.5*v,S=m*x-m*y;for(let E=0;E!==a;++E)s[E]=A*o[h+E]+_*o[u+E]+M*o[l+E]+S*o[d+E];return s}}class S_ extends ru{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=(i-t)/(r-t),d=1-h;for(let p=0;p!==a;++p)s[p]=o[u+p]*d+o[l+p]*h;return s}}class ER extends ru{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Hr{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ua(t,this.TimeBufferType),this.values=Ua(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Ua(e.times,Array),values:Ua(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new ER(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new S_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CR(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Uc:t=this.InterpolantFactoryMethodDiscrete;break;case rl:t=this.InterpolantFactoryMethodLinear;break;case fm:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Uc;case this.InterpolantFactoryMethodLinear:return rl;case this.InterpolantFactoryMethodSmooth:return fm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=lr(i,s,o),this.values=lr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&w_(r))for(let a=0,l=r.length;a!==l;++a){const u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=lr(this.times),t=lr(this.values),i=this.getValueSize(),r=this.getInterpolation()===fm,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],h=e[a+1];if(u!==h&&(a!==1||u!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let v=0;v!==i;++v){const y=t[d+v];if(y!==t[p+v]||y!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,u=0;u!==i;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=lr(e,0,o),this.values=lr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=lr(this.times,0),t=lr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Hr.prototype.TimeBufferType=Float32Array;Hr.prototype.ValueBufferType=Float32Array;Hr.prototype.DefaultInterpolation=rl;class pl extends Hr{}pl.prototype.ValueTypeName="bool";pl.prototype.ValueBufferType=Array;pl.prototype.DefaultInterpolation=Uc;pl.prototype.InterpolantFactoryMethodLinear=void 0;pl.prototype.InterpolantFactoryMethodSmooth=void 0;class C_ extends Hr{}C_.prototype.ValueTypeName="color";class al extends Hr{}al.prototype.ValueTypeName="number";class TR extends ru{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let u=e*a;for(let h=u+a;u!==h;u+=4)On.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Ho extends Hr{InterpolantFactoryMethodLinear(e){return new TR(this.times,this.values,this.getValueSize(),e)}}Ho.prototype.ValueTypeName="quaternion";Ho.prototype.DefaultInterpolation=rl;Ho.prototype.InterpolantFactoryMethodSmooth=void 0;class ml extends Hr{}ml.prototype.ValueTypeName="string";ml.prototype.ValueBufferType=Array;ml.prototype.DefaultInterpolation=Uc;ml.prototype.InterpolantFactoryMethodLinear=void 0;ml.prototype.InterpolantFactoryMethodSmooth=void 0;class ll extends Hr{}ll.prototype.ValueTypeName="vector";class Hc{constructor(e,t=-1,i,r=bg){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=zi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(lH(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Hr.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const h=SR(l);l=gA(l,1,h),u=gA(u,1,h),!r&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new al(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],h=u.name.match(s);if(h&&h.length>1){const d=h[1];let p=r[d];p||(r[d]=p=[]),p.push(u)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,v,y){if(m.length!==0){const x=[],A=[];M_(m,x,A,v),x.length!==0&&y.push(new d(p,x,A))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const p=u[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let y=0;y<p[v].morphTargets.length;y++)m[p[v].morphTargets[y]]=-1;for(const y in m){const x=[],A=[];for(let _=0;_!==p[v].morphTargets.length;++_){const M=p[v];x.push(M.time),A.push(M.morphTarget===y?1:0)}r.push(new al(".morphTargetInfluence["+y+"]",x,A))}l=m.length*o}else{const m=".bones["+t[d].name+"]";i(ll,m+".position",p,"pos",r),i(Ho,m+".quaternion",p,"rot",r),i(ll,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function aH(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return al;case"vector":case"vector2":case"vector3":case"vector4":return ll;case"color":return C_;case"quaternion":return Ho;case"bool":case"boolean":return pl;case"string":return ml}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function lH(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=aH(n.type);if(n.times===void 0){const t=[],i=[];M_(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const cl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class E_{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(h){a++,s===!1&&r.onStart!==void 0&&r.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,r.onProgress!==void 0&&r.onProgress(h,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,d){return u.push(h,d),this},this.removeHandler=function(h){const d=u.indexOf(h);return d!==-1&&u.splice(d,2),this},this.getHandler=function(h){for(let d=0,p=u.length;d<p;d+=2){const m=u[d],v=u[d+1];if(m.global&&(m.lastIndex=0),m.test(h))return v}return null}}}const mc=new E_;class mi{constructor(e){this.manager=e!==void 0?e:mc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Cs={};class cH extends Error{constructor(e,t){super(e),this.response=t}}class Vi extends mi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=cl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Cs[e]!==void 0){Cs[e].push({onLoad:t,onProgress:i,onError:r});return}Cs[e]=[],Cs[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=Cs[e],d=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let y=0;const x=new ReadableStream({start(A){_();function _(){d.read().then(({done:M,value:S})=>{if(M)A.close();else{y+=S.byteLength;const E=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:m});for(let P=0,R=h.length;P<R;P++){const T=h[P];T.onProgress&&T.onProgress(E)}A.enqueue(S),_()}})}}});return new Response(x)}else throw new cH(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(v=>m.decode(v))}}}).then(u=>{cl.add(e,u);const h=Cs[e];delete Cs[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onLoad&&m.onLoad(u)}}).catch(u=>{const h=Cs[e];if(h===void 0)throw this.manager.itemError(e),u;delete Cs[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class uH extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Vi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Hc.parse(e[i]);t.push(r)}return t}}class fH extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new m_,l=new Vi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function h(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=nn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)h(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+y]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=nn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class eh extends mi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=cl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Kf("img");function l(){h(),cl.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(d){h(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class hH extends mi{constructor(e){super(e)}load(e,t,i,r){const s=new mh,o=new eh(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(h){s.images[u]=h,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class dH extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Tc,a=new Vi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Hn,o.wrapT=u.wrapT!==void 0?u.wrapT:Hn,o.magFilter=u.magFilter!==void 0?u.magFilter:nn,o.minFilter=u.minFilter!==void 0?u.minFilter:nn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=os),u.mipmapCount===1&&(o.minFilter=nn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},i,r),o}}class Ih extends mi{constructor(e){super(e)}load(e,t,i,r){const s=new jt,o=new eh(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class qo extends Tt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Le(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class bR extends qo{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Tt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Le(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const av=new st,mE=new D,gE=new D;class T_{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pe(512,512),this.map=null,this.mapPass=null,this.matrix=new st,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Bg,this._frameExtents=new pe(1,1),this._viewportCount=1,this._viewports=[new Ot(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;mE.setFromMatrixPosition(e.matrixWorld),t.position.copy(mE),gE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(gE),t.updateMatrixWorld(),av.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(av),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(av)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class pH extends T_{constructor(){super(new Xt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Yf*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class b_ extends qo{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Tt.DEFAULT_UP),this.updateMatrix(),this.target=new Tt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new pH}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const yE=new st,ju=new D,lv=new D;class mH extends T_{constructor(){super(new Xt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pe(4,2),this._viewportCount=6,this._viewports=[new Ot(2,1,1,1),new Ot(0,1,1,1),new Ot(3,1,1,1),new Ot(1,1,1,1),new Ot(3,0,1,1),new Ot(1,0,1,1)],this._cubeDirections=[new D(1,0,0),new D(-1,0,0),new D(0,0,1),new D(0,0,-1),new D(0,1,0),new D(0,-1,0)],this._cubeUps=[new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,0,1),new D(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),ju.setFromMatrixPosition(e.matrixWorld),i.position.copy(ju),lv.copy(i.position),lv.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(lv),i.updateMatrixWorld(),r.makeTranslation(-ju.x,-ju.y,-ju.z),yE.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yE)}}class P_ extends qo{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new mH}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class gH extends T_{constructor(){super(new dr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class B_ extends qo{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Tt.DEFAULT_UP),this.updateMatrix(),this.target=new Tt,this.shadow=new gH}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class PR extends qo{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class BR extends qo{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class RR{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new D)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class Og extends qo{constructor(e=new RR,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Ug extends mi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Vi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=Ug.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Le().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Le().setHex(o.value);break;case"v2":r.uniforms[s].value=new pe().fromArray(o.value);break;case"v3":r.uniforms[s].value=new D().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Ot().fromArray(o.value);break;case"m3":r.uniforms[s].value=new ui().fromArray(o.value);break;case"m4":r.uniforms[s].value=new st().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new pe().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new pe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:gR,SpriteMaterial:u_,RawShaderMaterial:yR,ShaderMaterial:as,PointsMaterial:vh,MeshPhysicalMaterial:vr,MeshStandardMaterial:Rh,MeshPhongMaterial:vR,MeshToonMaterial:xR,MeshNormalMaterial:AR,MeshLambertMaterial:_R,MeshDepthMaterial:a_,MeshDistanceMaterial:l_,MeshBasicMaterial:Oi,MeshMatcapMaterial:wR,LineDashedMaterial:MR,LineBasicMaterial:ni,Material:Mn};return new t[e]}}class Lo{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class IR extends ht{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class LR extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Vi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const x=m.interleavedBuffers[v],A=s(m,x.buffer),_=hc(x.type,A),M=new gh(_,x.stride);return M.uuid=x.uuid,t[v]=M,M}function s(m,v){if(i[v]!==void 0)return i[v];const x=m.arrayBuffers[v],A=new Uint32Array(x).buffer;return i[v]=A,A}const o=e.isInstancedBufferGeometry?new IR:new ht,a=e.data.index;if(a!==void 0){const m=hc(a.type,a.array);o.setIndex(new Ft(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let y;if(v.isInterleavedBufferAttribute){const x=r(e.data,v.data);y=new Go(x,v.itemSize,v.offset,v.normalized)}else{const x=hc(v.type,v.array),A=v.isInstancedBufferAttribute?sl:Ft;y=new A(x,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),v.updateRange!==void 0&&(y.updateRange.offset=v.updateRange.offset,y.updateRange.count=v.updateRange.count),o.setAttribute(m,y)}const u=e.data.morphAttributes;if(u)for(const m in u){const v=u[m],y=[];for(let x=0,A=v.length;x<A;x++){const _=v[x];let M;if(_.isInterleavedBufferAttribute){const S=r(e.data,_.data);M=new Go(S,_.itemSize,_.offset,_.normalized)}else{const S=hc(_.type,_.array);M=new Ft(S,_.itemSize,_.normalized)}_.name!==void 0&&(M.name=_.name),y.push(M)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const y=d[m];o.addGroup(y.start,y.count,y.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new D;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Qo(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class yH extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?Lo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Vi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Lo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Vi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,i),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Za().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new yh().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new LR;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in pE?a=pE[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new Ug;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Hc.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return o(h)}else return l.data?{data:hc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new E_(t);s=new eh(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const x=p[v],A=a(x);A!==null&&(A instanceof HTMLImageElement?m.push(A):m.push(new Tc(A.data,A.width,A.height)))}r[d.uuid]=new Oa(m)}else{const m=a(d.url);r[d.uuid]=new Oa(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:hc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new eh(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const h=[];for(let d=0,p=u.length;d<p;d++){const m=u[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new Tc(v.data,v.width,v.height)))}i[l.uuid]=new Oa(h)}else{const h=await s(l.url);i[l.uuid]=new Oa(h)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let h;Array.isArray(u)?(h=new mh,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new Tc:h=new jt,u&&(h.needsUpdate=!0)),h.source=l,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=i(a.mapping,vH)),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=i(a.wrap[0],vE),h.wrapT=i(a.wrap[1],vE)),a.format!==void 0&&(h.format=a.format),a.type!==void 0&&(h.type=a.type),a.encoding!==void 0&&(h.encoding=a.encoding),a.minFilter!==void 0&&(h.minFilter=i(a.minFilter,xE)),a.magFilter!==void 0&&(h.magFilter=i(a.magFilter,xE)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(h.userData=a.userData),r[a.uuid]=h}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const x=p[v];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function u(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let h,d;switch(e.type){case"Scene":o=new Ym,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Le(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Lg(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Ig(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Xt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new dr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new PR(e.color,e.intensity);break;case"DirectionalLight":o=new B_(e.color,e.intensity);break;case"PointLight":o=new P_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new BR(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new b_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new bR(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Og().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),d=l(e.material),o=new f_(h,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),d=l(e.material),o=new bn(h,d);break;case"InstancedMesh":h=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new h_(h,d,p),o.instanceMatrix=new sl(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new sl(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new sR;break;case"Line":o=new Ys(a(e.geometry),l(e.material));break;case"LineLoop":o=new d_(a(e.geometry),l(e.material));break;case"LineSegments":o=new zr(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new p_(a(e.geometry),l(e.material));break;case"Sprite":o=new rR(l(e.material));break;case"Group":o=new Ns;break;case"Bone":o=new Dg;break;default:o=new Tt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const vH={UVMapping:Eg,CubeReflectionMapping:ko,CubeRefractionMapping:Oo,EquirectangularReflectionMapping:Vf,EquirectangularRefractionMapping:Wf,CubeUVReflectionMapping:Zc},vE={RepeatWrapping:Uo,ClampToEdgeWrapping:Hn,MirroredRepeatWrapping:kc},xE={NearestFilter:dn,NearestMipmapNearestFilter:jf,NearestMipmapLinearFilter:Ec,LinearFilter:nn,LinearMipmapNearestFilter:Tg,LinearMipmapLinearFilter:os};class DR extends mi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=cl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){cl.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Rp;class R_{static getContext(){return Rp===void 0&&(Rp=new(window.AudioContext||window.webkitAudioContext)),Rp}static setContext(e){Rp=e}}class xH extends mi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Vi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);R_.getContext().decodeAudioData(l,function(h){t(h)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class AH extends Og{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Le().set(e),s=new Le().set(t),o=new D(r.r,r.g,r.b),a=new D(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class _H extends Og{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Le().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const AE=new st,_E=new st,pa=new st;class wH{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Xt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Xt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,pa.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Ya*t.fov*.5)/t.zoom;let a,l;_E.elements[12]=-r,AE.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,pa.elements[0]=2*t.near/(l-a),pa.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(pa),a=-o*t.aspect-s,l=o*t.aspect-s,pa.elements[0]=2*t.near/(l-a),pa.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(pa)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_E),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(AE)}}class I_{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=wE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=wE();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function wE(){return(typeof performance>"u"?Date:performance).now()}const ma=new D,ME=new On,MH=new D,ga=new D;class SH extends Tt{constructor(){super(),this.type="AudioListener",this.context=R_.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new I_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ma,ME,MH),ga.set(0,0,-1).applyQuaternion(ME),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ma.x,r),t.positionY.linearRampToValueAtTime(ma.y,r),t.positionZ.linearRampToValueAtTime(ma.z,r),t.forwardX.linearRampToValueAtTime(ga.x,r),t.forwardY.linearRampToValueAtTime(ga.y,r),t.forwardZ.linearRampToValueAtTime(ga.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(ma.x,ma.y,ma.z),t.setOrientation(ga.x,ga.y,ga.z,i.x,i.y,i.z)}}class FR extends Tt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ya=new D,SE=new On,CH=new D,va=new D;class EH extends FR{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ya,SE,CH),va.set(0,0,1).applyQuaternion(SE);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ya.x,i),t.positionY.linearRampToValueAtTime(ya.y,i),t.positionZ.linearRampToValueAtTime(ya.z,i),t.orientationX.linearRampToValueAtTime(va.x,i),t.orientationY.linearRampToValueAtTime(va.y,i),t.orientationZ.linearRampToValueAtTime(va.z,i)}else t.setPosition(ya.x,ya.y,ya.z),t.setOrientation(va.x,va.y,va.z)}}class TH{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class NR{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){On.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;On.multiplyQuaternionsFlat(e,o,e,t,e,i),On.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const L_="\\[\\]\\.:\\/",bH=new RegExp("["+L_+"]","g"),D_="[^"+L_+"]",PH="[^"+L_.replace("\\.","")+"]",BH=/((?:WC+[\/:])*)/.source.replace("WC",D_),RH=/(WCOD+)?/.source.replace("WCOD",PH),IH=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",D_),LH=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",D_),DH=new RegExp("^"+BH+RH+IH+LH+"$"),FH=["material","materials","bones","map"];class NH{constructor(e,t,i){const r=i||Pt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Pt{constructor(e,t,i){this.path=t,this.parsedPath=i||Pt.parseTrackName(t),this.node=Pt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Pt.Composite(e,t,i):new Pt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(bH,"")}static parseTrackName(e){const t=DH.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);FH.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Pt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[r];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Pt.Composite=NH;Pt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Pt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Pt.prototype.GetterByBindingType=[Pt.prototype._getValue_direct,Pt.prototype._getValue_array,Pt.prototype._getValue_arrayElement,Pt.prototype._getValue_toArray];Pt.prototype.SetterByBindingTypeAndVersioning=[[Pt.prototype._setValue_direct,Pt.prototype._setValue_direct_setNeedsUpdate,Pt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Pt.prototype._setValue_array,Pt.prototype._setValue_array_setNeedsUpdate,Pt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Pt.prototype._setValue_arrayElement,Pt.prototype._setValue_arrayElement_setNeedsUpdate,Pt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Pt.prototype._setValue_fromArray,Pt.prototype._setValue_fromArray_setNeedsUpdate,Pt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class kH{constructor(){this.isAnimationObjectGroup=!0,this.uuid=zi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let y=0,x=o;y!==x;++y)s[y].push(new Pt(p,i[y],r[y]))}else if(v<u){a=e[v];const y=--u,x=e[y];t[x.uuid]=v,e[v]=x,t[m]=y,e[y]=p;for(let A=0,_=o;A!==_;++A){const M=s[A],S=M[y];let E=M[v];M[v]=S,E===void 0&&(E=new Pt(p,i[A],r[A])),M[y]=E}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,h=t[u];if(h!==void 0&&h>=s){const d=s++,p=e[d];t[p.uuid]=h,e[h]=p,t[u]=d,e[d]=l;for(let m=0,v=r;m!==v;++m){const y=i[m],x=y[d],A=y[h];y[h]=x,y[d]=A}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],h=u.uuid,d=t[h];if(d!==void 0)if(delete t[h],d<s){const p=--s,m=e[p],v=--o,y=e[v];t[m.uuid]=d,e[d]=m,t[y.uuid]=p,e[p]=y,e.pop();for(let x=0,A=r;x!==A;++x){const _=i[x],M=_[p],S=_[v];_[d]=M,_[p]=S,_.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let v=0,y=r;v!==y;++v){const x=i[v];x[d]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,h=this.nCachedObjects_,d=new Array(u);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=h,m=l.length;p!==m;++p){const v=l[p];d[p]=new Pt(v,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class OH{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Na,endingEnd:Na};for(let u=0;u!==o;++u){const h=s[u].createInterpolant(null);a[u]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=NB,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Q1:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),u[h].accumulateAdditive(a);break;case bg:default:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),u[h].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===kB;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===FB){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=ka,r.endingEnd=ka):(e?r.endingStart=this.zeroSlopeAtStart?ka:Na:r.endingStart=Jf,t?r.endingEnd=this.zeroSlopeAtEnd?ka:Na:r.endingEnd=Jf)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const UH=new Float32Array(1);class zH extends cs{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let h=u[l];h===void 0&&(h={},u[l]=h);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let v=h[m];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const y=t&&t._propertyBindings[d].binding.parsedPath;v=new NR(Pt.create(i,m,y),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,l[h]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new S_(new Float32Array(2),new Float32Array(2),1,UH),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Hc.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(i===void 0&&(o!==null?i=o.blendMode:i=bg),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const h=new OH(this,o,t,i);return this._bindAction(h,u),this._addInactiveAction(h,a,s),h}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Hc.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const h=u._cacheIndex,d=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=h,t[h]=d,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class F_{constructor(e){this.value=e}clone(){return new F_(this.value.clone===void 0?this.value:this.value.clone())}}let GH=0;class HH extends cs{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:GH++}),this.name="",this.usage=Xf,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class VH extends gh{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class WH{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class kR{constructor(e,t,i=0,r=1/0){this.ray=new qc(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Qa,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return yA(e,this,i,t),i.sort(CE),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)yA(e[r],this,i,t);return i.sort(CE),i}}function CE(n,e){return n.distance-e.distance}function yA(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)yA(r[s],e,t,!0)}}class vA{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(yn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class jH{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const EE=new pe;class JH{constructor(e=new pe(1/0,1/0),t=new pe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=EE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return EE.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const TE=new D,Ip=new D;class XH{constructor(e=new D,t=new D){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){TE.subVectors(e,this.start),Ip.subVectors(this.end,this.start);const i=Ip.dot(Ip);let s=Ip.dot(TE)/i;return t&&(s=yn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const bE=new D;class YH extends Tt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new ht,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,h=a/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}i.setAttribute("position",new Ve(r,3));const s=new ni({fog:!1,toneMapped:!1});this.cone=new zr(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),bE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(bE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const uo=new D,Lp=new st,cv=new st;class KH extends zr{constructor(e){const t=OR(e),i=new ht,r=[],s=[],o=new Le(0,0,1),a=new Le(0,1,0);for(let u=0;u<t.length;u++){const h=t[u];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ve(r,3)),i.setAttribute("color",new Ve(s,3));const l=new ni({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");cv.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Lp.multiplyMatrices(cv,a.matrixWorld),uo.setFromMatrixPosition(Lp),r.setXYZ(o,uo.x,uo.y,uo.z),Lp.multiplyMatrices(cv,a.parent.matrixWorld),uo.setFromMatrixPosition(Lp),r.setXYZ(o+1,uo.x,uo.y,uo.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function OR(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,OR(n.children[t]));return e}class QH extends bn{constructor(e,t,i){const r=new iu(t,4,2),s=new Oi({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const ZH=new D,PE=new Le,BE=new Le;class qH extends Tt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new nu(t);r.rotateY(Math.PI*.5),this.material=new Oi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Ft(o,3)),this.add(new bn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");PE.copy(this.light.color),BE.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?PE:BE;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ZH.setFromMatrixPosition(this.light.matrixWorld).negate())}}class $H extends zr{constructor(e=10,t=10,i=4473924,r=8947848){i=new Le(i),r=new Le(r);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const y=p===s?i:r;y.toArray(u,m),m+=3,y.toArray(u,m),m+=3,y.toArray(u,m),m+=3,y.toArray(u,m),m+=3}const h=new ht;h.setAttribute("position",new Ve(l,3)),h.setAttribute("color",new Ve(u,3));const d=new ni({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class e5 extends zr{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Le(s),o=new Le(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const y=d&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let v=0;v<r;v++){let y=v/r*(Math.PI*2),x=Math.sin(y)*m,A=Math.cos(y)*m;a.push(x,0,A),l.push(p.r,p.g,p.b),y=(v+1)/r*(Math.PI*2),x=Math.sin(y)*m,A=Math.cos(y)*m,a.push(x,0,A),l.push(p.r,p.g,p.b)}}const u=new ht;u.setAttribute("position",new Ve(a,3)),u.setAttribute("color",new Ve(l,3));const h=new ni({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const RE=new D,Dp=new D,IE=new D;class t5 extends Tt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ht;r.setAttribute("position",new Ve([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ni({fog:!1,toneMapped:!1});this.lightPlane=new Ys(r,s),this.add(this.lightPlane),r=new ht,r.setAttribute("position",new Ve([0,0,0,0,0,1],3)),this.targetLine=new Ys(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),RE.setFromMatrixPosition(this.light.matrixWorld),Dp.setFromMatrixPosition(this.light.target.matrixWorld),IE.subVectors(Dp,RE),this.lightPlane.lookAt(Dp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Dp),this.targetLine.scale.z=IE.length()}}const Fp=new D,fn=new ph;class n5 extends zr{constructor(e){const t=new ht,i=new ni({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){l(v),l(y)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new Ve(r,3)),t.setAttribute("color",new Ve(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Le(16755200),h=new Le(16711680),d=new Le(43775),p=new Le(16777215),m=new Le(3355443);this.setColors(u,h,d,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;fn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),mn("c",t,e,fn,0,0,-1),mn("t",t,e,fn,0,0,1),mn("n1",t,e,fn,-i,-r,-1),mn("n2",t,e,fn,i,-r,-1),mn("n3",t,e,fn,-i,r,-1),mn("n4",t,e,fn,i,r,-1),mn("f1",t,e,fn,-i,-r,1),mn("f2",t,e,fn,i,-r,1),mn("f3",t,e,fn,-i,r,1),mn("f4",t,e,fn,i,r,1),mn("u1",t,e,fn,i*.7,r*1.1,-1),mn("u2",t,e,fn,-i*.7,r*1.1,-1),mn("u3",t,e,fn,0,r*2,-1),mn("cf1",t,e,fn,-i,0,1),mn("cf2",t,e,fn,i,0,1),mn("cf3",t,e,fn,0,-r,1),mn("cf4",t,e,fn,0,r,1),mn("cn1",t,e,fn,-i,0,-1),mn("cn2",t,e,fn,i,0,-1),mn("cn3",t,e,fn,0,-r,-1),mn("cn4",t,e,fn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function mn(n,e,t,i,r,s,o){Fp.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,h=a.length;u<h;u++)l.setXYZ(a[u],Fp.x,Fp.y,Fp.z)}}const Np=new Ko;class i5 extends zr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ht;s.setIndex(new Ft(i,1)),s.setAttribute("position",new Ft(r,3)),super(s,new ni({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Np.setFromObject(this.object),Np.isEmpty())return;const t=Np.min,i=Np.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class r5 extends zr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ht;s.setIndex(new Ft(i,1)),s.setAttribute("position",new Ve(r,3)),super(s,new ni({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class s5 extends Ys{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ht;o.setAttribute("position",new Ve(s,3)),o.computeBoundingSphere(),super(o,new ni({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ht;l.setAttribute("position",new Ve(a,3)),l.computeBoundingSphere(),this.add(new bn(l,new Oi({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const LE=new D;let kp,uv;class o5 extends Tt{constructor(e=new D(0,0,1),t=new D(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",kp===void 0&&(kp=new ht,kp.setAttribute("position",new Ve([0,0,0,0,1,0],3)),uv=new dl(0,.5,1,5,1),uv.translate(0,-.5,0)),this.position.copy(t),this.line=new Ys(kp,new ni({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new bn(uv,new Oi({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{LE.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(LE,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class a5 extends zr{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ht;r.setAttribute("position",new Ve(t,3)),r.setAttribute("color",new Ve(i,3));const s=new ni({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Le,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class l5{constructor(){this.type="ShapePath",this.color=new Le,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Qf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(A){const _=[];for(let M=0,S=A.length;M<S;M++){const E=A[M],P=new Za;P.curves=E.curves,_.push(P)}return _}function i(A,_){const M=_.length;let S=!1;for(let E=M-1,P=0;P<M;E=P++){let R=_[E],T=_[P],B=T.x-R.x,I=T.y-R.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(R=_[P],B=-B,T=_[E],I=-I),A.y<R.y||A.y>T.y)continue;if(A.y===R.y){if(A.x===R.x)return!0}else{const U=I*(A.x-R.x)-B*(A.y-R.y);if(U===0)return!0;if(U<0)continue;S=!S}}else{if(A.y!==R.y)continue;if(T.x<=A.x&&A.x<=R.x||R.x<=A.x&&A.x<=T.x)return!0}}return S}const r=is.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new Za,l.curves=a.curves,u.push(l),u;let h=!r(s[0].getPoints());h=e?!h:h;const d=[],p=[];let m=[],v=0,y;p[v]=void 0,m[v]=[];for(let A=0,_=s.length;A<_;A++)a=s[A],y=a.getPoints(),o=r(y),o=e?!o:o,o?(!h&&p[v]&&v++,p[v]={s:new Za,p:y},p[v].s.curves=a.curves,h&&v++,m[v]=[]):m[v].push({h:a,p:y[0]});if(!p[0])return t(s);if(p.length>1){let A=!1,_=0;for(let M=0,S=p.length;M<S;M++)d[M]=[];for(let M=0,S=p.length;M<S;M++){const E=m[M];for(let P=0;P<E.length;P++){const R=E[P];let T=!0;for(let B=0;B<p.length;B++)i(R.p,p[B].p)&&(M!==B&&_++,T?(T=!1,d[B].push(R)):A=!0);T&&d[M].push(R)}}_>0&&A===!1&&(m=d)}let x;for(let A=0,_=p.length;A<_;A++){l=p[A].s,u.push(l),x=m[A];for(let M=0,S=x.length;M<S;M++)l.holes.push(x[M].h)}return u}}const Rs=c5();function c5(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,h=0;for(;!(u&8388608);)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[l]=u|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function u5(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=yn(n,-65504,65504),Rs.floatView[0]=n;const e=Rs.uint32View[0],t=e>>23&511;return Rs.baseTable[t]+((e&8388607)>>Rs.shiftTable[t])}function f5(n){const e=n>>10;return Rs.uint32View[0]=Rs.mantissaTable[Rs.offsetTable[e]+(n&1023)]+Rs.exponentTable[e],Rs.floatView[0]}var h5=Object.freeze({__proto__:null,fromHalfFloat:f5,toHalfFloat:u5});class d5 extends Zo{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class p5 extends xh{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class m5 extends Ah{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class g5 extends _h{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class y5 extends dl{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class v5 extends wh{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class x5 extends Mh{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class A5 extends Sh{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class _5 extends tu{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class w5 extends nu{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class M5 extends $c{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class S5 extends Qs{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class C5 extends Ch{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class E5 extends Eh{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class T5 extends iu{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class b5 extends Th{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class P5 extends bh{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class B5 extends Ph{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class R5 extends Bh{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Qc}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Qc);const I5=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Y1,AddEquation:Pa,AddOperation:mB,AdditiveAnimationBlendMode:Q1,AdditiveBlending:Fx,AlphaFormat:CB,AlwaysDepth:lB,AlwaysStencilFunc:HB,AmbientLight:PR,AmbientLightProbe:_H,AnimationClip:Hc,AnimationLoader:uH,AnimationMixer:zH,AnimationObjectGroup:kH,AnimationUtils:oH,ArcCurve:oR,ArrayCamera:eR,ArrowHelper:o5,Audio:FR,AudioAnalyser:TH,AudioContext:R_,AudioListener:SH,AudioLoader:xH,AxesHelper:a5,BackSide:Ti,BasicDepthPacking:UB,BasicShadowMap:Y2,Bone:Dg,BooleanKeyframeTrack:pl,Box2:JH,Box3:Ko,Box3Helper:r5,BoxBufferGeometry:d5,BoxGeometry:Zo,BoxHelper:i5,BufferAttribute:Ft,BufferGeometry:ht,BufferGeometryLoader:LR,ByteType:AB,Cache:cl,Camera:ph,CameraHelper:n5,CanvasTexture:BG,CapsuleBufferGeometry:p5,CapsuleGeometry:xh,CatmullRomCurve3:aR,CineonToneMapping:vB,CircleBufferGeometry:m5,CircleGeometry:Ah,ClampToEdgeWrapping:Hn,Clock:I_,Color:Le,ColorKeyframeTrack:C_,ColorManagement:$n,CompressedArrayTexture:PG,CompressedTexture:m_,CompressedTextureLoader:fH,ConeBufferGeometry:g5,ConeGeometry:_h,CubeCamera:r_,CubeReflectionMapping:ko,CubeRefractionMapping:Oo,CubeTexture:mh,CubeTextureLoader:hH,CubeUVReflectionMapping:Zc,CubicBezierCurve:y_,CubicBezierCurve3:lR,CubicInterpolant:CR,CullFaceBack:Dx,CullFaceFront:X2,CullFaceFrontBack:NN,CullFaceNone:J2,Curve:Gr,CurvePath:uR,CustomBlending:K2,CustomToneMapping:xB,CylinderBufferGeometry:y5,CylinderGeometry:dl,Cylindrical:jH,Data3DTexture:t_,DataArrayTexture:Pg,DataTexture:Tc,DataTextureLoader:dH,DataUtils:h5,DecrementStencilOp:JN,DecrementWrapStencilOp:YN,DefaultLoadingManager:mc,DepthFormat:Io,DepthStencilFormat:il,DepthTexture:tR,DirectionalLight:B_,DirectionalLightHelper:t5,DiscreteInterpolant:ER,DodecahedronBufferGeometry:v5,DodecahedronGeometry:wh,DoubleSide:Ir,DstAlphaFactor:nB,DstColorFactor:rB,DynamicCopyUsage:lk,DynamicDrawUsage:Xa,DynamicReadUsage:sk,EdgesGeometry:fR,EllipseCurve:Fg,EqualDepth:uB,EqualStencilFunc:qN,EquirectangularReflectionMapping:Vf,EquirectangularRefractionMapping:Wf,Euler:hl,EventDispatcher:cs,ExtrudeBufferGeometry:x5,ExtrudeGeometry:Mh,FileLoader:Vi,Float16BufferAttribute:Hk,Float32BufferAttribute:Ve,Float64BufferAttribute:Vk,FloatType:Ds,Fog:Lg,FogExp2:Ig,FramebufferTexture:bG,FrontSide:ss,Frustum:Bg,GLBufferAttribute:WH,GLSL1:uk,GLSL3:cA,GreaterDepth:hB,GreaterEqualDepth:fB,GreaterEqualStencilFunc:nk,GreaterStencilFunc:ek,GridHelper:$H,Group:Ns,HalfFloatType:Oc,HemisphereLight:bR,HemisphereLightHelper:qH,HemisphereLightProbe:AH,IcosahedronBufferGeometry:A5,IcosahedronGeometry:Sh,ImageBitmapLoader:DR,ImageLoader:eh,ImageUtils:e_,IncrementStencilOp:jN,IncrementWrapStencilOp:XN,InstancedBufferAttribute:sl,InstancedBufferGeometry:IR,InstancedInterleavedBuffer:VH,InstancedMesh:h_,Int16BufferAttribute:zk,Int32BufferAttribute:Gk,Int8BufferAttribute:kk,IntType:wB,InterleavedBuffer:gh,InterleavedBufferAttribute:Go,Interpolant:ru,InterpolateDiscrete:Uc,InterpolateLinear:rl,InterpolateSmooth:fm,InvertStencilOp:KN,KeepStencilOp:hm,KeyframeTrack:Hr,LOD:sR,LatheBufferGeometry:_5,LatheGeometry:tu,Layers:Qa,LessDepth:cB,LessEqualDepth:Wm,LessEqualStencilFunc:$N,LessStencilFunc:ZN,Light:qo,LightProbe:Og,Line:Ys,Line3:XH,LineBasicMaterial:ni,LineCurve:Ng,LineCurve3:cR,LineDashedMaterial:MR,LineLoop:d_,LineSegments:zr,LinearEncoding:zo,LinearFilter:nn,LinearInterpolant:S_,LinearMipMapLinearFilter:GN,LinearMipMapNearestFilter:zN,LinearMipmapLinearFilter:os,LinearMipmapNearestFilter:Tg,LinearSRGBColorSpace:zc,LinearToneMapping:gB,Loader:mi,LoaderUtils:Lo,LoadingManager:E_,LoopOnce:FB,LoopPingPong:kB,LoopRepeat:NB,LuminanceAlphaFormat:TB,LuminanceFormat:EB,MOUSE:Sa,Material:Mn,MaterialLoader:Ug,MathUtils:$1,Matrix3:ui,Matrix4:st,MaxEquation:Ux,Mesh:bn,MeshBasicMaterial:Oi,MeshDepthMaterial:a_,MeshDistanceMaterial:l_,MeshLambertMaterial:_R,MeshMatcapMaterial:wR,MeshNormalMaterial:AR,MeshPhongMaterial:vR,MeshPhysicalMaterial:vr,MeshStandardMaterial:Rh,MeshToonMaterial:xR,MinEquation:Ox,MirroredRepeatWrapping:kc,MixOperation:pB,MultiplyBlending:kx,MultiplyOperation:dh,NearestFilter:dn,NearestMipMapLinearFilter:UN,NearestMipMapNearestFilter:ON,NearestMipmapLinearFilter:Ec,NearestMipmapNearestFilter:jf,NeverDepth:aB,NeverStencilFunc:QN,NoBlending:Us,NoColorSpace:HN,NoToneMapping:Nr,NormalAnimationBlendMode:bg,NormalBlending:ja,NotEqualDepth:dB,NotEqualStencilFunc:tk,NumberKeyframeTrack:al,Object3D:Tt,ObjectLoader:yH,ObjectSpaceNormalMap:GB,OctahedronBufferGeometry:w5,OctahedronGeometry:nu,OneFactor:$2,OneMinusDstAlphaFactor:iB,OneMinusDstColorFactor:sB,OneMinusSrcAlphaFactor:X1,OneMinusSrcColorFactor:tB,OrthographicCamera:dr,PCFShadowMap:Cg,PCFSoftShadowMap:mf,PMREMGenerator:fA,Path:Qf,PerspectiveCamera:Xt,Plane:Ps,PlaneBufferGeometry:M5,PlaneGeometry:$c,PlaneHelper:s5,PointLight:P_,PointLightHelper:QH,Points:p_,PointsMaterial:vh,PolarGridHelper:e5,PolyhedronBufferGeometry:S5,PolyhedronGeometry:Qs,PositionalAudio:EH,PropertyBinding:Pt,PropertyMixer:NR,QuadraticBezierCurve:v_,QuadraticBezierCurve3:x_,Quaternion:On,QuaternionKeyframeTrack:Ho,QuaternionLinearInterpolant:TR,RED_GREEN_RGTC2_Format:aA,RED_RGTC1_Format:DB,REVISION:Qc,RGBADepthPacking:zB,RGBAFormat:wi,RGBAIntegerFormat:IB,RGBA_ASTC_10x10_Format:iA,RGBA_ASTC_10x5_Format:eA,RGBA_ASTC_10x6_Format:tA,RGBA_ASTC_10x8_Format:nA,RGBA_ASTC_12x10_Format:rA,RGBA_ASTC_12x12_Format:sA,RGBA_ASTC_4x4_Format:Jx,RGBA_ASTC_5x4_Format:Xx,RGBA_ASTC_5x5_Format:Yx,RGBA_ASTC_6x5_Format:Kx,RGBA_ASTC_6x6_Format:Qx,RGBA_ASTC_8x5_Format:Zx,RGBA_ASTC_8x6_Format:qx,RGBA_ASTC_8x8_Format:$x,RGBA_BPTC_Format:um,RGBA_ETC2_EAC_Format:jx,RGBA_PVRTC_2BPPV1_Format:Vx,RGBA_PVRTC_4BPPV1_Format:Hx,RGBA_S3TC_DXT1_Format:am,RGBA_S3TC_DXT3_Format:lm,RGBA_S3TC_DXT5_Format:cm,RGB_ETC1_Format:LB,RGB_ETC2_Format:Wx,RGB_PVRTC_2BPPV1_Format:Gx,RGB_PVRTC_4BPPV1_Format:zx,RGB_S3TC_DXT1_Format:om,RGFormat:BB,RGIntegerFormat:RB,RawShaderMaterial:yR,Ray:qc,Raycaster:kR,RectAreaLight:BR,RedFormat:bB,RedIntegerFormat:PB,ReinhardToneMapping:yB,RepeatWrapping:Uo,ReplaceStencilOp:WN,ReverseSubtractEquation:Z2,RingBufferGeometry:C5,RingGeometry:Ch,SIGNED_RED_GREEN_RGTC2_Format:lA,SIGNED_RED_RGTC1_Format:oA,SRGBColorSpace:Pr,Scene:Ym,ShaderChunk:yt,ShaderLib:Rr,ShaderMaterial:as,ShadowMaterial:gR,Shape:Za,ShapeBufferGeometry:E5,ShapeGeometry:Eh,ShapePath:l5,ShapeUtils:is,ShortType:_B,Skeleton:yh,SkeletonHelper:KH,SkinnedMesh:f_,Source:Oa,Sphere:Qo,SphereBufferGeometry:T5,SphereGeometry:iu,Spherical:vA,SphericalHarmonics3:RR,SplineCurve:A_,SpotLight:b_,SpotLightHelper:YH,Sprite:rR,SpriteMaterial:u_,SrcAlphaFactor:J1,SrcAlphaSaturateFactor:oB,SrcColorFactor:eB,StaticCopyUsage:ak,StaticDrawUsage:Xf,StaticReadUsage:rk,StereoCamera:wH,StreamCopyUsage:ck,StreamDrawUsage:ik,StreamReadUsage:ok,StringKeyframeTrack:ml,SubtractEquation:Q2,SubtractiveBlending:Nx,TOUCH:Ca,TangentSpaceNormalMap:Yo,TetrahedronBufferGeometry:b5,TetrahedronGeometry:Th,Texture:jt,TextureLoader:Ih,TorusBufferGeometry:P5,TorusGeometry:bh,TorusKnotBufferGeometry:B5,TorusKnotGeometry:Ph,Triangle:fr,TriangleFanDrawMode:jm,TriangleStripDrawMode:Z1,TrianglesDrawMode:OB,TubeBufferGeometry:R5,TubeGeometry:Bh,TwoPassDoubleSide:kN,UVMapping:Eg,Uint16BufferAttribute:n_,Uint32BufferAttribute:i_,Uint8BufferAttribute:Ok,Uint8ClampedBufferAttribute:Uk,Uniform:F_,UniformsGroup:HH,UniformsLib:Pe,UniformsUtils:XB,UnsignedByteType:Xs,UnsignedInt248Type:Ja,UnsignedIntType:Mo,UnsignedShort4444Type:MB,UnsignedShort5551Type:SB,UnsignedShortType:K1,VSMShadowMap:Fa,Vector2:pe,Vector3:D,Vector4:Ot,VectorKeyframeTrack:ll,VideoTexture:TG,WebGL1Renderer:nR,WebGL3DRenderTarget:Tk,WebGLArrayRenderTarget:Ek,WebGLCubeRenderTarget:s_,WebGLMultipleRenderTargets:bk,WebGLRenderTarget:Or,WebGLRenderer:c_,WebGLUtils:$B,WireframeGeometry:mR,WrapAroundEnding:Jf,ZeroCurvatureEnding:Na,ZeroFactor:q2,ZeroSlopeEnding:ka,ZeroStencilOp:VN,_SRGBAFormat:Jm,sRGBEncoding:Ht},Symbol.toStringTag,{value:"Module"}));var UR={exports:{}},gl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */gl.ConcurrentRoot=1;gl.ContinuousEventPriority=4;gl.DefaultEventPriority=16;gl.DiscreteEventPriority=1;gl.IdleEventPriority=536870912;gl.LegacyRoot=0;UR.exports=gl;var gc=UR.exports;function L5(n){let e;const t=new Set,i=(u,h)=>{const d=typeof u=="function"?u(e):u;if(d!==e){const p=e;e=h?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},r=()=>e,s=(u,h=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=h(e);function m(){const v=h(e);if(!d(p,v)){const y=p;u(p=v,y)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(u,h,d)=>h||d?s(u,h,d):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(i,r,l),l}const D5=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),DE=D5?z.useEffect:z.useLayoutEffect;function zR(n){const e=typeof n=="function"?L5(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=z.useReducer(x=>x+1,0),o=e.getState(),a=z.useRef(o),l=z.useRef(i),u=z.useRef(r),h=z.useRef(!1),d=z.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||u.current!==r||h.current)&&(p=i(o),m=!r(d.current,p)),DE(()=>{m&&(d.current=p),a.current=o,l.current=i,u.current=r,h.current=!1});const v=z.useRef(o);DE(()=>{const x=()=>{try{const _=e.getState(),M=l.current(_);u.current(d.current,M)||(a.current=_,d.current=M,s())}catch{h.current=!0,s()}},A=e.subscribe(x);return e.getState()!==v.current&&x(),A},[]);const y=m?p:d.current;return z.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var GR={exports:{}},HR={exports:{}},VR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,X){var j=N.length;N.push(X);e:for(;0<j;){var re=j-1>>>1,J=N[re];if(0<r(J,X))N[re]=X,N[j]=J,j=re;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var X=N[0],j=N.pop();if(j!==X){N[0]=j;e:for(var re=0,J=N.length,ee=J>>>1;re<ee;){var ve=2*(re+1)-1,Ae=N[ve],$=ve+1,Ne=N[$];if(0>r(Ae,j))$<J&&0>r(Ne,Ae)?(N[re]=Ne,N[$]=j,re=$):(N[re]=Ae,N[ve]=j,re=ve);else if($<J&&0>r(Ne,j))N[re]=Ne,N[$]=j,re=$;else break e}}return X}function r(N,X){var j=N.sortIndex-X.sortIndex;return j!==0?j:N.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(N){for(var X=t(u);X!==null;){if(X.callback===null)i(u);else if(X.startTime<=N)i(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(u)}}function S(N){if(y=!1,M(N),!v)if(t(l)!==null)v=!0,ie(E);else{var X=t(u);X!==null&&ce(S,X.startTime-N)}}function E(N,X){v=!1,y&&(y=!1,A(T),T=-1),m=!0;var j=p;try{for(M(X),d=t(l);d!==null&&(!(d.expirationTime>X)||N&&!U());){var re=d.callback;if(typeof re=="function"){d.callback=null,p=d.priorityLevel;var J=re(d.expirationTime<=X);X=n.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&i(l),M(X)}else i(l);d=t(l)}if(d!==null)var ee=!0;else{var ve=t(u);ve!==null&&ce(S,ve.startTime-X),ee=!1}return ee}finally{d=null,p=j,m=!1}}var P=!1,R=null,T=-1,B=5,I=-1;function U(){return!(n.unstable_now()-I<B)}function Z(){if(R!==null){var N=n.unstable_now();I=N;var X=!0;try{X=R(!0,N)}finally{X?W():(P=!1,R=null)}}else P=!1}var W;if(typeof _=="function")W=function(){_(Z)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Q=H.port2;H.port1.onmessage=Z,W=function(){Q.postMessage(null)}}else W=function(){x(Z,0)};function ie(N){R=N,P||(P=!0,W())}function ce(N,X){T=x(function(){N(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ie(E))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var j=p;p=X;try{return N()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,X){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=p;p=N;try{return X()}finally{p=j}},n.unstable_scheduleCallback=function(N,X,j){var re=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?re+j:re):j=re,N){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=j+J,N={id:h++,callback:X,priorityLevel:N,startTime:j,expirationTime:J,sortIndex:-1},j>re?(N.sortIndex=j,e(u,N),t(l)===null&&N===t(u)&&(y?(A(T),T=-1):y=!0,ce(S,j-re))):(N.sortIndex=J,e(l,N),v||m||(v=!0,ie(E))),N},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(N){var X=p;return function(){var j=p;p=X;try{return N.apply(this,arguments)}finally{p=j}}}})(VR);HR.exports=VR;var xA=HR.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F5=function(e){var t={},i=z,r=xA,s=Object.assign;function o(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),E=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:(c=E&&c[E]||c["@@iterator"],typeof c=="function"?c:null)}function R(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case h:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case v:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case y:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case _:return f=c.displayName||null,f!==null?f:R(c.type)||"Memo";case M:f=c._payload,c=c._init;try{return R(c(f))}catch{}}return null}function T(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(f);case 8:return f===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function B(c){var f=c,g=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,f.flags&4098&&(g=f.return),c=f.return;while(c)}return f.tag===3?g:null}function I(c){if(B(c)!==c)throw Error(o(188))}function U(c){var f=c.alternate;if(!f){if(f=B(c),f===null)throw Error(o(188));return f!==c?null:c}for(var g=c,w=f;;){var C=g.return;if(C===null)break;var b=C.alternate;if(b===null){if(w=C.return,w!==null){g=w;continue}break}if(C.child===b.child){for(b=C.child;b;){if(b===g)return I(C),c;if(b===w)return I(C),f;b=b.sibling}throw Error(o(188))}if(g.return!==w.return)g=C,w=b;else{for(var k=!1,Y=C.child;Y;){if(Y===g){k=!0,g=C,w=b;break}if(Y===w){k=!0,w=C,g=b;break}Y=Y.sibling}if(!k){for(Y=b.child;Y;){if(Y===g){k=!0,g=b,w=C;break}if(Y===w){k=!0,w=b,g=C;break}Y=Y.sibling}if(!k)throw Error(o(189))}}if(g.alternate!==w)throw Error(o(190))}if(g.tag!==3)throw Error(o(188));return g.stateNode.current===g?c:f}function Z(c){return c=U(c),c!==null?W(c):null}function W(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=W(c);if(f!==null)return f;c=c.sibling}return null}function H(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var f=H(c);if(f!==null)return f}c=c.sibling}return null}var Q=Array.isArray,ie=e.getPublicInstance,ce=e.getRootHostContext,N=e.getChildHostContext,X=e.prepareForCommit,j=e.resetAfterCommit,re=e.createInstance,J=e.appendInitialChild,ee=e.finalizeInitialChildren,ve=e.prepareUpdate,Ae=e.shouldSetTextContent,$=e.createTextInstance,Ne=e.scheduleTimeout,ke=e.cancelTimeout,He=e.noTimeout,_e=e.isPrimaryRenderer,Be=e.supportsMutation,he=e.supportsPersistence,oe=e.supportsHydration,Se=e.getInstanceFromNode,Ue=e.preparePortalMount,be=e.getCurrentEventPriority,Qe=e.detachDeletedInstance,Ye=e.supportsMicrotasks,je=e.scheduleMicrotask,wt=e.supportsTestSelectors,Mt=e.findFiberRoot,O=e.getBoundingRect,L=e.getTextContent,se=e.isHiddenSubtree,we=e.matchAccessibilityRole,Ce=e.setFocusIfFocusable,Te=e.setupIntersectionObserver,it=e.appendChild,De=e.appendChildToContainer,me=e.commitTextUpdate,Ze=e.commitMount,nt=e.commitUpdate,We=e.insertBefore,qe=e.insertInContainerBefore,G=e.removeChild,ye=e.removeChildFromContainer,Re=e.resetTextContent,et=e.hideInstance,V=e.hideTextInstance,le=e.unhideInstance,xe=e.unhideTextInstance,Oe=e.clearContainer,Je=e.cloneInstance,ct=e.createContainerChildSet,Nt=e.appendChildToContainerChildSet,Kt=e.finalizeContainerChildren,jn=e.replaceContainerChildren,Bt=e.cloneHiddenInstance,Un=e.cloneHiddenTextInstance,gi=e.canHydrateInstance,zh=e.canHydrateTextInstance,$g=e.canHydrateSuspenseInstance,Gh=e.isSuspenseInstancePending,ou=e.isSuspenseInstanceFallback,F=e.registerSuspenseInstanceRetry,te=e.getNextHydratableSibling,de=e.getFirstHydratableChild,q=e.getFirstHydratableChildWithinContainer,ge=e.getFirstHydratableChildWithinSuspenseInstance,$e=e.hydrateInstance,at=e.hydrateTextInstance,pt=e.hydrateSuspenseInstance,vt=e.getNextHydratableInstanceAfterSuspenseInstance,Et=e.commitHydratedContainer,St=e.commitHydratedSuspenseInstance,Ct=e.clearSuspenseBoundary,ln=e.clearSuspenseBoundaryFromContainer,ii=e.shouldDeleteUnhydratedTailInstances,xr=e.didNotMatchHydratedContainerTextInstance,us=e.didNotMatchHydratedTextInstance,Qt;function mt(c){if(Qt===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);Qt=f&&f[1]||""}return`
`+Qt+c}var ta=!1;function cn(c,f){if(!c||ta)return"";ta=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ee){var w=Ee}Reflect.construct(c,[],f)}else{try{f.call()}catch(Ee){w=Ee}c.call(f.prototype)}else{try{throw Error()}catch(Ee){w=Ee}c()}}catch(Ee){if(Ee&&w&&typeof Ee.stack=="string"){for(var C=Ee.stack.split(`
`),b=w.stack.split(`
`),k=C.length-1,Y=b.length-1;1<=k&&0<=Y&&C[k]!==b[Y];)Y--;for(;1<=k&&0<=Y;k--,Y--)if(C[k]!==b[Y]){if(k!==1||Y!==1)do if(k--,Y--,0>Y||C[k]!==b[Y]){var ue=`
`+C[k].replace(" at new "," at ");return c.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",c.displayName)),ue}while(1<=k&&0<=Y);break}}}finally{ta=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?mt(c):""}var fs=Object.prototype.hasOwnProperty,xl=[],Xi=-1;function Yi(c){return{current:c}}function dt(c){0>Xi||(c.current=xl[Xi],xl[Xi]=null,Xi--)}function bt(c,f){Xi++,xl[Xi]=c.current,c.current=f}var Ki={},kt=Yi(Ki),Rn=Yi(!1),hs=Ki;function ds(c,f){var g=c.type.contextTypes;if(!g)return Ki;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===f)return w.__reactInternalMemoizedMaskedChildContext;var C={},b;for(b in g)C[b]=f[b];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=C),C}function yi(c){return c=c.childContextTypes,c!=null}function Hh(){dt(Rn),dt(kt)}function xw(c,f,g){if(kt.current!==Ki)throw Error(o(168));bt(kt,f),bt(Rn,g)}function Aw(c,f,g){var w=c.stateNode;if(f=f.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var C in w)if(!(C in f))throw Error(o(108,T(c)||"Unknown",C));return s({},g,w)}function Vh(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ki,hs=kt.current,bt(kt,c),bt(Rn,Rn.current),!0}function _w(c,f,g){var w=c.stateNode;if(!w)throw Error(o(169));g?(c=Aw(c,f,hs),w.__reactInternalMemoizedMergedChildContext=c,dt(Rn),dt(kt),bt(kt,c)):dt(Rn),bt(Rn,g)}var Ar=Math.clz32?Math.clz32:WI,HI=Math.log,VI=Math.LN2;function WI(c){return c>>>=0,c===0?32:31-(HI(c)/VI|0)|0}var Wh=64,jh=4194304;function au(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Jh(c,f){var g=c.pendingLanes;if(g===0)return 0;var w=0,C=c.suspendedLanes,b=c.pingedLanes,k=g&268435455;if(k!==0){var Y=k&~C;Y!==0?w=au(Y):(b&=k,b!==0&&(w=au(b)))}else k=g&~C,k!==0?w=au(k):b!==0&&(w=au(b));if(w===0)return 0;if(f!==0&&f!==w&&!(f&C)&&(C=w&-w,b=f&-f,C>=b||C===16&&(b&4194240)!==0))return f;if(w&4&&(w|=g&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=w;0<f;)g=31-Ar(f),C=1<<g,w|=c[g],f&=~C;return w}function jI(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JI(c,f){for(var g=c.suspendedLanes,w=c.pingedLanes,C=c.expirationTimes,b=c.pendingLanes;0<b;){var k=31-Ar(b),Y=1<<k,ue=C[k];ue===-1?(!(Y&g)||Y&w)&&(C[k]=jI(Y,f)):ue<=f&&(c.expiredLanes|=Y),b&=~Y}}function e0(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function t0(c){for(var f=[],g=0;31>g;g++)f.push(c);return f}function lu(c,f,g){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-Ar(f),c[f]=g}function XI(c,f){var g=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<g;){var C=31-Ar(g),b=1<<C;f[C]=0,w[C]=-1,c[C]=-1,g&=~b}}function n0(c,f){var g=c.entangledLanes|=f;for(c=c.entanglements;g;){var w=31-Ar(g),C=1<<w;C&f|c[w]&f&&(c[w]|=f),g&=~C}}var It=0;function ww(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var i0=r.unstable_scheduleCallback,Mw=r.unstable_cancelCallback,YI=r.unstable_shouldYield,KI=r.unstable_requestPaint,In=r.unstable_now,r0=r.unstable_ImmediatePriority,QI=r.unstable_UserBlockingPriority,s0=r.unstable_NormalPriority,ZI=r.unstable_IdlePriority,Xh=null,Vr=null;function qI(c){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Xh,c,void 0,(c.current.flags&128)===128)}catch{}}function $I(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Wr=typeof Object.is=="function"?Object.is:$I,ps=null,Yh=!1,o0=!1;function Sw(c){ps===null?ps=[c]:ps.push(c)}function eL(c){Yh=!0,Sw(c)}function jr(){if(!o0&&ps!==null){o0=!0;var c=0,f=It;try{var g=ps;for(It=1;c<g.length;c++){var w=g[c];do w=w(!0);while(w!==null)}ps=null,Yh=!1}catch(C){throw ps!==null&&(ps=ps.slice(c+1)),i0(r0,jr),C}finally{It=f,o0=!1}}return null}var tL=a.ReactCurrentBatchConfig;function Kh(c,f){if(Wr(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var g=Object.keys(c),w=Object.keys(f);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var C=g[w];if(!fs.call(f,C)||!Wr(c[C],f[C]))return!1}return!0}function nL(c){switch(c.tag){case 5:return mt(c.type);case 16:return mt("Lazy");case 13:return mt("Suspense");case 19:return mt("SuspenseList");case 0:case 2:case 15:return c=cn(c.type,!1),c;case 11:return c=cn(c.type.render,!1),c;case 1:return c=cn(c.type,!0),c;default:return""}}function _r(c,f){if(c&&c.defaultProps){f=s({},f),c=c.defaultProps;for(var g in c)f[g]===void 0&&(f[g]=c[g]);return f}return f}var Qh=Yi(null),Zh=null,Al=null,a0=null;function l0(){a0=Al=Zh=null}function Cw(c,f,g){_e?(bt(Qh,f._currentValue),f._currentValue=g):(bt(Qh,f._currentValue2),f._currentValue2=g)}function c0(c){var f=Qh.current;dt(Qh),_e?c._currentValue=f:c._currentValue2=f}function u0(c,f,g){for(;c!==null;){var w=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),c===g)break;c=c.return}}function _l(c,f){Zh=c,a0=Al=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&f&&(Ri=!0),c.firstContext=null)}function Qi(c){var f=_e?c._currentValue:c._currentValue2;if(a0!==c)if(c={context:c,memoizedValue:f,next:null},Al===null){if(Zh===null)throw Error(o(308));Al=c,Zh.dependencies={lanes:0,firstContext:c}}else Al=Al.next=c;return f}var Jr=null,Zs=!1;function f0(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ew(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function ms(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function qs(c,f){var g=c.updateQueue;g!==null&&(g=g.shared,vn!==null&&c.mode&1&&!(xt&2)?(c=g.interleaved,c===null?(f.next=f,Jr===null?Jr=[g]:Jr.push(g)):(f.next=c.next,c.next=f),g.interleaved=f):(c=g.pending,c===null?f.next=f:(f.next=c.next,c.next=f),g.pending=f))}function qh(c,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194240)!==0)){var w=f.lanes;w&=c.pendingLanes,g|=w,f.lanes=g,n0(c,g)}}function Tw(c,f){var g=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var C=null,b=null;if(g=g.firstBaseUpdate,g!==null){do{var k={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};b===null?C=b=k:b=b.next=k,g=g.next}while(g!==null);b===null?C=b=f:b=b.next=f}else C=b=f;g={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:b,shared:w.shared,effects:w.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=f}function $h(c,f,g,w){var C=c.updateQueue;Zs=!1;var b=C.firstBaseUpdate,k=C.lastBaseUpdate,Y=C.shared.pending;if(Y!==null){C.shared.pending=null;var ue=Y,Ee=ue.next;ue.next=null,k===null?b=Ee:k.next=Ee,k=ue;var Ge=c.alternate;Ge!==null&&(Ge=Ge.updateQueue,Y=Ge.lastBaseUpdate,Y!==k&&(Y===null?Ge.firstBaseUpdate=Ee:Y.next=Ee,Ge.lastBaseUpdate=ue))}if(b!==null){var ut=C.baseState;k=0,Ge=Ee=ue=null,Y=b;do{var tt=Y.lane,zt=Y.eventTime;if((w&tt)===tt){Ge!==null&&(Ge=Ge.next={eventTime:zt,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Ke=c,Kn=Y;switch(tt=f,zt=g,Kn.tag){case 1:if(Ke=Kn.payload,typeof Ke=="function"){ut=Ke.call(zt,ut,tt);break e}ut=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=Kn.payload,tt=typeof Ke=="function"?Ke.call(zt,ut,tt):Ke,tt==null)break e;ut=s({},ut,tt);break e;case 2:Zs=!0}}Y.callback!==null&&Y.lane!==0&&(c.flags|=64,tt=C.effects,tt===null?C.effects=[Y]:tt.push(Y))}else zt={eventTime:zt,lane:tt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ge===null?(Ee=Ge=zt,ue=ut):Ge=Ge.next=zt,k|=tt;if(Y=Y.next,Y===null){if(Y=C.shared.pending,Y===null)break;tt=Y,Y=tt.next,tt.next=null,C.lastBaseUpdate=tt,C.shared.pending=null}}while(1);if(Ge===null&&(ue=ut),C.baseState=ue,C.firstBaseUpdate=Ee,C.lastBaseUpdate=Ge,f=C.shared.interleaved,f!==null){C=f;do k|=C.lane,C=C.next;while(C!==f)}else b===null&&(C.shared.lanes=0);Bl|=k,c.lanes=k,c.memoizedState=ut}}function bw(c,f,g){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var w=c[f],C=w.callback;if(C!==null){if(w.callback=null,w=g,typeof C!="function")throw Error(o(191,C));C.call(w)}}}var Pw=new i.Component().refs;function h0(c,f,g,w){f=c.memoizedState,g=g(w,f),g=g==null?f:s({},f,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var ed={isMounted:function(c){return(c=c._reactInternals)?B(c)===c:!1},enqueueSetState:function(c,f,g){c=c._reactInternals;var w=si(),C=to(c),b=ms(w,C);b.payload=f,g!=null&&(b.callback=g),qs(c,b),f=tr(c,C,w),f!==null&&qh(f,c,C)},enqueueReplaceState:function(c,f,g){c=c._reactInternals;var w=si(),C=to(c),b=ms(w,C);b.tag=1,b.payload=f,g!=null&&(b.callback=g),qs(c,b),f=tr(c,C,w),f!==null&&qh(f,c,C)},enqueueForceUpdate:function(c,f){c=c._reactInternals;var g=si(),w=to(c),C=ms(g,w);C.tag=2,f!=null&&(C.callback=f),qs(c,C),f=tr(c,w,g),f!==null&&qh(f,c,w)}};function Bw(c,f,g,w,C,b,k){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,b,k):f.prototype&&f.prototype.isPureReactComponent?!Kh(g,w)||!Kh(C,b):!0}function Rw(c,f,g){var w=!1,C=Ki,b=f.contextType;return typeof b=="object"&&b!==null?b=Qi(b):(C=yi(f)?hs:kt.current,w=f.contextTypes,b=(w=w!=null)?ds(c,C):Ki),f=new f(g,b),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ed,c.stateNode=f,f._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=C,c.__reactInternalMemoizedMaskedChildContext=b),f}function Iw(c,f,g,w){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,w),f.state!==c&&ed.enqueueReplaceState(f,f.state,null)}function d0(c,f,g,w){var C=c.stateNode;C.props=g,C.state=c.memoizedState,C.refs=Pw,f0(c);var b=f.contextType;typeof b=="object"&&b!==null?C.context=Qi(b):(b=yi(f)?hs:kt.current,C.context=ds(c,b)),C.state=c.memoizedState,b=f.getDerivedStateFromProps,typeof b=="function"&&(h0(c,f,b,g),C.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(f=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),f!==C.state&&ed.enqueueReplaceState(C,C.state,null),$h(c,g,C,w),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308)}var wl=[],Ml=0,td=null,nd=0,Zi=[],qi=0,na=null,gs=1,ys="";function ia(c,f){wl[Ml++]=nd,wl[Ml++]=td,td=c,nd=f}function Lw(c,f,g){Zi[qi++]=gs,Zi[qi++]=ys,Zi[qi++]=na,na=c;var w=gs;c=ys;var C=32-Ar(w)-1;w&=~(1<<C),g+=1;var b=32-Ar(f)+C;if(30<b){var k=C-C%5;b=(w&(1<<k)-1).toString(32),w>>=k,C-=k,gs=1<<32-Ar(f)+C|g<<C|w,ys=b+c}else gs=1<<b|g<<C|w,ys=c}function p0(c){c.return!==null&&(ia(c,1),Lw(c,1,0))}function m0(c){for(;c===td;)td=wl[--Ml],wl[Ml]=null,nd=wl[--Ml],wl[Ml]=null;for(;c===na;)na=Zi[--qi],Zi[qi]=null,ys=Zi[--qi],Zi[qi]=null,gs=Zi[--qi],Zi[qi]=null}var Pi=null,Bi=null,Zt=!1,cu=!1,wr=null;function Dw(c,f){var g=nr(5,null,null,0);g.elementType="DELETED",g.stateNode=f,g.return=c,f=c.deletions,f===null?(c.deletions=[g],c.flags|=16):f.push(g)}function Fw(c,f){switch(c.tag){case 5:return f=gi(f,c.type,c.pendingProps),f!==null?(c.stateNode=f,Pi=c,Bi=de(f),!0):!1;case 6:return f=zh(f,c.pendingProps),f!==null?(c.stateNode=f,Pi=c,Bi=null,!0):!1;case 13:if(f=$g(f),f!==null){var g=na!==null?{id:gs,overflow:ys}:null;return c.memoizedState={dehydrated:f,treeContext:g,retryLane:1073741824},g=nr(18,null,null,0),g.stateNode=f,g.return=c,c.child=g,Pi=c,Bi=null,!0}return!1;default:return!1}}function g0(c){return(c.mode&1)!==0&&(c.flags&128)===0}function y0(c){if(Zt){var f=Bi;if(f){var g=f;if(!Fw(c,f)){if(g0(c))throw Error(o(418));f=te(g);var w=Pi;f&&Fw(c,f)?Dw(w,g):(c.flags=c.flags&-4097|2,Zt=!1,Pi=c)}}else{if(g0(c))throw Error(o(418));c.flags=c.flags&-4097|2,Zt=!1,Pi=c}}}function Nw(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Pi=c}function uu(c){if(!oe||c!==Pi)return!1;if(!Zt)return Nw(c),Zt=!0,!1;if(c.tag!==3&&(c.tag!==5||ii(c.type)&&!Ae(c.type,c.memoizedProps))){var f=Bi;if(f){if(g0(c)){for(c=Bi;c;)c=te(c);throw Error(o(418))}for(;f;)Dw(c,f),f=te(f)}}if(Nw(c),c.tag===13){if(!oe)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Bi=vt(c)}else Bi=Pi?te(c.stateNode):null;return!0}function Sl(){oe&&(Bi=Pi=null,cu=Zt=!1)}function v0(c){wr===null?wr=[c]:wr.push(c)}function fu(c,f,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(o(309));var w=g.stateNode}if(!w)throw Error(o(147,c));var C=w,b=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===b?f.ref:(f=function(k){var Y=C.refs;Y===Pw&&(Y=C.refs={}),k===null?delete Y[b]:Y[b]=k},f._stringRef=b,f)}if(typeof c!="string")throw Error(o(284));if(!g._owner)throw Error(o(290,c))}return c}function id(c,f){throw c=Object.prototype.toString.call(f),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function kw(c){var f=c._init;return f(c._payload)}function Ow(c){function f(ne,K){if(c){var ae=ne.deletions;ae===null?(ne.deletions=[K],ne.flags|=16):ae.push(K)}}function g(ne,K){if(!c)return null;for(;K!==null;)f(ne,K),K=K.sibling;return null}function w(ne,K){for(ne=new Map;K!==null;)K.key!==null?ne.set(K.key,K):ne.set(K.index,K),K=K.sibling;return ne}function C(ne,K){return ne=io(ne,K),ne.index=0,ne.sibling=null,ne}function b(ne,K,ae){return ne.index=ae,c?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<K?(ne.flags|=2,K):ae):(ne.flags|=2,K)):(ne.flags|=1048576,K)}function k(ne){return c&&ne.alternate===null&&(ne.flags|=2),ne}function Y(ne,K,ae,Fe){return K===null||K.tag!==6?(K=ty(ae,ne.mode,Fe),K.return=ne,K):(K=C(K,ae),K.return=ne,K)}function ue(ne,K,ae,Fe){var Xe=ae.type;return Xe===h?Ge(ne,K,ae.props.children,Fe,ae.key):K!==null&&(K.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===M&&kw(Xe)===K.type)?(Fe=C(K,ae.props),Fe.ref=fu(ne,K,ae),Fe.return=ne,Fe):(Fe=Dd(ae.type,ae.key,ae.props,null,ne.mode,Fe),Fe.ref=fu(ne,K,ae),Fe.return=ne,Fe)}function Ee(ne,K,ae,Fe){return K===null||K.tag!==4||K.stateNode.containerInfo!==ae.containerInfo||K.stateNode.implementation!==ae.implementation?(K=ny(ae,ne.mode,Fe),K.return=ne,K):(K=C(K,ae.children||[]),K.return=ne,K)}function Ge(ne,K,ae,Fe,Xe){return K===null||K.tag!==7?(K=ua(ae,ne.mode,Fe,Xe),K.return=ne,K):(K=C(K,ae),K.return=ne,K)}function ut(ne,K,ae){if(typeof K=="string"&&K!==""||typeof K=="number")return K=ty(""+K,ne.mode,ae),K.return=ne,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case l:return ae=Dd(K.type,K.key,K.props,null,ne.mode,ae),ae.ref=fu(ne,null,K),ae.return=ne,ae;case u:return K=ny(K,ne.mode,ae),K.return=ne,K;case M:var Fe=K._init;return ut(ne,Fe(K._payload),ae)}if(Q(K)||P(K))return K=ua(K,ne.mode,ae,null),K.return=ne,K;id(ne,K)}return null}function tt(ne,K,ae,Fe){var Xe=K!==null?K.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Xe!==null?null:Y(ne,K,""+ae,Fe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case l:return ae.key===Xe?ue(ne,K,ae,Fe):null;case u:return ae.key===Xe?Ee(ne,K,ae,Fe):null;case M:return Xe=ae._init,tt(ne,K,Xe(ae._payload),Fe)}if(Q(ae)||P(ae))return Xe!==null?null:Ge(ne,K,ae,Fe,null);id(ne,ae)}return null}function zt(ne,K,ae,Fe,Xe){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return ne=ne.get(ae)||null,Y(K,ne,""+Fe,Xe);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:return ne=ne.get(Fe.key===null?ae:Fe.key)||null,ue(K,ne,Fe,Xe);case u:return ne=ne.get(Fe.key===null?ae:Fe.key)||null,Ee(K,ne,Fe,Xe);case M:var gt=Fe._init;return zt(ne,K,ae,gt(Fe._payload),Xe)}if(Q(Fe)||P(Fe))return ne=ne.get(ae)||null,Ge(K,ne,Fe,Xe,null);id(K,Fe)}return null}function Ke(ne,K,ae,Fe){for(var Xe=null,gt=null,ft=K,Lt=K=0,Dn=null;ft!==null&&Lt<ae.length;Lt++){ft.index>Lt?(Dn=ft,ft=null):Dn=ft.sibling;var Dt=tt(ne,ft,ae[Lt],Fe);if(Dt===null){ft===null&&(ft=Dn);break}c&&ft&&Dt.alternate===null&&f(ne,ft),K=b(Dt,K,Lt),gt===null?Xe=Dt:gt.sibling=Dt,gt=Dt,ft=Dn}if(Lt===ae.length)return g(ne,ft),Zt&&ia(ne,Lt),Xe;if(ft===null){for(;Lt<ae.length;Lt++)ft=ut(ne,ae[Lt],Fe),ft!==null&&(K=b(ft,K,Lt),gt===null?Xe=ft:gt.sibling=ft,gt=ft);return Zt&&ia(ne,Lt),Xe}for(ft=w(ne,ft);Lt<ae.length;Lt++)Dn=zt(ft,ne,Lt,ae[Lt],Fe),Dn!==null&&(c&&Dn.alternate!==null&&ft.delete(Dn.key===null?Lt:Dn.key),K=b(Dn,K,Lt),gt===null?Xe=Dn:gt.sibling=Dn,gt=Dn);return c&&ft.forEach(function(ro){return f(ne,ro)}),Zt&&ia(ne,Lt),Xe}function Kn(ne,K,ae,Fe){var Xe=P(ae);if(typeof Xe!="function")throw Error(o(150));if(ae=Xe.call(ae),ae==null)throw Error(o(151));for(var gt=Xe=null,ft=K,Lt=K=0,Dn=null,Dt=ae.next();ft!==null&&!Dt.done;Lt++,Dt=ae.next()){ft.index>Lt?(Dn=ft,ft=null):Dn=ft.sibling;var ro=tt(ne,ft,Dt.value,Fe);if(ro===null){ft===null&&(ft=Dn);break}c&&ft&&ro.alternate===null&&f(ne,ft),K=b(ro,K,Lt),gt===null?Xe=ro:gt.sibling=ro,gt=ro,ft=Dn}if(Dt.done)return g(ne,ft),Zt&&ia(ne,Lt),Xe;if(ft===null){for(;!Dt.done;Lt++,Dt=ae.next())Dt=ut(ne,Dt.value,Fe),Dt!==null&&(K=b(Dt,K,Lt),gt===null?Xe=Dt:gt.sibling=Dt,gt=Dt);return Zt&&ia(ne,Lt),Xe}for(ft=w(ne,ft);!Dt.done;Lt++,Dt=ae.next())Dt=zt(ft,ne,Lt,Dt.value,Fe),Dt!==null&&(c&&Dt.alternate!==null&&ft.delete(Dt.key===null?Lt:Dt.key),K=b(Dt,K,Lt),gt===null?Xe=Dt:gt.sibling=Dt,gt=Dt);return c&&ft.forEach(function(IL){return f(ne,IL)}),Zt&&ia(ne,Lt),Xe}function ir(ne,K,ae,Fe){if(typeof ae=="object"&&ae!==null&&ae.type===h&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case l:e:{for(var Xe=ae.key,gt=K;gt!==null;){if(gt.key===Xe){if(Xe=ae.type,Xe===h){if(gt.tag===7){g(ne,gt.sibling),K=C(gt,ae.props.children),K.return=ne,ne=K;break e}}else if(gt.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===M&&kw(Xe)===gt.type){g(ne,gt.sibling),K=C(gt,ae.props),K.ref=fu(ne,gt,ae),K.return=ne,ne=K;break e}g(ne,gt);break}else f(ne,gt);gt=gt.sibling}ae.type===h?(K=ua(ae.props.children,ne.mode,Fe,ae.key),K.return=ne,ne=K):(Fe=Dd(ae.type,ae.key,ae.props,null,ne.mode,Fe),Fe.ref=fu(ne,K,ae),Fe.return=ne,ne=Fe)}return k(ne);case u:e:{for(gt=ae.key;K!==null;){if(K.key===gt)if(K.tag===4&&K.stateNode.containerInfo===ae.containerInfo&&K.stateNode.implementation===ae.implementation){g(ne,K.sibling),K=C(K,ae.children||[]),K.return=ne,ne=K;break e}else{g(ne,K);break}else f(ne,K);K=K.sibling}K=ny(ae,ne.mode,Fe),K.return=ne,ne=K}return k(ne);case M:return gt=ae._init,ir(ne,K,gt(ae._payload),Fe)}if(Q(ae))return Ke(ne,K,ae,Fe);if(P(ae))return Kn(ne,K,ae,Fe);id(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,K!==null&&K.tag===6?(g(ne,K.sibling),K=C(K,ae),K.return=ne,ne=K):(g(ne,K),K=ty(ae,ne.mode,Fe),K.return=ne,ne=K),k(ne)):g(ne,K)}return ir}var Cl=Ow(!0),Uw=Ow(!1),hu={},$i=Yi(hu),du=Yi(hu),El=Yi(hu);function Xr(c){if(c===hu)throw Error(o(174));return c}function x0(c,f){bt(El,f),bt(du,c),bt($i,hu),c=ce(f),dt($i),bt($i,c)}function Tl(){dt($i),dt(du),dt(El)}function zw(c){var f=Xr(El.current),g=Xr($i.current);f=N(g,c.type,f),g!==f&&(bt(du,c),bt($i,f))}function A0(c){du.current===c&&(dt($i),dt(du))}var en=Yi(0);function rd(c){for(var f=c;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||Gh(g)||ou(g)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var _0=[];function w0(){for(var c=0;c<_0.length;c++){var f=_0[c];_e?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}_0.length=0}var sd=a.ReactCurrentDispatcher,er=a.ReactCurrentBatchConfig,bl=0,un=null,Jn=null,Ln=null,od=!1,pu=!1,mu=0,iL=0;function Xn(){throw Error(o(321))}function M0(c,f){if(f===null)return!1;for(var g=0;g<f.length&&g<c.length;g++)if(!Wr(c[g],f[g]))return!1;return!0}function S0(c,f,g,w,C,b){if(bl=b,un=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,sd.current=c===null||c.memoizedState===null?aL:lL,c=g(w,C),pu){b=0;do{if(pu=!1,mu=0,25<=b)throw Error(o(301));b+=1,Ln=Jn=null,f.updateQueue=null,sd.current=cL,c=g(w,C)}while(pu)}if(sd.current=fd,f=Jn!==null&&Jn.next!==null,bl=0,Ln=Jn=un=null,od=!1,f)throw Error(o(300));return c}function C0(){var c=mu!==0;return mu=0,c}function vs(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?un.memoizedState=Ln=c:Ln=Ln.next=c,Ln}function Yr(){if(Jn===null){var c=un.alternate;c=c!==null?c.memoizedState:null}else c=Jn.next;var f=Ln===null?un.memoizedState:Ln.next;if(f!==null)Ln=f,Jn=c;else{if(c===null)throw Error(o(310));Jn=c,c={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},Ln===null?un.memoizedState=Ln=c:Ln=Ln.next=c}return Ln}function ra(c,f){return typeof f=="function"?f(c):f}function ad(c){var f=Yr(),g=f.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=c;var w=Jn,C=w.baseQueue,b=g.pending;if(b!==null){if(C!==null){var k=C.next;C.next=b.next,b.next=k}w.baseQueue=C=b,g.pending=null}if(C!==null){b=C.next,w=w.baseState;var Y=k=null,ue=null,Ee=b;do{var Ge=Ee.lane;if((bl&Ge)===Ge)ue!==null&&(ue=ue.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),w=Ee.hasEagerState?Ee.eagerState:c(w,Ee.action);else{var ut={lane:Ge,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};ue===null?(Y=ue=ut,k=w):ue=ue.next=ut,un.lanes|=Ge,Bl|=Ge}Ee=Ee.next}while(Ee!==null&&Ee!==b);ue===null?k=w:ue.next=Y,Wr(w,f.memoizedState)||(Ri=!0),f.memoizedState=w,f.baseState=k,f.baseQueue=ue,g.lastRenderedState=w}if(c=g.interleaved,c!==null){C=c;do b=C.lane,un.lanes|=b,Bl|=b,C=C.next;while(C!==c)}else C===null&&(g.lanes=0);return[f.memoizedState,g.dispatch]}function ld(c){var f=Yr(),g=f.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=c;var w=g.dispatch,C=g.pending,b=f.memoizedState;if(C!==null){g.pending=null;var k=C=C.next;do b=c(b,k.action),k=k.next;while(k!==C);Wr(b,f.memoizedState)||(Ri=!0),f.memoizedState=b,f.baseQueue===null&&(f.baseState=b),g.lastRenderedState=b}return[b,w]}function Gw(){}function Hw(c,f){var g=un,w=Yr(),C=f(),b=!Wr(w.memoizedState,C);if(b&&(w.memoizedState=C,Ri=!0),w=w.queue,yu(jw.bind(null,g,w,c),[c]),w.getSnapshot!==f||b||Ln!==null&&Ln.memoizedState.tag&1){if(g.flags|=2048,gu(9,Ww.bind(null,g,w,C,f),void 0,null),vn===null)throw Error(o(349));bl&30||Vw(g,f,C)}return C}function Vw(c,f,g){c.flags|=16384,c={getSnapshot:f,value:g},f=un.updateQueue,f===null?(f={lastEffect:null,stores:null},un.updateQueue=f,f.stores=[c]):(g=f.stores,g===null?f.stores=[c]:g.push(c))}function Ww(c,f,g,w){f.value=g,f.getSnapshot=w,Jw(f)&&tr(c,1,-1)}function jw(c,f,g){return g(function(){Jw(f)&&tr(c,1,-1)})}function Jw(c){var f=c.getSnapshot;c=c.value;try{var g=f();return!Wr(c,g)}catch{return!0}}function E0(c){var f=vs();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:c},f.queue=c,c=c.dispatch=oL.bind(null,un,c),[f.memoizedState,c]}function gu(c,f,g,w){return c={tag:c,create:f,destroy:g,deps:w,next:null},f=un.updateQueue,f===null?(f={lastEffect:null,stores:null},un.updateQueue=f,f.lastEffect=c.next=c):(g=f.lastEffect,g===null?f.lastEffect=c.next=c:(w=g.next,g.next=c,c.next=w,f.lastEffect=c)),c}function Xw(){return Yr().memoizedState}function cd(c,f,g,w){var C=vs();un.flags|=c,C.memoizedState=gu(1|f,g,void 0,w===void 0?null:w)}function ud(c,f,g,w){var C=Yr();w=w===void 0?null:w;var b=void 0;if(Jn!==null){var k=Jn.memoizedState;if(b=k.destroy,w!==null&&M0(w,k.deps)){C.memoizedState=gu(f,g,b,w);return}}un.flags|=c,C.memoizedState=gu(1|f,g,b,w)}function T0(c,f){return cd(8390656,8,c,f)}function yu(c,f){return ud(2048,8,c,f)}function Yw(c,f){return ud(4,2,c,f)}function Kw(c,f){return ud(4,4,c,f)}function Qw(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function Zw(c,f,g){return g=g!=null?g.concat([c]):null,ud(4,4,Qw.bind(null,f,c),g)}function b0(){}function qw(c,f){var g=Yr();f=f===void 0?null:f;var w=g.memoizedState;return w!==null&&f!==null&&M0(f,w[1])?w[0]:(g.memoizedState=[c,f],c)}function $w(c,f){var g=Yr();f=f===void 0?null:f;var w=g.memoizedState;return w!==null&&f!==null&&M0(f,w[1])?w[0]:(c=c(),g.memoizedState=[c,f],c)}function rL(c,f){var g=It;It=g!==0&&4>g?g:4,c(!0);var w=er.transition;er.transition={};try{c(!1),f()}finally{It=g,er.transition=w}}function eM(){return Yr().memoizedState}function sL(c,f,g){var w=to(c);g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},tM(c)?nM(f,g):(iM(c,f,g),g=si(),c=tr(c,w,g),c!==null&&rM(c,f,w))}function oL(c,f,g){var w=to(c),C={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(tM(c))nM(f,C);else{iM(c,f,C);var b=c.alternate;if(c.lanes===0&&(b===null||b.lanes===0)&&(b=f.lastRenderedReducer,b!==null))try{var k=f.lastRenderedState,Y=b(k,g);if(C.hasEagerState=!0,C.eagerState=Y,Wr(Y,k))return}catch{}finally{}g=si(),c=tr(c,w,g),c!==null&&rM(c,f,w)}}function tM(c){var f=c.alternate;return c===un||f!==null&&f===un}function nM(c,f){pu=od=!0;var g=c.pending;g===null?f.next=f:(f.next=g.next,g.next=f),c.pending=f}function iM(c,f,g){vn!==null&&c.mode&1&&!(xt&2)?(c=f.interleaved,c===null?(g.next=g,Jr===null?Jr=[f]:Jr.push(f)):(g.next=c.next,c.next=g),f.interleaved=g):(c=f.pending,c===null?g.next=g:(g.next=c.next,c.next=g),f.pending=g)}function rM(c,f,g){if(g&4194240){var w=f.lanes;w&=c.pendingLanes,g|=w,f.lanes=g,n0(c,g)}}var fd={readContext:Qi,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},aL={readContext:Qi,useCallback:function(c,f){return vs().memoizedState=[c,f===void 0?null:f],c},useContext:Qi,useEffect:T0,useImperativeHandle:function(c,f,g){return g=g!=null?g.concat([c]):null,cd(4194308,4,Qw.bind(null,f,c),g)},useLayoutEffect:function(c,f){return cd(4194308,4,c,f)},useInsertionEffect:function(c,f){return cd(4,2,c,f)},useMemo:function(c,f){var g=vs();return f=f===void 0?null:f,c=c(),g.memoizedState=[c,f],c},useReducer:function(c,f,g){var w=vs();return f=g!==void 0?g(f):f,w.memoizedState=w.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},w.queue=c,c=c.dispatch=sL.bind(null,un,c),[w.memoizedState,c]},useRef:function(c){var f=vs();return c={current:c},f.memoizedState=c},useState:E0,useDebugValue:b0,useDeferredValue:function(c){var f=E0(c),g=f[0],w=f[1];return T0(function(){var C=er.transition;er.transition={};try{w(c)}finally{er.transition=C}},[c]),g},useTransition:function(){var c=E0(!1),f=c[0];return c=rL.bind(null,c[1]),vs().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,g){var w=un,C=vs();if(Zt){if(g===void 0)throw Error(o(407));g=g()}else{if(g=f(),vn===null)throw Error(o(349));bl&30||Vw(w,f,g)}C.memoizedState=g;var b={value:g,getSnapshot:f};return C.queue=b,T0(jw.bind(null,w,b,c),[c]),w.flags|=2048,gu(9,Ww.bind(null,w,b,g,f),void 0,null),g},useId:function(){var c=vs(),f=vn.identifierPrefix;if(Zt){var g=ys,w=gs;g=(w&~(1<<32-Ar(w)-1)).toString(32)+g,f=":"+f+"R"+g,g=mu++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=iL++,f=":"+f+"r"+g.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},lL={readContext:Qi,useCallback:qw,useContext:Qi,useEffect:yu,useImperativeHandle:Zw,useInsertionEffect:Yw,useLayoutEffect:Kw,useMemo:$w,useReducer:ad,useRef:Xw,useState:function(){return ad(ra)},useDebugValue:b0,useDeferredValue:function(c){var f=ad(ra),g=f[0],w=f[1];return yu(function(){var C=er.transition;er.transition={};try{w(c)}finally{er.transition=C}},[c]),g},useTransition:function(){var c=ad(ra)[0],f=Yr().memoizedState;return[c,f]},useMutableSource:Gw,useSyncExternalStore:Hw,useId:eM,unstable_isNewReconciler:!1},cL={readContext:Qi,useCallback:qw,useContext:Qi,useEffect:yu,useImperativeHandle:Zw,useInsertionEffect:Yw,useLayoutEffect:Kw,useMemo:$w,useReducer:ld,useRef:Xw,useState:function(){return ld(ra)},useDebugValue:b0,useDeferredValue:function(c){var f=ld(ra),g=f[0],w=f[1];return yu(function(){var C=er.transition;er.transition={};try{w(c)}finally{er.transition=C}},[c]),g},useTransition:function(){var c=ld(ra)[0],f=Yr().memoizedState;return[c,f]},useMutableSource:Gw,useSyncExternalStore:Hw,useId:eM,unstable_isNewReconciler:!1};function P0(c,f){try{var g="",w=f;do g+=nL(w),w=w.return;while(w);var C=g}catch(b){C=`
Error generating stack: `+b.message+`
`+b.stack}return{value:c,source:f,stack:C}}function B0(c,f){try{console.error(f.value)}catch(g){setTimeout(function(){throw g})}}var uL=typeof WeakMap=="function"?WeakMap:Map;function sM(c,f,g){g=ms(-1,g),g.tag=3,g.payload={element:null};var w=f.value;return g.callback=function(){Td||(Td=!0,Y0=w),B0(c,f)},g}function oM(c,f,g){g=ms(-1,g),g.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var C=f.value;g.payload=function(){return w(C)},g.callback=function(){B0(c,f)}}var b=c.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(g.callback=function(){B0(c,f),typeof w!="function"&&($s===null?$s=new Set([this]):$s.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})}),g}function aM(c,f,g){var w=c.pingCache;if(w===null){w=c.pingCache=new uL;var C=new Set;w.set(f,C)}else C=w.get(f),C===void 0&&(C=new Set,w.set(f,C));C.has(g)||(C.add(g),c=SL.bind(null,c,f,g),f.then(c,c))}function lM(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function cM(c,f,g,w,C){return c.mode&1?(c.flags|=65536,c.lanes=C,c):(c===f?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(f=ms(-1,1),f.tag=2,qs(g,f))),g.lanes|=1),c)}function Kr(c){c.flags|=4}function uM(c,f){if(c!==null&&c.child===f.child)return!0;if(f.flags&16)return!1;for(c=f.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var vu,xu,hd,dd;if(Be)vu=function(c,f){for(var g=f.child;g!==null;){if(g.tag===5||g.tag===6)J(c,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},xu=function(){},hd=function(c,f,g,w,C){if(c=c.memoizedProps,c!==w){var b=f.stateNode,k=Xr($i.current);g=ve(b,g,c,w,C,k),(f.updateQueue=g)&&Kr(f)}},dd=function(c,f,g,w){g!==w&&Kr(f)};else if(he){vu=function(c,f,g,w){for(var C=f.child;C!==null;){if(C.tag===5){var b=C.stateNode;g&&w&&(b=Bt(b,C.type,C.memoizedProps,C)),J(c,b)}else if(C.tag===6)b=C.stateNode,g&&w&&(b=Un(b,C.memoizedProps,C)),J(c,b);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)b=C.child,b!==null&&(b.return=C),vu(c,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var fM=function(c,f,g,w){for(var C=f.child;C!==null;){if(C.tag===5){var b=C.stateNode;g&&w&&(b=Bt(b,C.type,C.memoizedProps,C)),Nt(c,b)}else if(C.tag===6)b=C.stateNode,g&&w&&(b=Un(b,C.memoizedProps,C)),Nt(c,b);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)b=C.child,b!==null&&(b.return=C),fM(c,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};xu=function(c,f){var g=f.stateNode;if(!uM(c,f)){c=g.containerInfo;var w=ct(c);fM(w,f,!1,!1),g.pendingChildren=w,Kr(f),Kt(c,w)}},hd=function(c,f,g,w,C){var b=c.stateNode,k=c.memoizedProps;if((c=uM(c,f))&&k===w)f.stateNode=b;else{var Y=f.stateNode,ue=Xr($i.current),Ee=null;k!==w&&(Ee=ve(Y,g,k,w,C,ue)),c&&Ee===null?f.stateNode=b:(b=Je(b,Ee,g,k,w,f,c,Y),ee(b,g,w,C,ue)&&Kr(f),f.stateNode=b,c?Kr(f):vu(b,f,!1,!1))}},dd=function(c,f,g,w){g!==w?(c=Xr(El.current),g=Xr($i.current),f.stateNode=$(w,c,g,f),Kr(f)):f.stateNode=c.stateNode}}else xu=function(){},hd=function(){},dd=function(){};function Au(c,f){if(!Zt)switch(c.tailMode){case"hidden":f=c.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function Yn(c){var f=c.alternate!==null&&c.alternate.child===c.child,g=0,w=0;if(f)for(var C=c.child;C!==null;)g|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=c,C=C.sibling;else for(C=c.child;C!==null;)g|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=c,C=C.sibling;return c.subtreeFlags|=w,c.childLanes=g,f}function fL(c,f,g){var w=f.pendingProps;switch(m0(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(f),null;case 1:return yi(f.type)&&Hh(),Yn(f),null;case 3:return w=f.stateNode,Tl(),dt(Rn),dt(kt),w0(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(uu(f)?Kr(f):c===null||c.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,wr!==null&&(Z0(wr),wr=null))),xu(c,f),Yn(f),null;case 5:A0(f),g=Xr(El.current);var C=f.type;if(c!==null&&f.stateNode!=null)hd(c,f,C,w,g),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!w){if(f.stateNode===null)throw Error(o(166));return Yn(f),null}if(c=Xr($i.current),uu(f)){if(!oe)throw Error(o(175));c=$e(f.stateNode,f.type,f.memoizedProps,g,c,f,!cu),f.updateQueue=c,c!==null&&Kr(f)}else{var b=re(C,w,g,c,f);vu(b,f,!1,!1),f.stateNode=b,ee(b,C,w,g,c)&&Kr(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Yn(f),null;case 6:if(c&&f.stateNode!=null)dd(c,f,c.memoizedProps,w);else{if(typeof w!="string"&&f.stateNode===null)throw Error(o(166));if(c=Xr(El.current),g=Xr($i.current),uu(f)){if(!oe)throw Error(o(176));if(c=f.stateNode,w=f.memoizedProps,(g=at(c,w,f,!cu))&&(C=Pi,C!==null))switch(b=(C.mode&1)!==0,C.tag){case 3:xr(C.stateNode.containerInfo,c,w,b);break;case 5:us(C.type,C.memoizedProps,C.stateNode,c,w,b)}g&&Kr(f)}else f.stateNode=$(w,c,g,f)}return Yn(f),null;case 13:if(dt(en),w=f.memoizedState,Zt&&Bi!==null&&f.mode&1&&!(f.flags&128)){for(c=Bi;c;)c=te(c);return Sl(),f.flags|=98560,f}if(w!==null&&w.dehydrated!==null){if(w=uu(f),c===null){if(!w)throw Error(o(318));if(!oe)throw Error(o(344));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));pt(c,f)}else Sl(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return Yn(f),null}return wr!==null&&(Z0(wr),wr=null),f.flags&128?(f.lanes=g,f):(w=w!==null,g=!1,c===null?uu(f):g=c.memoizedState!==null,w&&!g&&(f.child.flags|=8192,f.mode&1&&(c===null||en.current&1?Sn===0&&(Sn=3):$0())),f.updateQueue!==null&&(f.flags|=4),Yn(f),null);case 4:return Tl(),xu(c,f),c===null&&Ue(f.stateNode.containerInfo),Yn(f),null;case 10:return c0(f.type._context),Yn(f),null;case 17:return yi(f.type)&&Hh(),Yn(f),null;case 19:if(dt(en),C=f.memoizedState,C===null)return Yn(f),null;if(w=(f.flags&128)!==0,b=C.rendering,b===null)if(w)Au(C,!1);else{if(Sn!==0||c!==null&&c.flags&128)for(c=f.child;c!==null;){if(b=rd(c),b!==null){for(f.flags|=128,Au(C,!1),c=b.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),f.subtreeFlags=0,c=g,w=f.child;w!==null;)g=w,C=c,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=C,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,C=b.dependencies,g.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),w=w.sibling;return bt(en,en.current&1|2),f.child}c=c.sibling}C.tail!==null&&In()>X0&&(f.flags|=128,w=!0,Au(C,!1),f.lanes=4194304)}else{if(!w)if(c=rd(b),c!==null){if(f.flags|=128,w=!0,c=c.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),Au(C,!0),C.tail===null&&C.tailMode==="hidden"&&!b.alternate&&!Zt)return Yn(f),null}else 2*In()-C.renderingStartTime>X0&&g!==1073741824&&(f.flags|=128,w=!0,Au(C,!1),f.lanes=4194304);C.isBackwards?(b.sibling=f.child,f.child=b):(c=C.last,c!==null?c.sibling=b:f.child=b,C.last=b)}return C.tail!==null?(f=C.tail,C.rendering=f,C.tail=f.sibling,C.renderingStartTime=In(),f.sibling=null,c=en.current,bt(en,w?c&1|2:c&1),f):(Yn(f),null);case 22:case 23:return q0(),w=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(f.flags|=8192),w&&f.mode&1?Ii&1073741824&&(Yn(f),Be&&f.subtreeFlags&6&&(f.flags|=8192)):Yn(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var hL=a.ReactCurrentOwner,Ri=!1;function ri(c,f,g,w){f.child=c===null?Uw(f,null,g,w):Cl(f,c.child,g,w)}function hM(c,f,g,w,C){g=g.render;var b=f.ref;return _l(f,C),w=S0(c,f,g,w,b,C),g=C0(),c!==null&&!Ri?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~C,xs(c,f,C)):(Zt&&g&&p0(f),f.flags|=1,ri(c,f,w,C),f.child)}function dM(c,f,g,w,C){if(c===null){var b=g.type;return typeof b=="function"&&!ey(b)&&b.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(f.tag=15,f.type=b,pM(c,f,b,w,C)):(c=Dd(g.type,null,w,f,f.mode,C),c.ref=f.ref,c.return=f,f.child=c)}if(b=c.child,!(c.lanes&C)){var k=b.memoizedProps;if(g=g.compare,g=g!==null?g:Kh,g(k,w)&&c.ref===f.ref)return xs(c,f,C)}return f.flags|=1,c=io(b,w),c.ref=f.ref,c.return=f,f.child=c}function pM(c,f,g,w,C){if(c!==null&&Kh(c.memoizedProps,w)&&c.ref===f.ref)if(Ri=!1,(c.lanes&C)!==0)c.flags&131072&&(Ri=!0);else return f.lanes=c.lanes,xs(c,f,C);return R0(c,f,g,w,C)}function mM(c,f,g){var w=f.pendingProps,C=w.children,b=c!==null?c.memoizedState:null;if(w.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},bt(Pl,Ii),Ii|=g;else if(g&1073741824)f.memoizedState={baseLanes:0,cachePool:null},w=b!==null?b.baseLanes:g,bt(Pl,Ii),Ii|=w;else return c=b!==null?b.baseLanes|g:g,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null},f.updateQueue=null,bt(Pl,Ii),Ii|=c,null;else b!==null?(w=b.baseLanes|g,f.memoizedState=null):w=g,bt(Pl,Ii),Ii|=w;return ri(c,f,C,g),f.child}function gM(c,f){var g=f.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(f.flags|=512,f.flags|=2097152)}function R0(c,f,g,w,C){var b=yi(g)?hs:kt.current;return b=ds(f,b),_l(f,C),g=S0(c,f,g,w,b,C),w=C0(),c!==null&&!Ri?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~C,xs(c,f,C)):(Zt&&w&&p0(f),f.flags|=1,ri(c,f,g,C),f.child)}function yM(c,f,g,w,C){if(yi(g)){var b=!0;Vh(f)}else b=!1;if(_l(f,C),f.stateNode===null)c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),Rw(f,g,w),d0(f,g,w,C),w=!0;else if(c===null){var k=f.stateNode,Y=f.memoizedProps;k.props=Y;var ue=k.context,Ee=g.contextType;typeof Ee=="object"&&Ee!==null?Ee=Qi(Ee):(Ee=yi(g)?hs:kt.current,Ee=ds(f,Ee));var Ge=g.getDerivedStateFromProps,ut=typeof Ge=="function"||typeof k.getSnapshotBeforeUpdate=="function";ut||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Y!==w||ue!==Ee)&&Iw(f,k,w,Ee),Zs=!1;var tt=f.memoizedState;k.state=tt,$h(f,w,k,C),ue=f.memoizedState,Y!==w||tt!==ue||Rn.current||Zs?(typeof Ge=="function"&&(h0(f,g,Ge,w),ue=f.memoizedState),(Y=Zs||Bw(f,g,Y,w,tt,ue,Ee))?(ut||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(f.flags|=4194308)):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=ue),k.props=w,k.state=ue,k.context=Ee,w=Y):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{k=f.stateNode,Ew(c,f),Y=f.memoizedProps,Ee=f.type===f.elementType?Y:_r(f.type,Y),k.props=Ee,ut=f.pendingProps,tt=k.context,ue=g.contextType,typeof ue=="object"&&ue!==null?ue=Qi(ue):(ue=yi(g)?hs:kt.current,ue=ds(f,ue));var zt=g.getDerivedStateFromProps;(Ge=typeof zt=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Y!==ut||tt!==ue)&&Iw(f,k,w,ue),Zs=!1,tt=f.memoizedState,k.state=tt,$h(f,w,k,C);var Ke=f.memoizedState;Y!==ut||tt!==Ke||Rn.current||Zs?(typeof zt=="function"&&(h0(f,g,zt,w),Ke=f.memoizedState),(Ee=Zs||Bw(f,g,Ee,w,tt,Ke,ue)||!1)?(Ge||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(w,Ke,ue),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(w,Ke,ue)),typeof k.componentDidUpdate=="function"&&(f.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof k.componentDidUpdate!="function"||Y===c.memoizedProps&&tt===c.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&tt===c.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=Ke),k.props=w,k.state=Ke,k.context=ue,w=Ee):(typeof k.componentDidUpdate!="function"||Y===c.memoizedProps&&tt===c.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&tt===c.memoizedState||(f.flags|=1024),w=!1)}return I0(c,f,g,w,b,C)}function I0(c,f,g,w,C,b){gM(c,f);var k=(f.flags&128)!==0;if(!w&&!k)return C&&_w(f,g,!1),xs(c,f,b);w=f.stateNode,hL.current=f;var Y=k&&typeof g.getDerivedStateFromError!="function"?null:w.render();return f.flags|=1,c!==null&&k?(f.child=Cl(f,c.child,null,b),f.child=Cl(f,null,Y,b)):ri(c,f,Y,b),f.memoizedState=w.state,C&&_w(f,g,!0),f.child}function vM(c){var f=c.stateNode;f.pendingContext?xw(c,f.pendingContext,f.pendingContext!==f.context):f.context&&xw(c,f.context,!1),x0(c,f.containerInfo)}function xM(c,f,g,w,C){return Sl(),v0(C),f.flags|=256,ri(c,f,g,w),f.child}var pd={dehydrated:null,treeContext:null,retryLane:0};function md(c){return{baseLanes:c,cachePool:null}}function AM(c,f,g){var w=f.pendingProps,C=en.current,b=!1,k=(f.flags&128)!==0,Y;if((Y=k)||(Y=c!==null&&c.memoizedState===null?!1:(C&2)!==0),Y?(b=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(C|=1),bt(en,C&1),c===null)return y0(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(f.mode&1?ou(c)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(C=w.children,c=w.fallback,b?(w=f.mode,b=f.child,C={mode:"hidden",children:C},!(w&1)&&b!==null?(b.childLanes=0,b.pendingProps=C):b=Fd(C,w,0,null),c=ua(c,w,g,null),b.return=f,c.return=f,b.sibling=c,f.child=b,f.child.memoizedState=md(g),f.memoizedState=pd,c):L0(f,C));if(C=c.memoizedState,C!==null){if(Y=C.dehydrated,Y!==null){if(k)return f.flags&256?(f.flags&=-257,gd(c,f,g,Error(o(422)))):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(b=w.fallback,C=f.mode,w=Fd({mode:"visible",children:w.children},C,0,null),b=ua(b,C,g,null),b.flags|=2,w.return=f,b.return=f,w.sibling=b,f.child=w,f.mode&1&&Cl(f,c.child,null,g),f.child.memoizedState=md(g),f.memoizedState=pd,b);if(!(f.mode&1))f=gd(c,f,g,null);else if(ou(Y))f=gd(c,f,g,Error(o(419)));else if(w=(g&c.childLanes)!==0,Ri||w){if(w=vn,w!==null){switch(g&-g){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}w=b&(w.suspendedLanes|g)?0:b,w!==0&&w!==C.retryLane&&(C.retryLane=w,tr(c,w,-1))}$0(),f=gd(c,f,g,Error(o(421)))}else Gh(Y)?(f.flags|=128,f.child=c.child,f=CL.bind(null,c),F(Y,f),f=null):(g=C.treeContext,oe&&(Bi=ge(Y),Pi=f,Zt=!0,wr=null,cu=!1,g!==null&&(Zi[qi++]=gs,Zi[qi++]=ys,Zi[qi++]=na,gs=g.id,ys=g.overflow,na=f)),f=L0(f,f.pendingProps.children),f.flags|=4096);return f}return b?(w=wM(c,f,w.children,w.fallback,g),b=f.child,C=c.child.memoizedState,b.memoizedState=C===null?md(g):{baseLanes:C.baseLanes|g,cachePool:null},b.childLanes=c.childLanes&~g,f.memoizedState=pd,w):(g=_M(c,f,w.children,g),f.memoizedState=null,g)}return b?(w=wM(c,f,w.children,w.fallback,g),b=f.child,C=c.child.memoizedState,b.memoizedState=C===null?md(g):{baseLanes:C.baseLanes|g,cachePool:null},b.childLanes=c.childLanes&~g,f.memoizedState=pd,w):(g=_M(c,f,w.children,g),f.memoizedState=null,g)}function L0(c,f){return f=Fd({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function _M(c,f,g,w){var C=c.child;return c=C.sibling,g=io(C,{mode:"visible",children:g}),!(f.mode&1)&&(g.lanes=w),g.return=f,g.sibling=null,c!==null&&(w=f.deletions,w===null?(f.deletions=[c],f.flags|=16):w.push(c)),f.child=g}function wM(c,f,g,w,C){var b=f.mode;c=c.child;var k=c.sibling,Y={mode:"hidden",children:g};return!(b&1)&&f.child!==c?(g=f.child,g.childLanes=0,g.pendingProps=Y,f.deletions=null):(g=io(c,Y),g.subtreeFlags=c.subtreeFlags&14680064),k!==null?w=io(k,w):(w=ua(w,b,C,null),w.flags|=2),w.return=f,g.return=f,g.sibling=w,f.child=g,w}function gd(c,f,g,w){return w!==null&&v0(w),Cl(f,c.child,null,g),c=L0(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function MM(c,f,g){c.lanes|=f;var w=c.alternate;w!==null&&(w.lanes|=f),u0(c.return,f,g)}function D0(c,f,g,w,C){var b=c.memoizedState;b===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:C}:(b.isBackwards=f,b.rendering=null,b.renderingStartTime=0,b.last=w,b.tail=g,b.tailMode=C)}function SM(c,f,g){var w=f.pendingProps,C=w.revealOrder,b=w.tail;if(ri(c,f,w.children,g),w=en.current,w&2)w=w&1|2,f.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&MM(c,g,f);else if(c.tag===19)MM(c,g,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(bt(en,w),!(f.mode&1))f.memoizedState=null;else switch(C){case"forwards":for(g=f.child,C=null;g!==null;)c=g.alternate,c!==null&&rd(c)===null&&(C=g),g=g.sibling;g=C,g===null?(C=f.child,f.child=null):(C=g.sibling,g.sibling=null),D0(f,!1,C,g,b);break;case"backwards":for(g=null,C=f.child,f.child=null;C!==null;){if(c=C.alternate,c!==null&&rd(c)===null){f.child=C;break}c=C.sibling,C.sibling=g,g=C,C=c}D0(f,!0,g,null,b);break;case"together":D0(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function xs(c,f,g){if(c!==null&&(f.dependencies=c.dependencies),Bl|=f.lanes,!(g&f.childLanes))return null;if(c!==null&&f.child!==c.child)throw Error(o(153));if(f.child!==null){for(c=f.child,g=io(c,c.pendingProps),f.child=g,g.return=f;c.sibling!==null;)c=c.sibling,g=g.sibling=io(c,c.pendingProps),g.return=f;g.sibling=null}return f.child}function dL(c,f,g){switch(f.tag){case 3:vM(f),Sl();break;case 5:zw(f);break;case 1:yi(f.type)&&Vh(f);break;case 4:x0(f,f.stateNode.containerInfo);break;case 10:Cw(f,f.type._context,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(bt(en,en.current&1),f.flags|=128,null):g&f.child.childLanes?AM(c,f,g):(bt(en,en.current&1),c=xs(c,f,g),c!==null?c.sibling:null);bt(en,en.current&1);break;case 19:if(w=(g&f.childLanes)!==0,c.flags&128){if(w)return SM(c,f,g);f.flags|=128}var C=f.memoizedState;if(C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),bt(en,en.current),w)break;return null;case 22:case 23:return f.lanes=0,mM(c,f,g)}return xs(c,f,g)}function pL(c,f){switch(m0(f),f.tag){case 1:return yi(f.type)&&Hh(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Tl(),dt(Rn),dt(kt),w0(),c=f.flags,c&65536&&!(c&128)?(f.flags=c&-65537|128,f):null;case 5:return A0(f),null;case 13:if(dt(en),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Sl()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return dt(en),null;case 4:return Tl(),null;case 10:return c0(f.type._context),null;case 22:case 23:return q0(),null;case 24:return null;default:return null}}var yd=!1,sa=!1,mL=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function vd(c,f){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){Ai(c,f,w)}else g.current=null}function F0(c,f,g){try{g()}catch(w){Ai(c,f,w)}}var CM=!1;function gL(c,f){for(X(c.containerInfo),Ie=f;Ie!==null;)if(c=Ie,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,Ie=f;else for(;Ie!==null;){c=Ie;try{var g=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,C=g.memoizedState,b=c.stateNode,k=b.getSnapshotBeforeUpdate(c.elementType===c.type?w:_r(c.type,w),C);b.__reactInternalSnapshotBeforeUpdate=k}break;case 3:Be&&Oe(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Y){Ai(c,c.return,Y)}if(f=c.sibling,f!==null){f.return=c.return,Ie=f;break}Ie=c.return}return g=CM,CM=!1,g}function oa(c,f,g){var w=f.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&c)===c){var b=C.destroy;C.destroy=void 0,b!==void 0&&F0(f,g,b)}C=C.next}while(C!==w)}}function _u(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&c)===c){var w=g.create;g.destroy=w()}g=g.next}while(g!==f)}}function N0(c){var f=c.ref;if(f!==null){var g=c.stateNode;switch(c.tag){case 5:c=ie(g);break;default:c=g}typeof f=="function"?f(c):f.current=c}}function EM(c,f,g){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Xh,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(c=f.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var w=c=c.next;do{var C=w,b=C.destroy;C=C.tag,b!==void 0&&(C&2||C&4)&&F0(f,g,b),w=w.next}while(w!==c)}break;case 1:if(vd(f,g),c=f.stateNode,typeof c.componentWillUnmount=="function")try{c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(k){Ai(f,g,k)}break;case 5:vd(f,g);break;case 4:Be?IM(c,f,g):he&&he&&(f=f.stateNode.containerInfo,g=ct(f),jn(f,g))}}function TM(c,f,g){for(var w=f;;)if(EM(c,w,g),w.child===null||Be&&w.tag===4){if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function bM(c){var f=c.alternate;f!==null&&(c.alternate=null,bM(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&Qe(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function PM(c){return c.tag===5||c.tag===3||c.tag===4}function BM(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||PM(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function RM(c){if(Be){e:{for(var f=c.return;f!==null;){if(PM(f))break e;f=f.return}throw Error(o(160))}var g=f;switch(g.tag){case 5:f=g.stateNode,g.flags&32&&(Re(f),g.flags&=-33),g=BM(c),O0(c,g,f);break;case 3:case 4:f=g.stateNode.containerInfo,g=BM(c),k0(c,g,f);break;default:throw Error(o(161))}}}function k0(c,f,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?qe(g,c,f):De(g,c);else if(w!==4&&(c=c.child,c!==null))for(k0(c,f,g),c=c.sibling;c!==null;)k0(c,f,g),c=c.sibling}function O0(c,f,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,f?We(g,c,f):it(g,c);else if(w!==4&&(c=c.child,c!==null))for(O0(c,f,g),c=c.sibling;c!==null;)O0(c,f,g),c=c.sibling}function IM(c,f,g){for(var w=f,C=!1,b,k;;){if(!C){C=w.return;e:for(;;){if(C===null)throw Error(o(160));switch(b=C.stateNode,C.tag){case 5:k=!1;break e;case 3:b=b.containerInfo,k=!0;break e;case 4:b=b.containerInfo,k=!0;break e}C=C.return}C=!0}if(w.tag===5||w.tag===6)TM(c,w,g),k?ye(b,w.stateNode):G(b,w.stateNode);else if(w.tag===18)k?ln(b,w.stateNode):Ct(b,w.stateNode);else if(w.tag===4){if(w.child!==null){b=w.stateNode.containerInfo,k=!0,w.child.return=w,w=w.child;continue}}else if(EM(c,w,g),w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return,w.tag===4&&(C=!1)}w.sibling.return=w.return,w=w.sibling}}function U0(c,f){if(Be){switch(f.tag){case 0:case 11:case 14:case 15:oa(3,f,f.return),_u(3,f),oa(5,f,f.return);return;case 1:return;case 5:var g=f.stateNode;if(g!=null){var w=f.memoizedProps;c=c!==null?c.memoizedProps:w;var C=f.type,b=f.updateQueue;f.updateQueue=null,b!==null&&nt(g,b,C,c,w,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));g=f.memoizedProps,me(f.stateNode,c!==null?c.memoizedProps:g,g);return;case 3:oe&&c!==null&&c.memoizedState.isDehydrated&&Et(f.stateNode.containerInfo);return;case 12:return;case 13:xd(f);return;case 19:xd(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:oa(3,f,f.return),_u(3,f),oa(5,f,f.return);return;case 12:return;case 13:xd(f);return;case 19:xd(f);return;case 3:oe&&c!==null&&c.memoizedState.isDehydrated&&Et(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(he){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,jn(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function xd(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new mL),f.forEach(function(w){var C=EL.bind(null,c,w);g.has(w)||(g.add(w),w.then(C,C))})}}function yL(c,f){for(Ie=f;Ie!==null;){f=Ie;var g=f.deletions;if(g!==null)for(var w=0;w<g.length;w++){var C=g[w];try{var b=c;Be?IM(b,C,f):TM(b,C,f);var k=C.alternate;k!==null&&(k.return=null),C.return=null}catch(Xe){Ai(C,f,Xe)}}if(g=f.child,f.subtreeFlags&12854&&g!==null)g.return=f,Ie=g;else for(;Ie!==null;){f=Ie;try{var Y=f.flags;if(Y&32&&Be&&Re(f.stateNode),Y&512){var ue=f.alternate;if(ue!==null){var Ee=ue.ref;Ee!==null&&(typeof Ee=="function"?Ee(null):Ee.current=null)}}if(Y&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var Ge=f.alternate;(Ge===null||Ge.memoizedState===null)&&(J0=In())}break;case 22:var ut=f.memoizedState!==null,tt=f.alternate,zt=tt!==null&&tt.memoizedState!==null;if(g=f,Be){e:if(w=g,C=ut,b=null,Be)for(var Ke=w;;){if(Ke.tag===5){if(b===null){b=Ke;var Kn=Ke.stateNode;C?et(Kn):le(Ke.stateNode,Ke.memoizedProps)}}else if(Ke.tag===6){if(b===null){var ir=Ke.stateNode;C?V(ir):xe(ir,Ke.memoizedProps)}}else if((Ke.tag!==22&&Ke.tag!==23||Ke.memoizedState===null||Ke===w)&&Ke.child!==null){Ke.child.return=Ke,Ke=Ke.child;continue}if(Ke===w)break;for(;Ke.sibling===null;){if(Ke.return===null||Ke.return===w)break e;b===Ke&&(b=null),Ke=Ke.return}b===Ke&&(b=null),Ke.sibling.return=Ke.return,Ke=Ke.sibling}}if(ut&&!zt&&g.mode&1){Ie=g;for(var ne=g.child;ne!==null;){for(g=Ie=ne;Ie!==null;){w=Ie;var K=w.child;switch(w.tag){case 0:case 11:case 14:case 15:oa(4,w,w.return);break;case 1:vd(w,w.return);var ae=w.stateNode;if(typeof ae.componentWillUnmount=="function"){var Fe=w.return;try{ae.props=w.memoizedProps,ae.state=w.memoizedState,ae.componentWillUnmount()}catch(Xe){Ai(w,Fe,Xe)}}break;case 5:vd(w,w.return);break;case 22:if(w.memoizedState!==null){FM(g);continue}}K!==null?(K.return=w,Ie=K):FM(g)}ne=ne.sibling}}}switch(Y&4102){case 2:RM(f),f.flags&=-3;break;case 6:RM(f),f.flags&=-3,U0(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,U0(f.alternate,f);break;case 4:U0(f.alternate,f)}}catch(Xe){Ai(f,f.return,Xe)}if(g=f.sibling,g!==null){g.return=f.return,Ie=g;break}Ie=f.return}}}function vL(c,f,g){Ie=c,LM(c)}function LM(c,f,g){for(var w=(c.mode&1)!==0;Ie!==null;){var C=Ie,b=C.child;if(C.tag===22&&w){var k=C.memoizedState!==null||yd;if(!k){var Y=C.alternate,ue=Y!==null&&Y.memoizedState!==null||sa;Y=yd;var Ee=sa;if(yd=k,(sa=ue)&&!Ee)for(Ie=C;Ie!==null;)k=Ie,ue=k.child,k.tag===22&&k.memoizedState!==null?NM(C):ue!==null?(ue.return=k,Ie=ue):NM(C);for(;b!==null;)Ie=b,LM(b),b=b.sibling;Ie=C,yd=Y,sa=Ee}DM(c)}else C.subtreeFlags&8772&&b!==null?(b.return=C,Ie=b):DM(c)}}function DM(c){for(;Ie!==null;){var f=Ie;if(f.flags&8772){var g=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:sa||_u(5,f);break;case 1:var w=f.stateNode;if(f.flags&4&&!sa)if(g===null)w.componentDidMount();else{var C=f.elementType===f.type?g.memoizedProps:_r(f.type,g.memoizedProps);w.componentDidUpdate(C,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var b=f.updateQueue;b!==null&&bw(f,b,w);break;case 3:var k=f.updateQueue;if(k!==null){if(g=null,f.child!==null)switch(f.child.tag){case 5:g=ie(f.child.stateNode);break;case 1:g=f.child.stateNode}bw(f,k,g)}break;case 5:var Y=f.stateNode;g===null&&f.flags&4&&Ze(Y,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(oe&&f.memoizedState===null){var ue=f.alternate;if(ue!==null){var Ee=ue.memoizedState;if(Ee!==null){var Ge=Ee.dehydrated;Ge!==null&&St(Ge)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}sa||f.flags&512&&N0(f)}catch(ut){Ai(f,f.return,ut)}}if(f===c){Ie=null;break}if(g=f.sibling,g!==null){g.return=f.return,Ie=g;break}Ie=f.return}}function FM(c){for(;Ie!==null;){var f=Ie;if(f===c){Ie=null;break}var g=f.sibling;if(g!==null){g.return=f.return,Ie=g;break}Ie=f.return}}function NM(c){for(;Ie!==null;){var f=Ie;try{switch(f.tag){case 0:case 11:case 15:var g=f.return;try{_u(4,f)}catch(ue){Ai(f,g,ue)}break;case 1:var w=f.stateNode;if(typeof w.componentDidMount=="function"){var C=f.return;try{w.componentDidMount()}catch(ue){Ai(f,C,ue)}}var b=f.return;try{N0(f)}catch(ue){Ai(f,b,ue)}break;case 5:var k=f.return;try{N0(f)}catch(ue){Ai(f,k,ue)}}}catch(ue){Ai(f,f.return,ue)}if(f===c){Ie=null;break}var Y=f.sibling;if(Y!==null){Y.return=f.return,Ie=Y;break}Ie=f.return}}var Ad=0,_d=1,wd=2,Md=3,Sd=4;if(typeof Symbol=="function"&&Symbol.for){var wu=Symbol.for;Ad=wu("selector.component"),_d=wu("selector.has_pseudo_class"),wd=wu("selector.role"),Md=wu("selector.test_id"),Sd=wu("selector.text")}function z0(c){var f=Se(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(c=Mt(c),c===null)throw Error(o(362));return c.stateNode.current}function G0(c,f){switch(f.$$typeof){case Ad:if(c.type===f.value)return!0;break;case _d:e:{f=f.value,c=[c,0];for(var g=0;g<c.length;){var w=c[g++],C=c[g++],b=f[C];if(w.tag!==5||!se(w)){for(;b!=null&&G0(w,b);)C++,b=f[C];if(C===f.length){f=!0;break e}else for(w=w.child;w!==null;)c.push(w,C),w=w.sibling}}f=!1}return f;case wd:if(c.tag===5&&we(c.stateNode,f.value))return!0;break;case Sd:if((c.tag===5||c.tag===6)&&(c=L(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case Md:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function H0(c){switch(c.$$typeof){case Ad:return"<"+(R(c.value)||"Unknown")+">";case _d:return":has("+(H0(c)||"")+")";case wd:return'[role="'+c.value+'"]';case Sd:return'"'+c.value+'"';case Md:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function kM(c,f){var g=[];c=[c,0];for(var w=0;w<c.length;){var C=c[w++],b=c[w++],k=f[b];if(C.tag!==5||!se(C)){for(;k!=null&&G0(C,k);)b++,k=f[b];if(b===f.length)g.push(C);else for(C=C.child;C!==null;)c.push(C,b),C=C.sibling}}return g}function V0(c,f){if(!wt)throw Error(o(363));c=z0(c),c=kM(c,f),f=[],c=Array.from(c);for(var g=0;g<c.length;){var w=c[g++];if(w.tag===5)se(w)||f.push(w.stateNode);else for(w=w.child;w!==null;)c.push(w),w=w.sibling}return f}var xL=Math.ceil,Cd=a.ReactCurrentDispatcher,W0=a.ReactCurrentOwner,pn=a.ReactCurrentBatchConfig,xt=0,vn=null,xn=null,zn=0,Ii=0,Pl=Yi(0),Sn=0,Mu=null,Bl=0,Ed=0,j0=0,Su=null,vi=null,J0=0,X0=1/0;function Rl(){X0=In()+500}var Td=!1,Y0=null,$s=null,bd=!1,eo=null,Pd=0,Cu=0,K0=null,Bd=-1,Rd=0;function si(){return xt&6?In():Bd!==-1?Bd:Bd=In()}function to(c){return c.mode&1?xt&2&&zn!==0?zn&-zn:tL.transition!==null?(Rd===0&&(c=Wh,Wh<<=1,!(Wh&4194240)&&(Wh=64),Rd=c),Rd):(c=It,c!==0?c:be()):1}function tr(c,f,g){if(50<Cu)throw Cu=0,K0=null,Error(o(185));var w=Id(c,f);return w===null?null:(lu(w,f,g),(!(xt&2)||w!==vn)&&(w===vn&&(!(xt&2)&&(Ed|=f),Sn===4&&no(w,zn)),xi(w,g),f===1&&xt===0&&!(c.mode&1)&&(Rl(),Yh&&jr())),w)}function Id(c,f){c.lanes|=f;var g=c.alternate;for(g!==null&&(g.lanes|=f),g=c,c=c.return;c!==null;)c.childLanes|=f,g=c.alternate,g!==null&&(g.childLanes|=f),g=c,c=c.return;return g.tag===3?g.stateNode:null}function xi(c,f){var g=c.callbackNode;JI(c,f);var w=Jh(c,c===vn?zn:0);if(w===0)g!==null&&Mw(g),c.callbackNode=null,c.callbackPriority=0;else if(f=w&-w,c.callbackPriority!==f){if(g!=null&&Mw(g),f===1)c.tag===0?eL(UM.bind(null,c)):Sw(UM.bind(null,c)),Ye?je(function(){xt===0&&jr()}):i0(r0,jr),g=null;else{switch(ww(w)){case 1:g=r0;break;case 4:g=QI;break;case 16:g=s0;break;case 536870912:g=ZI;break;default:g=s0}g=YM(g,OM.bind(null,c))}c.callbackPriority=f,c.callbackNode=g}}function OM(c,f){if(Bd=-1,Rd=0,xt&6)throw Error(o(327));var g=c.callbackNode;if(ca()&&c.callbackNode!==g)return null;var w=Jh(c,c===vn?zn:0);if(w===0)return null;if(w&30||w&c.expiredLanes||f)f=Ld(c,w);else{f=w;var C=xt;xt|=2;var b=HM();(vn!==c||zn!==f)&&(Rl(),aa(c,f));do try{wL();break}catch(Y){GM(c,Y)}while(1);l0(),Cd.current=b,xt=C,xn!==null?f=0:(vn=null,zn=0,f=Sn)}if(f!==0){if(f===2&&(C=e0(c),C!==0&&(w=C,f=Q0(c,C))),f===1)throw g=Mu,aa(c,0),no(c,w),xi(c,In()),g;if(f===6)no(c,w);else{if(C=c.current.alternate,!(w&30)&&!AL(C)&&(f=Ld(c,w),f===2&&(b=e0(c),b!==0&&(w=b,f=Q0(c,b))),f===1))throw g=Mu,aa(c,0),no(c,w),xi(c,In()),g;switch(c.finishedWork=C,c.finishedLanes=w,f){case 0:case 1:throw Error(o(345));case 2:la(c,vi);break;case 3:if(no(c,w),(w&130023424)===w&&(f=J0+500-In(),10<f)){if(Jh(c,0)!==0)break;if(C=c.suspendedLanes,(C&w)!==w){si(),c.pingedLanes|=c.suspendedLanes&C;break}c.timeoutHandle=Ne(la.bind(null,c,vi),f);break}la(c,vi);break;case 4:if(no(c,w),(w&4194240)===w)break;for(f=c.eventTimes,C=-1;0<w;){var k=31-Ar(w);b=1<<k,k=f[k],k>C&&(C=k),w&=~b}if(w=C,w=In()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*xL(w/1960))-w,10<w){c.timeoutHandle=Ne(la.bind(null,c,vi),w);break}la(c,vi);break;case 5:la(c,vi);break;default:throw Error(o(329))}}}return xi(c,In()),c.callbackNode===g?OM.bind(null,c):null}function Q0(c,f){var g=Su;return c.current.memoizedState.isDehydrated&&(aa(c,f).flags|=256),c=Ld(c,f),c!==2&&(f=vi,vi=g,f!==null&&Z0(f)),c}function Z0(c){vi===null?vi=c:vi.push.apply(vi,c)}function AL(c){for(var f=c;;){if(f.flags&16384){var g=f.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var C=g[w],b=C.getSnapshot;C=C.value;try{if(!Wr(b(),C))return!1}catch{return!1}}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function no(c,f){for(f&=~j0,f&=~Ed,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var g=31-Ar(f),w=1<<g;c[g]=-1,f&=~w}}function UM(c){if(xt&6)throw Error(o(327));ca();var f=Jh(c,0);if(!(f&1))return xi(c,In()),null;var g=Ld(c,f);if(c.tag!==0&&g===2){var w=e0(c);w!==0&&(f=w,g=Q0(c,w))}if(g===1)throw g=Mu,aa(c,0),no(c,f),xi(c,In()),g;if(g===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,la(c,vi),xi(c,In()),null}function zM(c){eo!==null&&eo.tag===0&&!(xt&6)&&ca();var f=xt;xt|=1;var g=pn.transition,w=It;try{if(pn.transition=null,It=1,c)return c()}finally{It=w,pn.transition=g,xt=f,!(xt&6)&&jr()}}function q0(){Ii=Pl.current,dt(Pl)}function aa(c,f){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==He&&(c.timeoutHandle=He,ke(g)),xn!==null)for(g=xn.return;g!==null;){var w=g;switch(m0(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Hh();break;case 3:Tl(),dt(Rn),dt(kt),w0();break;case 5:A0(w);break;case 4:Tl();break;case 13:dt(en);break;case 19:dt(en);break;case 10:c0(w.type._context);break;case 22:case 23:q0()}g=g.return}if(vn=c,xn=c=io(c.current,null),zn=Ii=f,Sn=0,Mu=null,j0=Ed=Bl=0,vi=Su=null,Jr!==null){for(f=0;f<Jr.length;f++)if(g=Jr[f],w=g.interleaved,w!==null){g.interleaved=null;var C=w.next,b=g.pending;if(b!==null){var k=b.next;b.next=C,w.next=k}g.pending=w}Jr=null}return c}function GM(c,f){do{var g=xn;try{if(l0(),sd.current=fd,od){for(var w=un.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}od=!1}if(bl=0,Ln=Jn=un=null,pu=!1,mu=0,W0.current=null,g===null||g.return===null){Sn=1,Mu=f,xn=null;break}e:{var b=c,k=g.return,Y=g,ue=f;if(f=zn,Y.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ee=ue,Ge=Y,ut=Ge.tag;if(!(Ge.mode&1)&&(ut===0||ut===11||ut===15)){var tt=Ge.alternate;tt?(Ge.updateQueue=tt.updateQueue,Ge.memoizedState=tt.memoizedState,Ge.lanes=tt.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var zt=lM(k);if(zt!==null){zt.flags&=-257,cM(zt,k,Y,b,f),zt.mode&1&&aM(b,Ee,f),f=zt,ue=Ee;var Ke=f.updateQueue;if(Ke===null){var Kn=new Set;Kn.add(ue),f.updateQueue=Kn}else Ke.add(ue);break e}else{if(!(f&1)){aM(b,Ee,f),$0();break e}ue=Error(o(426))}}else if(Zt&&Y.mode&1){var ir=lM(k);if(ir!==null){!(ir.flags&65536)&&(ir.flags|=256),cM(ir,k,Y,b,f),v0(ue);break e}}b=ue,Sn!==4&&(Sn=2),Su===null?Su=[b]:Su.push(b),ue=P0(ue,Y),Y=k;do{switch(Y.tag){case 3:Y.flags|=65536,f&=-f,Y.lanes|=f;var ne=sM(Y,ue,f);Tw(Y,ne);break e;case 1:b=ue;var K=Y.type,ae=Y.stateNode;if(!(Y.flags&128)&&(typeof K.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&($s===null||!$s.has(ae)))){Y.flags|=65536,f&=-f,Y.lanes|=f;var Fe=oM(Y,b,f);Tw(Y,Fe);break e}}Y=Y.return}while(Y!==null)}WM(g)}catch(Xe){f=Xe,xn===g&&g!==null&&(xn=g=g.return);continue}break}while(1)}function HM(){var c=Cd.current;return Cd.current=fd,c===null?fd:c}function $0(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),vn===null||!(Bl&268435455)&&!(Ed&268435455)||no(vn,zn)}function Ld(c,f){var g=xt;xt|=2;var w=HM();vn===c&&zn===f||aa(c,f);do try{_L();break}catch(C){GM(c,C)}while(1);if(l0(),xt=g,Cd.current=w,xn!==null)throw Error(o(261));return vn=null,zn=0,Sn}function _L(){for(;xn!==null;)VM(xn)}function wL(){for(;xn!==null&&!YI();)VM(xn)}function VM(c){var f=XM(c.alternate,c,Ii);c.memoizedProps=c.pendingProps,f===null?WM(c):xn=f,W0.current=null}function WM(c){var f=c;do{var g=f.alternate;if(c=f.return,f.flags&32768){if(g=pL(g,f),g!==null){g.flags&=32767,xn=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Sn=6,xn=null;return}}else if(g=fL(g,f,Ii),g!==null){xn=g;return}if(f=f.sibling,f!==null){xn=f;return}xn=f=c}while(f!==null);Sn===0&&(Sn=5)}function la(c,f){var g=It,w=pn.transition;try{pn.transition=null,It=1,ML(c,f,g)}finally{pn.transition=w,It=g}return null}function ML(c,f,g){do ca();while(eo!==null);if(xt&6)throw Error(o(327));var w=c.finishedWork,C=c.finishedLanes;if(w===null)return null;if(c.finishedWork=null,c.finishedLanes=0,w===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var b=w.lanes|w.childLanes;if(XI(c,b),c===vn&&(xn=vn=null,zn=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||bd||(bd=!0,YM(s0,function(){return ca(),null})),b=(w.flags&15990)!==0,w.subtreeFlags&15990||b){b=pn.transition,pn.transition=null;var k=It;It=1;var Y=xt;xt|=4,W0.current=null,gL(c,w),yL(c,w),j(c.containerInfo),c.current=w,vL(w),KI(),xt=Y,It=k,pn.transition=b}else c.current=w;if(bd&&(bd=!1,eo=c,Pd=C),b=c.pendingLanes,b===0&&($s=null),qI(w.stateNode),xi(c,In()),f!==null)for(g=c.onRecoverableError,w=0;w<f.length;w++)g(f[w]);if(Td)throw Td=!1,c=Y0,Y0=null,c;return Pd&1&&c.tag!==0&&ca(),b=c.pendingLanes,b&1?c===K0?Cu++:(Cu=0,K0=c):Cu=0,jr(),null}function ca(){if(eo!==null){var c=ww(Pd),f=pn.transition,g=It;try{if(pn.transition=null,It=16>c?16:c,eo===null)var w=!1;else{if(c=eo,eo=null,Pd=0,xt&6)throw Error(o(331));var C=xt;for(xt|=4,Ie=c.current;Ie!==null;){var b=Ie,k=b.child;if(Ie.flags&16){var Y=b.deletions;if(Y!==null){for(var ue=0;ue<Y.length;ue++){var Ee=Y[ue];for(Ie=Ee;Ie!==null;){var Ge=Ie;switch(Ge.tag){case 0:case 11:case 15:oa(8,Ge,b)}var ut=Ge.child;if(ut!==null)ut.return=Ge,Ie=ut;else for(;Ie!==null;){Ge=Ie;var tt=Ge.sibling,zt=Ge.return;if(bM(Ge),Ge===Ee){Ie=null;break}if(tt!==null){tt.return=zt,Ie=tt;break}Ie=zt}}}var Ke=b.alternate;if(Ke!==null){var Kn=Ke.child;if(Kn!==null){Ke.child=null;do{var ir=Kn.sibling;Kn.sibling=null,Kn=ir}while(Kn!==null)}}Ie=b}}if(b.subtreeFlags&2064&&k!==null)k.return=b,Ie=k;else e:for(;Ie!==null;){if(b=Ie,b.flags&2048)switch(b.tag){case 0:case 11:case 15:oa(9,b,b.return)}var ne=b.sibling;if(ne!==null){ne.return=b.return,Ie=ne;break e}Ie=b.return}}var K=c.current;for(Ie=K;Ie!==null;){k=Ie;var ae=k.child;if(k.subtreeFlags&2064&&ae!==null)ae.return=k,Ie=ae;else e:for(k=K;Ie!==null;){if(Y=Ie,Y.flags&2048)try{switch(Y.tag){case 0:case 11:case 15:_u(9,Y)}}catch(Xe){Ai(Y,Y.return,Xe)}if(Y===k){Ie=null;break e}var Fe=Y.sibling;if(Fe!==null){Fe.return=Y.return,Ie=Fe;break e}Ie=Y.return}}if(xt=C,jr(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Xh,c)}catch{}w=!0}return w}finally{It=g,pn.transition=f}}return!1}function jM(c,f,g){f=P0(g,f),f=sM(c,f,1),qs(c,f),f=si(),c=Id(c,1),c!==null&&(lu(c,1,f),xi(c,f))}function Ai(c,f,g){if(c.tag===3)jM(c,c,g);else for(;f!==null;){if(f.tag===3){jM(f,c,g);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&($s===null||!$s.has(w))){c=P0(g,c),c=oM(f,c,1),qs(f,c),c=si(),f=Id(f,1),f!==null&&(lu(f,1,c),xi(f,c));break}}f=f.return}}function SL(c,f,g){var w=c.pingCache;w!==null&&w.delete(f),f=si(),c.pingedLanes|=c.suspendedLanes&g,vn===c&&(zn&g)===g&&(Sn===4||Sn===3&&(zn&130023424)===zn&&500>In()-J0?aa(c,0):j0|=g),xi(c,f)}function JM(c,f){f===0&&(c.mode&1?(f=jh,jh<<=1,!(jh&130023424)&&(jh=4194304)):f=1);var g=si();c=Id(c,f),c!==null&&(lu(c,f,g),xi(c,g))}function CL(c){var f=c.memoizedState,g=0;f!==null&&(g=f.retryLane),JM(c,g)}function EL(c,f){var g=0;switch(c.tag){case 13:var w=c.stateNode,C=c.memoizedState;C!==null&&(g=C.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(f),JM(c,g)}var XM;XM=function(c,f,g){if(c!==null)if(c.memoizedProps!==f.pendingProps||Rn.current)Ri=!0;else{if(!(c.lanes&g)&&!(f.flags&128))return Ri=!1,dL(c,f,g);Ri=!!(c.flags&131072)}else Ri=!1,Zt&&f.flags&1048576&&Lw(f,nd,f.index);switch(f.lanes=0,f.tag){case 2:var w=f.type;c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps;var C=ds(f,kt.current);_l(f,g),C=S0(null,f,w,c,C,g);var b=C0();return f.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,yi(w)?(b=!0,Vh(f)):b=!1,f.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,f0(f),C.updater=ed,f.stateNode=C,C._reactInternals=f,d0(f,w,c,g),f=I0(null,f,w,!0,b,g)):(f.tag=0,Zt&&b&&p0(f),ri(null,f,C,g),f=f.child),f;case 16:w=f.elementType;e:{switch(c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps,C=w._init,w=C(w._payload),f.type=w,C=f.tag=bL(w),c=_r(w,c),C){case 0:f=R0(null,f,w,c,g);break e;case 1:f=yM(null,f,w,c,g);break e;case 11:f=hM(null,f,w,c,g);break e;case 14:f=dM(null,f,w,_r(w.type,c),g);break e}throw Error(o(306,w,""))}return f;case 0:return w=f.type,C=f.pendingProps,C=f.elementType===w?C:_r(w,C),R0(c,f,w,C,g);case 1:return w=f.type,C=f.pendingProps,C=f.elementType===w?C:_r(w,C),yM(c,f,w,C,g);case 3:e:{if(vM(f),c===null)throw Error(o(387));w=f.pendingProps,b=f.memoizedState,C=b.element,Ew(c,f),$h(f,w,null,g);var k=f.memoizedState;if(w=k.element,oe&&b.isDehydrated)if(b={element:w,isDehydrated:!1,cache:k.cache,transitions:k.transitions},f.updateQueue.baseState=b,f.memoizedState=b,f.flags&256){C=Error(o(423)),f=xM(c,f,w,g,C);break e}else if(w!==C){C=Error(o(424)),f=xM(c,f,w,g,C);break e}else for(oe&&(Bi=q(f.stateNode.containerInfo),Pi=f,Zt=!0,wr=null,cu=!1),g=Uw(f,null,w,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Sl(),w===C){f=xs(c,f,g);break e}ri(c,f,w,g)}f=f.child}return f;case 5:return zw(f),c===null&&y0(f),w=f.type,C=f.pendingProps,b=c!==null?c.memoizedProps:null,k=C.children,Ae(w,C)?k=null:b!==null&&Ae(w,b)&&(f.flags|=32),gM(c,f),ri(c,f,k,g),f.child;case 6:return c===null&&y0(f),null;case 13:return AM(c,f,g);case 4:return x0(f,f.stateNode.containerInfo),w=f.pendingProps,c===null?f.child=Cl(f,null,w,g):ri(c,f,w,g),f.child;case 11:return w=f.type,C=f.pendingProps,C=f.elementType===w?C:_r(w,C),hM(c,f,w,C,g);case 7:return ri(c,f,f.pendingProps,g),f.child;case 8:return ri(c,f,f.pendingProps.children,g),f.child;case 12:return ri(c,f,f.pendingProps.children,g),f.child;case 10:e:{if(w=f.type._context,C=f.pendingProps,b=f.memoizedProps,k=C.value,Cw(f,w,k),b!==null)if(Wr(b.value,k)){if(b.children===C.children&&!Rn.current){f=xs(c,f,g);break e}}else for(b=f.child,b!==null&&(b.return=f);b!==null;){var Y=b.dependencies;if(Y!==null){k=b.child;for(var ue=Y.firstContext;ue!==null;){if(ue.context===w){if(b.tag===1){ue=ms(-1,g&-g),ue.tag=2;var Ee=b.updateQueue;if(Ee!==null){Ee=Ee.shared;var Ge=Ee.pending;Ge===null?ue.next=ue:(ue.next=Ge.next,Ge.next=ue),Ee.pending=ue}}b.lanes|=g,ue=b.alternate,ue!==null&&(ue.lanes|=g),u0(b.return,g,f),Y.lanes|=g;break}ue=ue.next}}else if(b.tag===10)k=b.type===f.type?null:b.child;else if(b.tag===18){if(k=b.return,k===null)throw Error(o(341));k.lanes|=g,Y=k.alternate,Y!==null&&(Y.lanes|=g),u0(k,g,f),k=b.sibling}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===f){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}ri(c,f,C.children,g),f=f.child}return f;case 9:return C=f.type,w=f.pendingProps.children,_l(f,g),C=Qi(C),w=w(C),f.flags|=1,ri(c,f,w,g),f.child;case 14:return w=f.type,C=_r(w,f.pendingProps),C=_r(w.type,C),dM(c,f,w,C,g);case 15:return pM(c,f,f.type,f.pendingProps,g);case 17:return w=f.type,C=f.pendingProps,C=f.elementType===w?C:_r(w,C),c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,yi(w)?(c=!0,Vh(f)):c=!1,_l(f,g),Rw(f,w,C),d0(f,w,C,g),I0(null,f,w,!0,c,g);case 19:return SM(c,f,g);case 22:return mM(c,f,g)}throw Error(o(156,f.tag))};function YM(c,f){return i0(c,f)}function TL(c,f,g,w){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(c,f,g,w){return new TL(c,f,g,w)}function ey(c){return c=c.prototype,!(!c||!c.isReactComponent)}function bL(c){if(typeof c=="function")return ey(c)?1:0;if(c!=null){if(c=c.$$typeof,c===y)return 11;if(c===_)return 14}return 2}function io(c,f){var g=c.alternate;return g===null?(g=nr(c.tag,f,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=f,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,f=c.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function Dd(c,f,g,w,C,b){var k=2;if(w=c,typeof c=="function")ey(c)&&(k=1);else if(typeof c=="string")k=5;else e:switch(c){case h:return ua(g.children,C,b,f);case d:k=8,C|=8;break;case p:return c=nr(12,g,f,C|2),c.elementType=p,c.lanes=b,c;case x:return c=nr(13,g,f,C),c.elementType=x,c.lanes=b,c;case A:return c=nr(19,g,f,C),c.elementType=A,c.lanes=b,c;case S:return Fd(g,C,b,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:k=10;break e;case v:k=9;break e;case y:k=11;break e;case _:k=14;break e;case M:k=16,w=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return f=nr(k,g,f,C),f.elementType=c,f.type=w,f.lanes=b,f}function ua(c,f,g,w){return c=nr(7,c,w,f),c.lanes=g,c}function Fd(c,f,g,w){return c=nr(22,c,w,f),c.elementType=S,c.lanes=g,c.stateNode={},c}function ty(c,f,g){return c=nr(6,c,null,f),c.lanes=g,c}function ny(c,f,g){return f=nr(4,c.children!==null?c.children:[],c.key,f),f.lanes=g,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function PL(c,f,g,w,C){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=He,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t0(0),this.expirationTimes=t0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t0(0),this.identifierPrefix=w,this.onRecoverableError=C,oe&&(this.mutableSourceEagerHydrationData=null)}function KM(c,f,g,w,C,b,k,Y,ue){return c=new PL(c,f,g,Y,ue),f===1?(f=1,b===!0&&(f|=8)):f=0,b=nr(3,null,null,f),c.current=b,b.stateNode=c,b.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null},f0(b),c}function QM(c){if(!c)return Ki;c=c._reactInternals;e:{if(B(c)!==c||c.tag!==1)throw Error(o(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(yi(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(c.tag===1){var g=c.type;if(yi(g))return Aw(c,g,f)}return f}function ZM(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=Z(f),c===null?null:c.stateNode}function qM(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<f?g:f}}function iy(c,f){qM(c,f),(c=c.alternate)&&qM(c,f)}function BL(c){return c=Z(c),c===null?null:c.stateNode}function RL(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var f=si();tr(c,134217728,f),iy(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=si(),g=to(c);tr(c,g,f),iy(c,g)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var g=au(f.pendingLanes);g!==0&&(n0(f,g|1),xi(f,In()),!(xt&6)&&(Rl(),jr()))}break;case 13:var w=si();zM(function(){return tr(c,1,w)}),iy(c,1)}},t.batchedUpdates=function(c,f){var g=xt;xt|=1;try{return c(f)}finally{xt=g,xt===0&&(Rl(),Yh&&jr())}},t.createComponentSelector=function(c){return{$$typeof:Ad,value:c}},t.createContainer=function(c,f,g,w,C,b,k){return KM(c,f,!1,null,g,w,C,b,k)},t.createHasPseudoClassSelector=function(c){return{$$typeof:_d,value:c}},t.createHydrationContainer=function(c,f,g,w,C,b,k,Y,ue){return c=KM(g,w,!0,c,C,b,k,Y,ue),c.context=QM(null),g=c.current,w=si(),C=to(g),b=ms(w,C),b.callback=f??null,qs(g,b),c.current.lanes=C,lu(c,C,w),xi(c,w),c},t.createPortal=function(c,f,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:c,containerInfo:f,implementation:g}},t.createRoleSelector=function(c){return{$$typeof:wd,value:c}},t.createTestNameSelector=function(c){return{$$typeof:Md,value:c}},t.createTextSelector=function(c){return{$$typeof:Sd,value:c}},t.deferredUpdates=function(c){var f=It,g=pn.transition;try{return pn.transition=null,It=16,c()}finally{It=f,pn.transition=g}},t.discreteUpdates=function(c,f,g,w,C){var b=It,k=pn.transition;try{return pn.transition=null,It=1,c(f,g,w,C)}finally{It=b,pn.transition=k,xt===0&&Rl()}},t.findAllNodes=V0,t.findBoundingRects=function(c,f){if(!wt)throw Error(o(363));f=V0(c,f),c=[];for(var g=0;g<f.length;g++)c.push(O(f[g]));for(f=c.length-1;0<f;f--){g=c[f];for(var w=g.x,C=w+g.width,b=g.y,k=b+g.height,Y=f-1;0<=Y;Y--)if(f!==Y){var ue=c[Y],Ee=ue.x,Ge=Ee+ue.width,ut=ue.y,tt=ut+ue.height;if(w>=Ee&&b>=ut&&C<=Ge&&k<=tt){c.splice(f,1);break}else if(w!==Ee||g.width!==ue.width||tt<b||ut>k){if(!(b!==ut||g.height!==ue.height||Ge<w||Ee>C)){Ee>w&&(ue.width+=Ee-w,ue.x=w),Ge<C&&(ue.width=C-Ee),c.splice(f,1);break}}else{ut>b&&(ue.height+=ut-b,ue.y=b),tt<k&&(ue.height=k-ut),c.splice(f,1);break}}}return c},t.findHostInstance=ZM,t.findHostInstanceWithNoPortals=function(c){return c=U(c),c=c!==null?H(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return ZM(c)},t.flushControlled=function(c){var f=xt;xt|=1;var g=pn.transition,w=It;try{pn.transition=null,It=1,c()}finally{It=w,pn.transition=g,xt=f,xt===0&&(Rl(),jr())}},t.flushPassiveEffects=ca,t.flushSync=zM,t.focusWithin=function(c,f){if(!wt)throw Error(o(363));for(c=z0(c),f=kM(c,f),f=Array.from(f),c=0;c<f.length;){var g=f[c++];if(!se(g)){if(g.tag===5&&Ce(g.stateNode))return!0;for(g=g.child;g!==null;)f.push(g),g=g.sibling}}return!1},t.getCurrentUpdatePriority=function(){return It},t.getFindAllNodesFailureDescription=function(c,f){if(!wt)throw Error(o(363));var g=0,w=[];c=[z0(c),0];for(var C=0;C<c.length;){var b=c[C++],k=c[C++],Y=f[k];if((b.tag!==5||!se(b))&&(G0(b,Y)&&(w.push(H0(Y)),k++,k>g&&(g=k)),k<f.length))for(b=b.child;b!==null;)c.push(b,k),b=b.sibling}if(g<f.length){for(c=[];g<f.length;g++)c.push(H0(f[g]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return ie(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:BL,findFiberByHostInstance:c.findFiberByHostInstance||RL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{Xh=f.inject(c),Vr=f}catch{}c=!!f.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,f,g,w){if(!wt)throw Error(o(363));c=V0(c,f);var C=Te(c,g,w).disconnect;return{disconnect:function(){C()}}},t.registerMutableSourceForHydration=function(c,f){var g=f._getVersion;g=g(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,g]:c.mutableSourceEagerHydrationData.push(f,g)},t.runWithPriority=function(c,f){var g=It;try{return It=c,f()}finally{It=g}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,f,g,w){var C=f.current,b=si(),k=to(C);return g=QM(g),f.context===null?f.context=g:f.pendingContext=g,f=ms(b,k),f.payload={element:c},w=w===void 0?null:w,w!==null&&(f.callback=w),qs(C,f),c=tr(C,k,b),c!==null&&qh(c,C,k),k},t};GR.exports=F5;var N5=GR.exports;const k5=XA(N5),O5=n=>typeof n=="object"&&typeof n.then=="function",za=[];function WR(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function jR(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of za)if(WR(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=za.indexOf(r);s!==-1&&za.splice(s,1)},promise:(O5(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(za.push(r),!t)throw r.promise}const U5=(n,e,t)=>jR(n,e,!1,t),z5=(n,e,t)=>void jR(n,e,!0,t),G5=n=>{if(n===void 0||n.length===0)za.splice(0,za.length);else{const e=za.find(t=>WR(n,t.keys,t.equal));e&&e.remove()}},N_={},H5=n=>void Object.assign(N_,n);function V5(n,e){function t(h,{args:d=[],attach:p,...m},v){let y=`${h[0].toUpperCase()}${h.slice(1)}`,x;if(h==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const A=m.object;x=ql(A,{type:h,root:v,attach:p,primitive:!0})}else{const A=N_[y];if(!A)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");x=ql(new A(...d),{type:h,root:v,attach:p,memoizedProps:{args:d}})}return x.__r3f.attach===void 0&&(x instanceof ht?x.__r3f.attach="geometry":x instanceof Mn&&(x.__r3f.attach="material")),y!=="inject"&&dv(x,m),x}function i(h,d){let p=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?hv(h,d,d.__r3f.attach):d.isObject3D&&h.isObject3D&&(h.add(d),p=!0),p||(v=h.__r3f)==null||v.objects.push(d),d.__r3f||ql(d,{}),d.__r3f.parent=h,_A(d),$l(d)}}function r(h,d,p){let m=!1;if(d){var v,y;if((v=d.__r3f)!=null&&v.attach)hv(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){d.parent=h,d.dispatchEvent({type:"added"}),h.dispatchEvent({type:"childadded",child:d});const x=h.children.filter(_=>_!==d),A=x.indexOf(p);h.children=[...x.slice(0,A),d,...x.slice(A)],m=!0}m||(y=h.__r3f)==null||y.objects.push(d),d.__r3f||ql(d,{}),d.__r3f.parent=h,_A(d),$l(d)}}function s(h,d,p=!1){h&&[...h].forEach(m=>o(d,m,p))}function o(h,d,p){if(d){var m,v,y;if(d.__r3f&&(d.__r3f.parent=null),(m=h.__r3f)!=null&&m.objects&&(h.__r3f.objects=h.__r3f.objects.filter(S=>S!==d)),(v=d.__r3f)!=null&&v.attach)UE(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){var x;h.remove(d),(x=d.__r3f)!=null&&x.root&&q5(mm(d),d)}const _=(y=d.__r3f)==null?void 0:y.primitive,M=!_&&(p===void 0?d.dispose!==null:p);if(!_){var A;s((A=d.__r3f)==null?void 0:A.objects,d,M),s(d.children,d,M)}if(delete d.__r3f,M&&d.dispose&&d.type!=="Scene"){const S=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?xA.unstable_scheduleCallback(xA.unstable_IdlePriority,S):S()}$l(h)}}function a(h,d,p,m){var v;const y=(v=h.__r3f)==null?void 0:v.parent;if(!y)return;const x=t(d,p,h.__r3f.root);if(h.children){for(const A of h.children)A.__r3f&&i(x,A);h.children=h.children.filter(A=>!A.__r3f)}h.__r3f.objects.forEach(A=>i(x,A)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(y,h),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(y,x),x.raycast&&x.__r3f.eventCount&&mm(x).getState().internal.interaction.push(x),[m,m.alternate].forEach(A=>{A!==null&&(A.stateNode=x,A.ref&&(typeof A.ref=="function"?A.ref(x):A.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:k5({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,d)=>{if(!d)return;const p=h.getState().scene;p.__r3f&&(p.__r3f.root=h,i(p,d))},removeChildFromContainer:(h,d)=>{d&&o(h.getState().scene,d)},insertInContainerBefore:(h,d,p)=>{if(!d||!p)return;const m=h.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var d;return!!((d=h==null?void 0:h.__r3f)!=null?d:{}).handlers},prepareUpdate(h,d,p,m){var v;if(((v=h==null?void 0:h.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==h)return[!0];{const{args:x=[],children:A,..._}=m,{args:M=[],children:S,...E}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((R,T)=>R!==M[T]))return[!0];const P=qR(h,_,E,!0);return P.changes.length?[!1,P]:null}},commitUpdate(h,[d,p],m,v,y,x){d?a(h,m,y,x):dv(h,p)},commitMount(h,d,p,m){var v;const y=(v=h.__r3f)!=null?v:{};h.raycast&&y.handlers&&y.eventCount&&mm(h).getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>ql(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var d;const{attach:p,parent:m}=(d=h.__r3f)!=null?d:{};p&&m&&UE(m,h,p),h.isObject3D&&(h.visible=!1),$l(h)},unhideInstance(h,d){var p;const{attach:m,parent:v}=(p=h.__r3f)!=null?p:{};m&&v&&hv(v,h,m),(h.isObject3D&&d.visible==null||d.visible)&&(h.visible=!0),$l(h)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():gc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Vt.fun(performance.now)?performance.now:Vt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Vt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Vt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:dv}}var FE,NE;const fv=n=>"colorSpace"in n||"outputColorSpace"in n,JR=()=>{var n;return(n=N_.ColorManagement)!=null?n:null},XR=n=>n&&n.isOrthographicCamera,W5=n=>n&&n.hasOwnProperty("current"),Lh=typeof window<"u"&&((FE=window.document)!=null&&FE.createElement||((NE=window.navigator)==null?void 0:NE.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function YR(n){const e=z.useRef(n);return Lh(()=>void(e.current=n),[n]),e}function j5({set:n}){return Lh(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class KR extends z.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}KR.getDerivedStateFromError=()=>({error:!0});const QR="__default",kE=new Map,J5=n=>n&&!!n.memoized&&!!n.changes;function ZR(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Ju=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function mm(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Vt={obj:n=>n===Object(n)&&!Vt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Vt.str(n)||Vt.num(n)||Vt.boo(n))return n===e;const s=Vt.obj(n);if(s&&i==="reference")return n===e;const o=Vt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Vt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Vt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function X5(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Y5(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function ql(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function AA(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const OE=/-\d+$/;function hv(n,e,t){if(Vt.str(t)){if(OE.test(t)){const s=t.replace(OE,""),{target:o,key:a}=AA(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=AA(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function UE(n,e,t){var i,r;if(Vt.str(t)){const{target:s,key:o}=AA(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function qR(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},u=!1){const h=n.__r3f,d=Object.entries(r),p=[];if(u){const v=Object.keys(l);for(let y=0;y<v.length;y++)r.hasOwnProperty(v[y])||d.unshift([v[y],QR+"remove"])}d.forEach(([v,y])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&v==="object"||Vt.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,y,!0,[]]);let A=[];v.includes("-")&&(A=v.split("-")),p.push([v,y,!1,A]);for(const _ in r){const M=r[_];_.startsWith(`${v}-`)&&p.push([_,M,!1,_.split("-")])}});const m={...r};return h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.args&&(m.args=h.memoizedProps.args),h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.attach&&(m.attach=h.memoizedProps.attach),{memoized:m,changes:p}}const K5=typeof process<"u"&&!1;function dv(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=J5(e)?e:qR(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let h=0;h<a.length;h++){let[d,p,m,v]=a[h];if(fv(n)){const _="srgb",M="srgb-linear";d==="encoding"?(d="colorSpace",p=p===3001?_:M):d==="outputEncoding"&&(d="outputColorSpace",p=p===3001?_:M)}let y=n,x=y[d];if(v.length&&(x=v.reduce((A,_)=>A[_],n),!(x&&x.set))){const[A,..._]=v.reverse();y=_.reverse().reduce((M,S)=>M[S],n),d=A}if(p===QR+"remove")if(y.constructor){let A=kE.get(y.constructor);A||(A=new y.constructor,kE.set(y.constructor,A)),p=A[d]}else p=0;if(m&&i)p?i.handlers[d]=p:delete i.handlers[d],i.eventCount=Object.keys(i.handlers).length;else if(x&&x.set&&(x.copy||x instanceof Qa)){if(Array.isArray(p))x.fromArray?x.fromArray(p):x.set(...p);else if(x.copy&&p&&p.constructor&&(K5?x.constructor.name===p.constructor.name:x.constructor===p.constructor))x.copy(p);else if(p!==void 0){const A=x instanceof Le;!A&&x.setScalar?x.setScalar(p):x instanceof Qa&&p instanceof Qa?x.mask=p.mask:x.set(p),!JR()&&s&&!s.linear&&A&&x.convertSRGBToLinear()}}else if(y[d]=p,y[d]instanceof jt&&y[d].format===wi&&y[d].type===Xs&&s){const A=y[d];fv(A)&&fv(s.gl)?A.colorSpace=s.gl.outputColorSpace:A.encoding=s.gl.outputEncoding}$l(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const h=mm(n).getState().internal,d=h.interaction.indexOf(n);d>-1&&h.interaction.splice(d,1),i.eventCount&&h.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&_A(n),n}function $l(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function _A(n){n.onUpdate==null||n.onUpdate(n)}function Q5(n,e){n.manual||(XR(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Op(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Z5(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return gc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return gc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return gc.ContinuousEventPriority;default:return gc.DefaultEventPriority}}function $R(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function q5(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{$R(t.capturedMap,e,i,r)})}function $5(n){function e(l){const{internal:u}=n.getState(),h=l.offsetX-u.initialClick[0],d=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+d*d))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var d;return(d=u.__r3f)==null?void 0:d.handlers["onPointer"+h]}))}function i(l,u){const h=n.getState(),d=new Set,p=[],m=u?u(h.internal.interaction):h.internal.interaction;for(let A=0;A<m.length;A++){const _=Ju(m[A]);_&&(_.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function v(A){const _=Ju(A);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var M;_.events.compute==null||_.events.compute(l,_,(M=_.previousRoot)==null?void 0:M.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(A,!0):[]}let y=m.flatMap(v).sort((A,_)=>{const M=Ju(A.object),S=Ju(_.object);return!M||!S?A.distance-_.distance:S.events.priority-M.events.priority||A.distance-_.distance}).filter(A=>{const _=Op(A);return d.has(_)?!1:(d.add(_),!0)});h.events.filter&&(y=h.events.filter(y,h));for(const A of y){let _=A.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&p.push({...A,eventObject:_}),_=_.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let A of h.internal.capturedMap.get(l.pointerId).values())d.has(Op(A.intersection))||p.push(A.intersection);return p}function r(l,u,h,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const y=Ju(v.object)||p,{raycaster:x,pointer:A,camera:_,internal:M}=y,S=new D(A.x,A.y,0).unproject(_),E=I=>{var U,Z;return(U=(Z=M.capturedMap.get(I))==null?void 0:Z.has(v.eventObject))!=null?U:!1},P=I=>{const U={intersection:v,target:u.target};M.capturedMap.has(I)?M.capturedMap.get(I).set(v.eventObject,U):M.capturedMap.set(I,new Map([[v.eventObject,U]])),u.target.setPointerCapture(I)},R=I=>{const U=M.capturedMap.get(I);U&&$R(M.capturedMap,v.eventObject,U,I)};let T={};for(let I in u){let U=u[I];typeof U!="function"&&(T[I]=U)}let B={...v,...T,pointer:A,intersections:l,stopped:m.stopped,delta:h,unprojectedPoint:S,ray:x.ray,camera:_,stopPropagation(){const I="pointerId"in u&&M.capturedMap.get(u.pointerId);if((!I||I.has(v.eventObject))&&(B.stopped=m.stopped=!0,M.hovered.size&&Array.from(M.hovered.values()).find(U=>U.eventObject===v.eventObject))){const U=l.slice(0,l.indexOf(v));s([...U,v])}},target:{hasPointerCapture:E,setPointerCapture:P,releasePointerCapture:R},currentTarget:{hasPointerCapture:E,setPointerCapture:P,releasePointerCapture:R},nativeEvent:u};if(d(B),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const h of u.hovered.values())if(!l.length||!l.find(d=>d.object===h.object&&d.index===h.index&&d.instanceId===h.instanceId)){const p=h.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(Op(h)),p!=null&&p.eventCount){const v={...h,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,u){for(let h=0;h<u.length;h++){const d=u[h].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=n.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(h){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=h;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(h,m?t:void 0),A=v?e(h):0;l==="onPointerDown"&&(p.initialClick=[h.offsetX,h.offsetY],p.initialHits=x.map(M=>M.eventObject)),v&&!x.length&&A<=2&&(o(h,p.interaction),d&&d(h)),m&&s(x);function _(M){const S=M.eventObject,E=S.__r3f,P=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const R=Op(M),T=p.hovered.get(R);T?T.stopped&&M.stopPropagation():(p.hovered.set(R,M),P.onPointerOver==null||P.onPointerOver(M),P.onPointerEnter==null||P.onPointerEnter(M))}P.onPointerMove==null||P.onPointerMove(M)}else{const R=P[l];R?(!v||p.initialHits.includes(S))&&(o(h,p.interaction.filter(T=>!p.initialHits.includes(T))),R(M)):v&&p.initialHits.includes(S)&&o(h,p.interaction.filter(T=>!p.initialHits.includes(T)))}}r(x,h,A,_)}}return{handlePointer:a}}const e3=n=>!!(n!=null&&n.render),t3=z.createContext(null),e9=(n,e)=>{const t=zR((a,l)=>{const u=new D,h=new D,d=new D;function p(A=l().camera,_=h,M=l().size){const{width:S,height:E,top:P,left:R}=M,T=S/E;_ instanceof D?d.copy(_):d.set(..._);const B=A.getWorldPosition(u).distanceTo(d);if(XR(A))return{width:S/A.zoom,height:E/A.zoom,top:P,left:R,factor:1,distance:B,aspect:T};{const I=A.fov*Math.PI/180,U=2*Math.tan(I/2)*B,Z=U*(S/E);return{width:Z,height:U,top:P,left:R,factor:S/Z,distance:B,aspect:T}}}let m;const v=A=>a(_=>({performance:{..._.performance,current:A}})),y=new pe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(A=1)=>n(l(),A),advance:(A,_)=>e(A,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new I_,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=l();m&&clearTimeout(m),A.performance.current!==A.performance.min&&v(A.performance.min),m=setTimeout(()=>v(l().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:A=>a(_=>({..._,events:{..._.events,...A}})),setSize:(A,_,M,S,E)=>{const P=l().camera,R={width:A,height:_,top:S||0,left:E||0,updateStyle:M};a(T=>({size:R,viewport:{...T.viewport,...p(P,h,R)}}))},setDpr:A=>a(_=>{const M=ZR(A);return{viewport:{..._.viewport,dpr:M,initialDpr:_.viewport.initialDpr||M}}}),setFrameloop:(A="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,A!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:A}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:z.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(A,_,M)=>{const S=l().internal;return S.priority=S.priority+(_>0?1:0),S.subscribers.push({ref:A,priority:_,store:M}),S.subscribers=S.subscribers.sort((E,P)=>E.priority-P.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(_>0?1:0),E.subscribers=E.subscribers.filter(P=>P.ref!==A))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:h,set:d}=t.getState();if(l.width!==r.width||l.height!==r.height||u.dpr!==s){var p;r=l,s=u.dpr,Q5(a,l),h.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Up,t9=new Set,n9=new Set,i9=new Set;function pv(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Xu(n,e){switch(n){case"before":return pv(t9,e);case"after":return pv(n9,e);case"tail":return pv(i9,e)}}let mv,gv;function yv(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),mv=e.internal.subscribers,Up=0;Up<mv.length;Up++)gv=mv[Up],gv.ref.current(gv.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function r9(n){let e=!1,t=!1,i,r,s;function o(u){r=requestAnimationFrame(o),e=!0,i=0,Xu("before",u),t=!0;for(const d of n.values()){var h;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((h=s.gl.xr)!=null&&h.isPresenting)&&(i+=yv(u,s))}if(t=!1,Xu("after",u),i===0)return Xu("tail",u),e=!1,cancelAnimationFrame(r)}function a(u,h=1){var d;if(!u)return n.forEach(p=>a(p.store.getState(),h));(d=u.gl.xr)!=null&&d.isPresenting||!u.internal.active||u.frameloop==="never"||(h>1?u.internal.frames=Math.min(60,u.internal.frames+h):t?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,h=!0,d,p){if(h&&Xu("before",u),d)yv(u,d,p);else for(const m of n.values())yv(u,m.store.getState());h&&Xu("after",u)}return{loop:o,invalidate:a,advance:l}}function n3(){const n=z.useContext(t3);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Ni(n=t=>t,e){return n3()(n,e)}function su(n,e=0){const t=n3(),i=t.getState().internal.subscribe,r=YR(n);return Lh(()=>i(r,e,t),[e,i,t]),null}const zE=new WeakMap;function i3(n,e){return function(t,...i){let r=zE.get(t);return r||(r=new t,zE.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,X5(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function $o(n,e,t,i){const r=Array.isArray(e)?e:[e],s=U5(i3(t,i),[n,...r],{equal:Vt.equ});return Array.isArray(e)?s:s[0]}$o.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return z5(i3(t),[n,...i])};$o.clear=function(n,e){const t=Array.isArray(e)?e:[e];return G5([n,...t])};const Vc=new Map,{invalidate:GE,advance:HE}=r9(Vc),{reconciler:Km,applyProps:$r}=V5(Vc,Z5),Zl={objects:"shallow",strict:!1},s9=(n,e)=>{const t=typeof n=="function"?n(e):n;return e3(t)?t:new c_({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function o9(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function a9(n){const e=Vc.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||e9(GE,HE),o=t||Km.createContainer(s,gc.ConcurrentRoot,null,!1,null,"",r,null);e||Vc.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(h={}){let{gl:d,size:p,scene:m,events:v,onCreated:y,shadows:x=!1,linear:A=!1,flat:_=!1,legacy:M=!1,orthographic:S=!1,frameloop:E="always",dpr:P=[1,2],performance:R,raycaster:T,camera:B,onPointerMissed:I}=h,U=s.getState(),Z=U.gl;U.gl||U.set({gl:Z=s9(d,n)});let W=U.raycaster;W||U.set({raycaster:W=new kR});const{params:H,...Q}=T||{};if(Vt.equ(Q,W,Zl)||$r(W,{...Q}),Vt.equ(H,W.params,Zl)||$r(W,{params:{...W.params,...H}}),!U.camera||U.camera===u&&!Vt.equ(u,B,Zl)){u=B;const j=B instanceof ph,re=j?B:S?new dr(0,0,0,0,.1,1e3):new Xt(75,0,.1,1e3);j||(re.position.z=5,B&&($r(re,B),("aspect"in B||"left"in B||"right"in B||"bottom"in B||"top"in B)&&(re.manual=!0,re.updateProjectionMatrix())),!U.camera&&!(B!=null&&B.rotation)&&re.lookAt(0,0,0)),U.set({camera:re}),W.camera=re}if(!U.scene){let j;m instanceof Ym?j=m:(j=new Ym,m&&$r(j,m)),U.set({scene:ql(j)})}if(!U.xr){var ie;const j=(ee,ve)=>{const Ae=s.getState();Ae.frameloop!=="never"&&HE(ee,!0,Ae,ve)},re=()=>{const ee=s.getState();ee.gl.xr.enabled=ee.gl.xr.isPresenting,ee.gl.xr.setAnimationLoop(ee.gl.xr.isPresenting?j:null),ee.gl.xr.isPresenting||GE(ee)},J={connect(){const ee=s.getState().gl;ee.xr.addEventListener("sessionstart",re),ee.xr.addEventListener("sessionend",re)},disconnect(){const ee=s.getState().gl;ee.xr.removeEventListener("sessionstart",re),ee.xr.removeEventListener("sessionend",re)}};typeof((ie=Z.xr)==null?void 0:ie.addEventListener)=="function"&&J.connect(),U.set({xr:J})}if(Z.shadowMap){const j=Z.shadowMap.enabled,re=Z.shadowMap.type;if(Z.shadowMap.enabled=!!x,Vt.boo(x))Z.shadowMap.type=mf;else if(Vt.str(x)){var ce;const J={basic:Y2,percentage:Cg,soft:mf,variance:Fa};Z.shadowMap.type=(ce=J[x])!=null?ce:mf}else Vt.obj(x)&&Object.assign(Z.shadowMap,x);(j!==Z.shadowMap.enabled||re!==Z.shadowMap.type)&&(Z.shadowMap.needsUpdate=!0)}const N=JR();N&&("enabled"in N?N.enabled=!M:"legacyMode"in N&&(N.legacyMode=M)),l||$r(Z,{outputEncoding:A?3e3:3001,toneMapping:_?Nr:Y1}),U.legacy!==M&&U.set(()=>({legacy:M})),U.linear!==A&&U.set(()=>({linear:A})),U.flat!==_&&U.set(()=>({flat:_})),d&&!Vt.fun(d)&&!e3(d)&&!Vt.equ(d,Z,Zl)&&$r(Z,d),v&&!U.events.handlers&&U.set({events:v(s)});const X=o9(n,p);return Vt.equ(X,U.size,Zl)||U.setSize(X.width,X.height,X.updateStyle,X.top,X.left),P&&U.viewport.dpr!==ZR(P)&&U.setDpr(P),U.frameloop!==E&&U.setFrameloop(E),U.onPointerMissed||U.set({onPointerMissed:I}),R&&!Vt.equ(R,U.performance,Zl)&&U.set(j=>({performance:{...j.performance,...R}})),a=y,l=!0,this},render(h){return l||this.configure(),Km.updateContainer(fe(l9,{store:s,children:h,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){r3(n)}}}function l9({store:n,children:e,onCreated:t,rootElement:i}){return Lh(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),fe(t3.Provider,{value:n,children:e})}function r3(n,e){const t=Vc.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),Km.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Y5(r),Vc.delete(n),e&&e(n)}catch{}},500)})}}Km.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:z.version});function wA(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var h=Date.now()-o;h<e&&h>=0?i=setTimeout(l,e-h):(i=null,t||(a=n.apply(s,r),s=r=null))}var u=function(){s=this,r=arguments,o=Date.now();var h=t&&!i;return i||(i=setTimeout(l,e)),h&&(a=n.apply(s,r),s=r=null),a};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},u}wA.debounce=wA;var c9=wA;const VE=XA(c9);function u9(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,d=z.useRef(!1);z.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,v]=z.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:M,top:S,width:E,height:P,bottom:R,right:T,x:B,y:I}=l.current.element.getBoundingClientRect(),U={left:M,top:S,width:E,height:P,bottom:R,right:T,x:B,y:I};l.current.element instanceof HTMLElement&&r&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),d.current&&!p9(l.current.lastBounds,U)&&a(l.current.lastBounds=U)};return[_,h?VE(_,h):_,u?VE(_,u):_]},[a,r,u,h]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",v,{capture:!0,passive:!0})))}const A=_=>{!_||_===l.current.element||(y(),l.current.element=_,l.current.scrollContainers=s3(_),x())};return h9(v,!!t),f9(m),z.useEffect(()=>{y(),x()},[t,v,m]),z.useEffect(()=>y,[]),[A,o,p]}function f9(n){z.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function h9(n,e){z.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function s3(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...s3(n.parentElement)]}const d9=["x","y","top","bottom","left","right","width","height"],p9=(n,e)=>d9.every(t=>n[t]===e[t]);var m9=Object.defineProperty,g9=Object.defineProperties,y9=Object.getOwnPropertyDescriptors,WE=Object.getOwnPropertySymbols,v9=Object.prototype.hasOwnProperty,x9=Object.prototype.propertyIsEnumerable,jE=(n,e,t)=>e in n?m9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,JE=(n,e)=>{for(var t in e||(e={}))v9.call(e,t)&&jE(n,t,e[t]);if(WE)for(var t of WE(e))x9.call(e,t)&&jE(n,t,e[t]);return n},A9=(n,e)=>g9(n,y9(e)),XE,YE;typeof window<"u"&&((XE=window.document)!=null&&XE.createElement||((YE=window.navigator)==null?void 0:YE.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function o3(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=o3(i,e,t);if(r)return r;i=e?null:i.sibling}}function a3(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const KE=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=KE;return}return KE.apply(this,arguments)};const k_=a3(z.createContext(null));class l3 extends z.Component{render(){return z.createElement(k_.Provider,{value:this._reactInternals},this.props.children)}}function _9(){const n=z.useContext(k_);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=z.useId();return z.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=o3(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function w9(){const n=_9(),[e]=z.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==k_&&!e.has(r)&&e.set(r,z.useContext(a3(r)))}t=t.return}return e}function M9(){const n=w9();return z.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>z.createElement(e,null,z.createElement(t.Provider,A9(JE({},i),{value:n.get(t)}))),e=>z.createElement(l3,JE({},e))),[n])}const vv={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function S9(n){const{handlePointer:e}=$5(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(vv).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,u]=vv[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=vv[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const C9=z.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=S9,eventSource:a,eventPrefix:l,shadows:u,linear:h,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:x,raycaster:A,camera:_,scene:M,onPointerMissed:S,onCreated:E,...P},R){z.useMemo(()=>H5(I5),[]);const T=M9(),[B,I]=u9({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=z.useRef(null),Z=z.useRef(null);z.useImperativeHandle(R,()=>U.current);const W=YR(S),[H,Q]=z.useState(!1),[ie,ce]=z.useState(!1);if(H)throw H;if(ie)throw ie;const N=z.useRef(null);return Lh(()=>{const j=U.current;I.width>0&&I.height>0&&j&&(N.current||(N.current=a9(j)),N.current.configure({gl:s,events:o,shadows:u,linear:h,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:x,raycaster:A,camera:_,scene:M,size:I,onPointerMissed:(...re)=>W.current==null?void 0:W.current(...re),onCreated:re=>{re.events.connect==null||re.events.connect(a?W5(a)?a.current:a:Z.current),l&&re.setEvents({compute:(J,ee)=>{const ve=J[l+"X"],Ae=J[l+"Y"];ee.pointer.set(ve/ee.size.width*2-1,-(Ae/ee.size.height)*2+1),ee.raycaster.setFromCamera(ee.pointer,ee.camera)}}),E==null||E(re)}}),N.current.render(fe(T,{children:fe(KR,{set:ce,children:fe(z.Suspense,{fallback:fe(j5,{set:Q}),children:e})})})))}),z.useEffect(()=>{const j=U.current;if(j)return()=>r3(j)},[]),fe("div",{ref:Z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:a?"none":"auto",...r},...P,children:fe("div",{ref:B,style:{width:"100%",height:"100%"},children:fe("canvas",{ref:U,style:{display:"block"},children:t})})})}),zg=z.forwardRef(function(e,t){return fe(l3,{children:fe(C9,{...e,ref:t})})});function ls(){return ls=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ls.apply(null,arguments)}const Dh=new D,O_=new D,E9=new D,QE=new pe;function T9(n,e,t){const i=Dh.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function b9(n,e){const t=Dh.setFromMatrixPosition(n.matrixWorld),i=O_.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(E9);return r.angleTo(s)>Math.PI/2}function P9(n,e,t,i){const r=Dh.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),QE.set(s.x,s.y),t.setFromCamera(QE,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function B9(n,e){if(e instanceof dr)return e.zoom;if(e instanceof Xt){const t=Dh.setFromMatrixPosition(n.matrixWorld),i=O_.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function R9(n,e,t){if(e instanceof Xt||e instanceof dr){const i=Dh.setFromMatrixPosition(n.matrixWorld),r=O_.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const MA=n=>Math.abs(n)<1e-10?0:n;function c3(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=MA(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const I9=(n=>e=>c3(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),L9=(n=>(e,t)=>c3(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function D9(n){return n&&typeof n=="object"&&"current"in n}const F9=z.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:h=!1,occlude:d,onOcclude:p,castShadow:m,receiveShadow:v,material:y,geometry:x,zIndexRange:A=[16777271,0],calculatePosition:_=T9,as:M="div",wrapperClass:S,pointerEvents:E="auto",...P},R)=>{const{gl:T,camera:B,scene:I,size:U,raycaster:Z,events:W,viewport:H}=Ni(),[Q]=z.useState(()=>document.createElement(M)),ie=z.useRef(),ce=z.useRef(null),N=z.useRef(0),X=z.useRef([0,0]),j=z.useRef(null),re=z.useRef(null),J=(a==null?void 0:a.current)||W.connected||T.domElement.parentNode,ee=z.useRef(null),ve=z.useRef(!1),Ae=z.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&D9(d[0]),[d]);z.useLayoutEffect(()=>{const _e=T.domElement;d&&d==="blending"?(_e.style.zIndex=`${Math.floor(A[0]/2)}`,_e.style.position="absolute",_e.style.pointerEvents="none"):(_e.style.zIndex=null,_e.style.position=null,_e.style.pointerEvents=null)},[d]),z.useLayoutEffect(()=>{if(ce.current){const _e=ie.current=F2(Q);if(I.updateMatrixWorld(),h)Q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Be=_(ce.current,B,U);Q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Be[0]}px,${Be[1]}px,0);transform-origin:0 0;`}return J&&(r?J.prepend(Q):J.appendChild(Q)),()=>{J&&J.removeChild(Q),_e.unmount()}}},[J,h]),z.useLayoutEffect(()=>{S&&(Q.className=S)},[S]);const $=z.useMemo(()=>h?{position:"absolute",top:0,left:0,width:U.width,height:U.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-U.height/2,left:-U.width/2,width:U.width,height:U.height},...t},[t,s,o,U,h]),Ne=z.useMemo(()=>({position:"absolute",pointerEvents:E}),[E]);z.useLayoutEffect(()=>{if(ve.current=!1,h){var _e;(_e=ie.current)==null||_e.render(z.createElement("div",{ref:j,style:$},z.createElement("div",{ref:re,style:Ne},z.createElement("div",{ref:R,className:i,style:t,children:n}))))}else{var Be;(Be=ie.current)==null||Be.render(z.createElement("div",{ref:R,style:$,className:i,children:n}))}});const ke=z.useRef(!0);su(_e=>{if(ce.current){B.updateMatrixWorld(),ce.current.updateWorldMatrix(!0,!1);const Be=h?X.current:_(ce.current,B,U);if(h||Math.abs(N.current-B.zoom)>e||Math.abs(X.current[0]-Be[0])>e||Math.abs(X.current[1]-Be[1])>e){const he=b9(ce.current,B);let oe=!1;Ae&&(Array.isArray(d)?oe=d.map(Qe=>Qe.current):d!=="blending"&&(oe=[I]));const Se=ke.current;if(oe){const Qe=P9(ce.current,B,Z,oe);ke.current=Qe&&!he}else ke.current=!he;Se!==ke.current&&(p?p(!ke.current):Q.style.display=ke.current?"block":"none");const Ue=Math.floor(A[0]/2),be=d?Ae?[A[0],Ue]:[Ue-1,0]:A;if(Q.style.zIndex=`${R9(ce.current,B,be)}`,h){const[Qe,Ye]=[U.width/2,U.height/2],je=B.projectionMatrix.elements[5]*Ye,{isOrthographicCamera:wt,top:Mt,left:O,bottom:L,right:se}=B,we=I9(B.matrixWorldInverse),Ce=wt?`scale(${je})translate(${MA(-(se+O)/2)}px,${MA((Mt+L)/2)}px)`:`translateZ(${je}px)`;let Te=ce.current.matrixWorld;u&&(Te=B.matrixWorldInverse.clone().transpose().copyPosition(Te).scale(ce.current.scale),Te.elements[3]=Te.elements[7]=Te.elements[11]=0,Te.elements[15]=1),Q.style.width=U.width+"px",Q.style.height=U.height+"px",Q.style.perspective=wt?"":`${je}px`,j.current&&re.current&&(j.current.style.transform=`${Ce}${we}translate(${Qe}px,${Ye}px)`,re.current.style.transform=L9(Te,1/((l||10)/400)))}else{const Qe=l===void 0?1:B9(ce.current,B)*l;Q.style.transform=`translate3d(${Be[0]}px,${Be[1]}px,0) scale(${Qe})`}X.current=Be,N.current=B.zoom}}if(!Ae&&ee.current&&!ve.current)if(h){if(j.current){const Be=j.current.children[0];if(Be!=null&&Be.clientWidth&&Be!=null&&Be.clientHeight){const{isOrthographicCamera:he}=B;if(he||x)P.scale&&(Array.isArray(P.scale)?P.scale instanceof D?ee.current.scale.copy(P.scale.clone().divideScalar(1)):ee.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):ee.current.scale.setScalar(1/P.scale));else{const oe=(l||10)/400,Se=Be.clientWidth*oe,Ue=Be.clientHeight*oe;ee.current.scale.set(Se,Ue,1)}ve.current=!0}}}else{const Be=Q.children[0];if(Be!=null&&Be.clientWidth&&Be!=null&&Be.clientHeight){const he=1/H.factor,oe=Be.clientWidth*he,Se=Be.clientHeight*he;ee.current.scale.set(oe,Se,1),ve.current=!0}ee.current.lookAt(_e.camera.position)}});const He=z.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return z.createElement("group",ls({},P,{ref:ce}),d&&!Ae&&z.createElement("mesh",{castShadow:m,receiveShadow:v,ref:ee},x||z.createElement("planeGeometry",null),y||z.createElement("shaderMaterial",{side:Ir,vertexShader:He.vertexShader,fragmentShader:He.fragmentShader})))});let Yu=0;const N9=zR(n=>(mc.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-Yu)/(i-Yu)*100})},mc.onLoad=()=>{n({active:!1})},mc.onError=e=>n(t=>({errors:[...t.errors,e]})),mc.onProgress=(e,t,i)=>{t===i&&(Yu=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-Yu)/(i-Yu)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function ZE(n,e){if(e===OB)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===jm||e===Z1){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===jm)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const k9=parseInt(Qc.replace(/\D+/g,""));var O9=Object.defineProperty,U9=(n,e,t)=>e in n?O9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ot=(n,e,t)=>(U9(n,typeof e!="symbol"?e+"":e,t),t);const zp=new qc,qE=new Ps,z9=Math.cos(70*(Math.PI/180)),$E=(n,e)=>(n%e+e)%e;let G9=class extends cs{constructor(e,t){super(),ot(this,"object"),ot(this,"domElement"),ot(this,"enabled",!0),ot(this,"target",new D),ot(this,"minDistance",0),ot(this,"maxDistance",1/0),ot(this,"minZoom",0),ot(this,"maxZoom",1/0),ot(this,"minPolarAngle",0),ot(this,"maxPolarAngle",Math.PI),ot(this,"minAzimuthAngle",-1/0),ot(this,"maxAzimuthAngle",1/0),ot(this,"enableDamping",!1),ot(this,"dampingFactor",.05),ot(this,"enableZoom",!0),ot(this,"zoomSpeed",1),ot(this,"enableRotate",!0),ot(this,"rotateSpeed",1),ot(this,"enablePan",!0),ot(this,"panSpeed",1),ot(this,"screenSpacePanning",!0),ot(this,"keyPanSpeed",7),ot(this,"zoomToCursor",!1),ot(this,"autoRotate",!1),ot(this,"autoRotateSpeed",2),ot(this,"reverseOrbit",!1),ot(this,"reverseHorizontalOrbit",!1),ot(this,"reverseVerticalOrbit",!1),ot(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ot(this,"mouseButtons",{LEFT:Sa.ROTATE,MIDDLE:Sa.DOLLY,RIGHT:Sa.PAN}),ot(this,"touches",{ONE:Ca.ROTATE,TWO:Ca.DOLLY_PAN}),ot(this,"target0"),ot(this,"position0"),ot(this,"zoom0"),ot(this,"_domElementKeyEvents",null),ot(this,"getPolarAngle"),ot(this,"getAzimuthalAngle"),ot(this,"setPolarAngle"),ot(this,"setAzimuthalAngle"),ot(this,"getDistance"),ot(this,"listenToKeyEvents"),ot(this,"stopListenToKeyEvents"),ot(this,"saveState"),ot(this,"reset"),ot(this,"update"),ot(this,"connect"),ot(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=G=>{let ye=$E(G,2*Math.PI),Re=h.phi;Re<0&&(Re+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let et=Math.abs(ye-Re);2*Math.PI-et<et&&(ye<Re?ye+=2*Math.PI:Re+=2*Math.PI),d.phi=ye-Re,i.update()},this.setAzimuthalAngle=G=>{let ye=$E(G,2*Math.PI),Re=h.theta;Re<0&&(Re+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let et=Math.abs(ye-Re);2*Math.PI-et<et&&(ye<Re?ye+=2*Math.PI:Re+=2*Math.PI),d.theta=ye-Re,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=G=>{G.addEventListener("keydown",Te),this._domElementKeyEvents=G},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Te),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const G=new D,ye=new D(0,1,0),Re=new On().setFromUnitVectors(e.up,ye),et=Re.clone().invert(),V=new D,le=new On,xe=2*Math.PI;return function(){const Je=i.object.position;Re.setFromUnitVectors(e.up,ye),et.copy(Re).invert(),G.copy(Je).sub(i.target),G.applyQuaternion(Re),h.setFromVector3(G),i.autoRotate&&l===a.NONE&&H(Z()),i.enableDamping?(h.theta+=d.theta*i.dampingFactor,h.phi+=d.phi*i.dampingFactor):(h.theta+=d.theta,h.phi+=d.phi);let ct=i.minAzimuthAngle,Nt=i.maxAzimuthAngle;isFinite(ct)&&isFinite(Nt)&&(ct<-Math.PI?ct+=xe:ct>Math.PI&&(ct-=xe),Nt<-Math.PI?Nt+=xe:Nt>Math.PI&&(Nt-=xe),ct<=Nt?h.theta=Math.max(ct,Math.min(Nt,h.theta)):h.theta=h.theta>(ct+Nt)/2?Math.max(ct,h.theta):Math.min(Nt,h.theta)),h.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,h.phi)),h.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&B||i.object.isOrthographicCamera?h.radius=J(h.radius):h.radius=J(h.radius*p),G.setFromSpherical(h),G.applyQuaternion(et),Je.copy(i.target).add(G),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),m.set(0,0,0));let Kt=!1;if(i.zoomToCursor&&B){let jn=null;if(i.object instanceof Xt&&i.object.isPerspectiveCamera){const Bt=G.length();jn=J(Bt*p);const Un=Bt-jn;i.object.position.addScaledVector(R,Un),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Bt=new D(T.x,T.y,0);Bt.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),Kt=!0;const Un=new D(T.x,T.y,0);Un.unproject(i.object),i.object.position.sub(Un).add(Bt),i.object.updateMatrixWorld(),jn=G.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;jn!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(jn).add(i.object.position):(zp.origin.copy(i.object.position),zp.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(zp.direction))<z9?e.lookAt(i.target):(qE.setFromNormalAndCoplanarPoint(i.object.up,i.target),zp.intersectPlane(qE,i.target))))}else i.object instanceof dr&&i.object.isOrthographicCamera&&(Kt=p!==1,Kt&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,B=!1,Kt||V.distanceToSquared(i.object.position)>u||8*(1-le.dot(i.object.quaternion))>u?(i.dispatchEvent(r),V.copy(i.object.position),le.copy(i.object.quaternion),Kt=!1,!0):!1}})(),this.connect=G=>{G===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=G,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",me),i.domElement.addEventListener("pointerdown",Mt),i.domElement.addEventListener("pointercancel",L),i.domElement.addEventListener("wheel",Ce)},this.dispose=()=>{var G,ye,Re,et,V,le;i.domElement&&(i.domElement.style.touchAction="auto"),(G=i.domElement)==null||G.removeEventListener("contextmenu",me),(ye=i.domElement)==null||ye.removeEventListener("pointerdown",Mt),(Re=i.domElement)==null||Re.removeEventListener("pointercancel",L),(et=i.domElement)==null||et.removeEventListener("wheel",Ce),(V=i.domElement)==null||V.ownerDocument.removeEventListener("pointermove",O),(le=i.domElement)==null||le.ownerDocument.removeEventListener("pointerup",L),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Te)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,h=new vA,d=new vA;let p=1;const m=new D,v=new pe,y=new pe,x=new pe,A=new pe,_=new pe,M=new pe,S=new pe,E=new pe,P=new pe,R=new D,T=new pe;let B=!1;const I=[],U={};function Z(){return 2*Math.PI/60/60*i.autoRotateSpeed}function W(){return Math.pow(.95,i.zoomSpeed)}function H(G){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=G:d.theta-=G}function Q(G){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=G:d.phi-=G}const ie=(()=>{const G=new D;return function(Re,et){G.setFromMatrixColumn(et,0),G.multiplyScalar(-Re),m.add(G)}})(),ce=(()=>{const G=new D;return function(Re,et){i.screenSpacePanning===!0?G.setFromMatrixColumn(et,1):(G.setFromMatrixColumn(et,0),G.crossVectors(i.object.up,G)),G.multiplyScalar(Re),m.add(G)}})(),N=(()=>{const G=new D;return function(Re,et){const V=i.domElement;if(V&&i.object instanceof Xt&&i.object.isPerspectiveCamera){const le=i.object.position;G.copy(le).sub(i.target);let xe=G.length();xe*=Math.tan(i.object.fov/2*Math.PI/180),ie(2*Re*xe/V.clientHeight,i.object.matrix),ce(2*et*xe/V.clientHeight,i.object.matrix)}else V&&i.object instanceof dr&&i.object.isOrthographicCamera?(ie(Re*(i.object.right-i.object.left)/i.object.zoom/V.clientWidth,i.object.matrix),ce(et*(i.object.top-i.object.bottom)/i.object.zoom/V.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function X(G){i.object instanceof Xt&&i.object.isPerspectiveCamera||i.object instanceof dr&&i.object.isOrthographicCamera?p/=G:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function j(G){i.object instanceof Xt&&i.object.isPerspectiveCamera||i.object instanceof dr&&i.object.isOrthographicCamera?p*=G:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function re(G){if(!i.zoomToCursor||!i.domElement)return;B=!0;const ye=i.domElement.getBoundingClientRect(),Re=G.clientX-ye.left,et=G.clientY-ye.top,V=ye.width,le=ye.height;T.x=Re/V*2-1,T.y=-(et/le)*2+1,R.set(T.x,T.y,1).unproject(i.object).sub(i.object.position).normalize()}function J(G){return Math.max(i.minDistance,Math.min(i.maxDistance,G))}function ee(G){v.set(G.clientX,G.clientY)}function ve(G){re(G),S.set(G.clientX,G.clientY)}function Ae(G){A.set(G.clientX,G.clientY)}function $(G){y.set(G.clientX,G.clientY),x.subVectors(y,v).multiplyScalar(i.rotateSpeed);const ye=i.domElement;ye&&(H(2*Math.PI*x.x/ye.clientHeight),Q(2*Math.PI*x.y/ye.clientHeight)),v.copy(y),i.update()}function Ne(G){E.set(G.clientX,G.clientY),P.subVectors(E,S),P.y>0?X(W()):P.y<0&&j(W()),S.copy(E),i.update()}function ke(G){_.set(G.clientX,G.clientY),M.subVectors(_,A).multiplyScalar(i.panSpeed),N(M.x,M.y),A.copy(_),i.update()}function He(G){re(G),G.deltaY<0?j(W()):G.deltaY>0&&X(W()),i.update()}function _e(G){let ye=!1;switch(G.code){case i.keys.UP:N(0,i.keyPanSpeed),ye=!0;break;case i.keys.BOTTOM:N(0,-i.keyPanSpeed),ye=!0;break;case i.keys.LEFT:N(i.keyPanSpeed,0),ye=!0;break;case i.keys.RIGHT:N(-i.keyPanSpeed,0),ye=!0;break}ye&&(G.preventDefault(),i.update())}function Be(){if(I.length==1)v.set(I[0].pageX,I[0].pageY);else{const G=.5*(I[0].pageX+I[1].pageX),ye=.5*(I[0].pageY+I[1].pageY);v.set(G,ye)}}function he(){if(I.length==1)A.set(I[0].pageX,I[0].pageY);else{const G=.5*(I[0].pageX+I[1].pageX),ye=.5*(I[0].pageY+I[1].pageY);A.set(G,ye)}}function oe(){const G=I[0].pageX-I[1].pageX,ye=I[0].pageY-I[1].pageY,Re=Math.sqrt(G*G+ye*ye);S.set(0,Re)}function Se(){i.enableZoom&&oe(),i.enablePan&&he()}function Ue(){i.enableZoom&&oe(),i.enableRotate&&Be()}function be(G){if(I.length==1)y.set(G.pageX,G.pageY);else{const Re=qe(G),et=.5*(G.pageX+Re.x),V=.5*(G.pageY+Re.y);y.set(et,V)}x.subVectors(y,v).multiplyScalar(i.rotateSpeed);const ye=i.domElement;ye&&(H(2*Math.PI*x.x/ye.clientHeight),Q(2*Math.PI*x.y/ye.clientHeight)),v.copy(y)}function Qe(G){if(I.length==1)_.set(G.pageX,G.pageY);else{const ye=qe(G),Re=.5*(G.pageX+ye.x),et=.5*(G.pageY+ye.y);_.set(Re,et)}M.subVectors(_,A).multiplyScalar(i.panSpeed),N(M.x,M.y),A.copy(_)}function Ye(G){const ye=qe(G),Re=G.pageX-ye.x,et=G.pageY-ye.y,V=Math.sqrt(Re*Re+et*et);E.set(0,V),P.set(0,Math.pow(E.y/S.y,i.zoomSpeed)),X(P.y),S.copy(E)}function je(G){i.enableZoom&&Ye(G),i.enablePan&&Qe(G)}function wt(G){i.enableZoom&&Ye(G),i.enableRotate&&be(G)}function Mt(G){var ye,Re;i.enabled!==!1&&(I.length===0&&((ye=i.domElement)==null||ye.ownerDocument.addEventListener("pointermove",O),(Re=i.domElement)==null||Re.ownerDocument.addEventListener("pointerup",L)),Ze(G),G.pointerType==="touch"?it(G):se(G))}function O(G){i.enabled!==!1&&(G.pointerType==="touch"?De(G):we(G))}function L(G){var ye,Re,et;nt(G),I.length===0&&((ye=i.domElement)==null||ye.releasePointerCapture(G.pointerId),(Re=i.domElement)==null||Re.ownerDocument.removeEventListener("pointermove",O),(et=i.domElement)==null||et.ownerDocument.removeEventListener("pointerup",L)),i.dispatchEvent(o),l=a.NONE}function se(G){let ye;switch(G.button){case 0:ye=i.mouseButtons.LEFT;break;case 1:ye=i.mouseButtons.MIDDLE;break;case 2:ye=i.mouseButtons.RIGHT;break;default:ye=-1}switch(ye){case Sa.DOLLY:if(i.enableZoom===!1)return;ve(G),l=a.DOLLY;break;case Sa.ROTATE:if(G.ctrlKey||G.metaKey||G.shiftKey){if(i.enablePan===!1)return;Ae(G),l=a.PAN}else{if(i.enableRotate===!1)return;ee(G),l=a.ROTATE}break;case Sa.PAN:if(G.ctrlKey||G.metaKey||G.shiftKey){if(i.enableRotate===!1)return;ee(G),l=a.ROTATE}else{if(i.enablePan===!1)return;Ae(G),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function we(G){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;$(G);break;case a.DOLLY:if(i.enableZoom===!1)return;Ne(G);break;case a.PAN:if(i.enablePan===!1)return;ke(G);break}}function Ce(G){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(G.preventDefault(),i.dispatchEvent(s),He(G),i.dispatchEvent(o))}function Te(G){i.enabled===!1||i.enablePan===!1||_e(G)}function it(G){switch(We(G),I.length){case 1:switch(i.touches.ONE){case Ca.ROTATE:if(i.enableRotate===!1)return;Be(),l=a.TOUCH_ROTATE;break;case Ca.PAN:if(i.enablePan===!1)return;he(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Ca.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Se(),l=a.TOUCH_DOLLY_PAN;break;case Ca.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ue(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function De(G){switch(We(G),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;be(G),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;Qe(G),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;je(G),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;wt(G),i.update();break;default:l=a.NONE}}function me(G){i.enabled!==!1&&G.preventDefault()}function Ze(G){I.push(G)}function nt(G){delete U[G.pointerId];for(let ye=0;ye<I.length;ye++)if(I[ye].pointerId==G.pointerId){I.splice(ye,1);return}}function We(G){let ye=U[G.pointerId];ye===void 0&&(ye=new pe,U[G.pointerId]=ye),ye.set(G.pageX,G.pageY)}function qe(G){const ye=G.pointerId===I[0].pointerId?I[1]:I[0];return U[ye.pointerId]}t!==void 0&&this.connect(t),this.update()}};function Qm(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Ga="srgb",zs="srgb-linear",eT=3001,H9=3e3;class U_ extends mi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new X9(t)}),this.register(function(t){return new Y9(t)}),this.register(function(t){return new iV(t)}),this.register(function(t){return new rV(t)}),this.register(function(t){return new sV(t)}),this.register(function(t){return new Q9(t)}),this.register(function(t){return new Z9(t)}),this.register(function(t){return new q9(t)}),this.register(function(t){return new $9(t)}),this.register(function(t){return new J9(t)}),this.register(function(t){return new eV(t)}),this.register(function(t){return new K9(t)}),this.register(function(t){return new nV(t)}),this.register(function(t){return new tV(t)}),this.register(function(t){return new W9(t)}),this.register(function(t){return new oV(t)}),this.register(function(t){return new aV(t)})}load(e,t,i,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=Lo.extractUrlBase(e);o=Lo.resolveURL(u,this.path)}else o=Lo.extractUrlBase(e);this.manager.itemStart(e);const a=function(u){r?r(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Vi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(h){t(h),s.manager.itemEnd(e)},a)}catch(h){a(h)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Qm(new Uint8Array(e.slice(0,4)))===u3){try{o[At.KHR_BINARY_GLTF]=new lV(e)}catch(h){r&&r(h);return}s=JSON.parse(o[At.KHR_BINARY_GLTF].content)}else s=JSON.parse(Qm(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new _V(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const h=this.pluginCallbacks[u](l);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const h=s.extensionsUsed[u],d=s.extensionsRequired||[];switch(h){case At.KHR_MATERIALS_UNLIT:o[h]=new j9;break;case At.KHR_DRACO_MESH_COMPRESSION:o[h]=new cV(s,this.dracoLoader);break;case At.KHR_TEXTURE_TRANSFORM:o[h]=new uV;break;case At.KHR_MESH_QUANTIZATION:o[h]=new fV;break;default:d.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function V9(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const At={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class W9{constructor(e){this.parser=e,this.name=At.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const h=new Le(16777215);l.color!==void 0&&h.setRGB(l.color[0],l.color[1],l.color[2],zs);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new B_(h),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new P_(h),u.distance=d;break;case"spot":u=new b_(h),u.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Ts(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(u),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class j9{constructor(){this.name=At.KHR_MATERIALS_UNLIT}getMaterialType(){return Oi}extendParams(e,t,i){const r=[];e.color=new Le(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],zs),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,Ga))}return Promise.all(r)}}class J9{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class X9{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new pe(a,a)}return Promise.all(s)}}class Y9{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vr}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class K9{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Q9{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Le(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],zs)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Ga)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Z9{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class q9{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Le().setRGB(a[0],a[1],a[2],zs),Promise.all(s)}}class $9{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vr}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class eV{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Le().setRGB(a[0],a[1],a[2],zs),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,Ga)),Promise.all(s)}}class tV{constructor(e){this.parser=e,this.name=At.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class nV{constructor(e){this.parser=e,this.name=At.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:vr}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class iV{constructor(e){this.parser=e,this.name=At.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class rV{constructor(e){this.parser=e,this.name=At.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class sV{constructor(e){this.parser=e,this.name=At.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class oV{constructor(e){this.name=At.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,u=r.byteLength||0,h=r.count,d=r.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,d,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(h*d);return o.decodeGltfBuffer(new Uint8Array(m),h,d,p,r.mode,r.filter),m})})}else return null}}class aV{constructor(e){this.name=At.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const u of r.primitives)if(u.mode!==ar.TRIANGLES&&u.mode!==ar.TRIANGLE_STRIP&&u.mode!==ar.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(h=>(l[u]=h,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const h=u.pop(),d=h.isGroup?h.children:[h],p=u[0].count,m=[];for(const v of d){const y=new st,x=new D,A=new On,_=new D(1,1,1),M=new h_(v.geometry,v.material,p);for(let S=0;S<p;S++)l.TRANSLATION&&x.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&A.fromBufferAttribute(l.ROTATION,S),l.SCALE&&_.fromBufferAttribute(l.SCALE,S),M.setMatrixAt(S,y.compose(x,A,_));for(const S in l)if(S==="_COLOR_0"){const E=l[S];M.instanceColor=new sl(E.array,E.itemSize,E.normalized)}else S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&v.geometry.setAttribute(S,l[S]);Tt.prototype.copy.call(M,v),this.parser.assignFinalMaterial(M),m.push(M)}return h.isGroup?(h.clear(),h.add(...m),h):m[0]}))}}const u3="glTF",Ku=12,tT={JSON:1313821514,BIN:5130562};class lV{constructor(e){this.name=At.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Ku);if(this.header={magic:Qm(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==u3)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Ku,r=new DataView(e,Ku);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===tT.JSON){const l=new Uint8Array(e,Ku+s,o);this.content=Qm(l)}else if(a===tT.BIN){const l=Ku+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class cV{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=At.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const h in o){const d=SA[h]||h.toLowerCase();a[d]=o[h]}for(const h in e.attributes){const d=SA[h]||h.toLowerCase();if(o[h]!==void 0){const p=i.accessors[e.attributes[h]],m=bc[p.componentType];u[d]=m.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(h){return new Promise(function(d,p){r.decodeDracoFile(h,function(m){for(const v in m.attributes){const y=m.attributes[v],x=l[v];x!==void 0&&(y.normalized=x)}d(m)},a,u,zs,p)})})}}class uV{constructor(){this.name=At.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class fV{constructor(){this.name=At.KHR_MESH_QUANTIZATION}}class f3 extends ru{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,h=r-t,d=(i-t)/h,p=d*d,m=p*d,v=e*u,y=v-u,x=-2*m+3*p,A=m-p,_=1-x,M=A-p+d;for(let S=0;S!==a;S++){const E=o[y+S+a],P=o[y+S+l]*h,R=o[v+S+a],T=o[v+S]*h;s[S]=_*E+M*P+x*R+A*T}return s}}const hV=new On;class dV extends f3{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return hV.fromArray(s).normalize().toArray(s),s}}const ar={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},bc={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},nT={9728:dn,9729:nn,9984:jf,9985:Tg,9986:Ec,9987:os},iT={33071:Hn,33648:kc,10497:Uo},xv={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},SA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...k9>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},fo={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},pV={CUBICSPLINE:void 0,LINEAR:rl,STEP:Uc},Av={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function mV(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Rh({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ss})),n.DefaultMaterial}function xa(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Ts(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function gV(n,e,t){let i=!1,r=!1,s=!1;for(let u=0,h=e.length;u<h;u++){const d=e[u];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,h=e.length;u<h;u++){const d=e[u];if(i){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(r){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const h=u[0],d=u[1],p=u[2];return i&&(n.morphAttributes.position=h),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function yV(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function vV(n){let e;const t=n.extensions&&n.extensions[At.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+_v(t.attributes):e=n.indices+":"+_v(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+_v(n.targets[i]);return e}function _v(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function CA(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function xV(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const AV=new st;class _V{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new V9,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new Ih(this.options.manager):this.textureLoader=new DR(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Vi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return xa(s,a,r),Ts(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,h]of o.children.entries())s(h,a.children[u])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[At.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Lo.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=xv[r.type],a=bc[r.componentType],l=r.normalized===!0,u=new a(r.count*o);return Promise.resolve(new Ft(u,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=xv[r.type],u=bc[r.componentType],h=u.BYTES_PER_ELEMENT,d=h*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let y,x;if(m&&m!==d){const A=Math.floor(p/m),_="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+A+":"+r.count;let M=t.cache.get(_);M||(y=new u(a,A*m,r.count*m/h),M=new gh(y,m/h),t.cache.add(_,M)),x=new Go(M,l,p%m/h,v)}else a===null?y=new u(r.count*l):y=new u(a,p,r.count*l),x=new Ft(y,l,v);if(r.sparse!==void 0){const A=xv.SCALAR,_=bc[r.sparse.indices.componentType],M=r.sparse.indices.byteOffset||0,S=r.sparse.values.byteOffset||0,E=new _(o[1],M,r.sparse.count*A),P=new u(o[2],S,r.sparse.count*l);a!==null&&(x=new Ft(x.array.slice(),x.itemSize,x.normalized));for(let R=0,T=E.length;R<T;R++){const B=E[R];if(x.setX(B,P[R*l]),l>=2&&x.setY(B,P[R*l+1]),l>=3&&x.setZ(B,P[R*l+2]),l>=4&&x.setW(B,P[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,i).then(function(h){h.flipY=!1,h.name=o.name||a.name||"",h.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(h.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return h.magFilter=nT[p.magFilter]||nn,h.minFilter=nT[p.minFilter]||os,h.wrapS=iT[p.wrapS]||Uo,h.wrapT=iT[p.wrapT]||Uo,r.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){u=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(y){const x=new jt(y);x.needsUpdate=!0,p(x)}),t.load(Lo.resolveURL(d,s.path),v,void 0,m)})}).then(function(d){return u===!0&&a.revokeObjectURL(l),Ts(d,o),d.userData.mimeType=o.mimeType||xV(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=h,h}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[At.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[At.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[At.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===eT?Ga:zs),"colorSpace"in o?o.colorSpace=r:o.encoding=r===Ga?eT:H9),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new vh,Mn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new ni,Mn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return Rh}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[At.KHR_MATERIALS_UNLIT]){const d=r[At.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),u.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new Le(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],zs),a.opacity=p[3]}d.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",d.baseColorTexture,Ga)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Ir);const h=s.alphaMode||Av.OPAQUE;if(h===Av.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===Av.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Oi&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new pe(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}if(s.occlusionTexture!==void 0&&o!==Oi&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Oi){const d=s.emissiveFactor;a.emissive=new Le().setRGB(d[0],d[1],d[2],zs)}return s.emissiveTexture!==void 0&&o!==Oi&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Ga)),Promise.all(u).then(function(){const d=new o(a);return s.name&&(d.name=s.name),Ts(d,s),t.associations.set(d,{materials:e}),s.extensions&&xa(r,d,s),d})}createUniqueName(e){const t=Pt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[At.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return rT(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],h=vV(u),d=r[h];if(d)o.push(d.promise);else{let p;u.extensions&&u.extensions[At.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=rT(new ht,u,t),r[h]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const h=o[l].material===void 0?mV(this.cache):this.getDependency("material",o[l].material);a.push(h)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),h=l[l.length-1],d=[];for(let m=0,v=h.length;m<v;m++){const y=h[m],x=o[m];let A;const _=u[m];if(x.mode===ar.TRIANGLES||x.mode===ar.TRIANGLE_STRIP||x.mode===ar.TRIANGLE_FAN||x.mode===void 0)A=s.isSkinnedMesh===!0?new f_(y,_):new bn(y,_),A.isSkinnedMesh===!0&&A.normalizeSkinWeights(),x.mode===ar.TRIANGLE_STRIP?A.geometry=ZE(A.geometry,Z1):x.mode===ar.TRIANGLE_FAN&&(A.geometry=ZE(A.geometry,jm));else if(x.mode===ar.LINES)A=new zr(y,_);else if(x.mode===ar.LINE_STRIP)A=new Ys(y,_);else if(x.mode===ar.LINE_LOOP)A=new d_(y,_);else if(x.mode===ar.POINTS)A=new p_(y,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(A.geometry.morphAttributes).length>0&&yV(A,s),A.name=t.createUniqueName(s.name||"mesh_"+e),Ts(A,s),x.extensions&&xa(r,A,x),t.assignFinalMaterial(A),d.push(A)}for(let m=0,v=d.length;m<v;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&xa(r,d[0],s),d[0];const p=new Ns;s.extensions&&xa(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=d.length;m<v;m++)p.add(d[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Xt($1.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new dr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Ts(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let u=0,h=o.length;u<h;u++){const d=o[u];if(d){a.push(d);const p=new st;s!==null&&p.fromArray(s.array,u*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new yh(a,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],u=[],h=[];for(let d=0,p=r.channels.length;d<p;d++){const m=r.channels[d],v=r.samplers[m.sampler],y=m.target,x=y.node,A=r.parameters!==void 0?r.parameters[v.input]:v.input,_=r.parameters!==void 0?r.parameters[v.output]:v.output;y.node!==void 0&&(o.push(this.getDependency("node",x)),a.push(this.getDependency("accessor",A)),l.push(this.getDependency("accessor",_)),u.push(v),h.push(y))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(h)]).then(function(d){const p=d[0],m=d[1],v=d[2],y=d[3],x=d[4],A=[];for(let _=0,M=p.length;_<M;_++){const S=p[_],E=m[_],P=v[_],R=y[_],T=x[_];if(S===void 0)continue;S.updateMatrix&&S.updateMatrix();const B=i._createAnimationTracks(S,E,P,R,T);if(B)for(let I=0;I<B.length;I++)A.push(B[I])}return new Hc(s,void 0,A)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=r.weights.length;l<u;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let u=0,h=a.length;u<h;u++)o.push(i.getDependency("node",a[u]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const h=u[0],d=u[1],p=u[2];p!==null&&h.traverse(function(m){m.isSkinnedMesh&&m.bind(p,AV)});for(let m=0,v=d.length;m<v;m++)h.add(d[m]);return h})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(u){return r._getNodeRef(r.cameraCache,s.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let h;if(s.isBone===!0?h=new Dg:u.length>1?h=new Ns:u.length===1?h=u[0]:h=new Tt,h!==u[0])for(let d=0,p=u.length;d<p;d++)h.add(u[d]);if(s.name&&(h.userData.name=s.name,h.name=o),Ts(h,s),s.extensions&&xa(i,h,s),s.matrix!==void 0){const d=new st;d.fromArray(s.matrix),h.applyMatrix4(d)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);return r.associations.has(h)||r.associations.set(h,{}),r.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Ns;i.name&&(s.name=r.createUniqueName(i.name)),Ts(s,i),i.extensions&&xa(t,s,i);const o=i.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let h=0,d=l.length;h<d;h++)s.add(l[h]);const u=h=>{const d=new Map;for(const[p,m]of r.associations)(p instanceof Mn||p instanceof jt)&&d.set(p,m);return h.traverse(p=>{const m=r.associations.get(p);m!=null&&d.set(p,m)}),d};return r.associations=u(s),s})}_createAnimationTracks(e,t,i,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];fo[s.path]===fo.weights?e.traverse(function(p){p.morphTargetInfluences&&l.push(p.name?p.name:p.uuid)}):l.push(a);let u;switch(fo[s.path]){case fo.weights:u=al;break;case fo.rotation:u=Ho;break;case fo.position:case fo.scale:u=ll;break;default:switch(i.itemSize){case 1:u=al;break;case 2:case 3:default:u=ll;break}break}const h=r.interpolation!==void 0?pV[r.interpolation]:rl,d=this._getArrayFromAccessor(i);for(let p=0,m=l.length;p<m;p++){const v=new u(l[p]+"."+fo[s.path],t.array,d,h);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(v),o.push(v)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=CA(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof Ho?dV:f3;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function wV(n,e,t){const i=e.attributes,r=new Ko;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(r.set(new D(l[0],l[1],l[2]),new D(u[0],u[1],u[2])),a.normalized){const h=CA(bc[a.componentType]);r.min.multiplyScalar(h),r.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new D,l=new D;for(let u=0,h=s.length;u<h;u++){const d=s[u];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const y=CA(bc[p.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new Qo;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function rT(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=SA[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Ts(n,e),wV(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?gV(n,e.targets,t):n})}class MV extends ht{constructor(e,t,i,r){super();const s=[],o=[],a=[],l=new D,u=new st;u.makeRotationFromEuler(i),u.setPosition(t);const h=new st;h.copy(u).invert(),d(),this.setAttribute("position",new Ve(s,3)),this.setAttribute("normal",new Ve(o,3)),this.setAttribute("uv",new Ve(a,2));function d(){let y,x=[];const A=new D,_=new D;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const M=e.geometry,S=M.attributes.position,E=M.attributes.normal;if(M.index!==null){const P=M.index;for(y=0;y<P.count;y++)A.fromBufferAttribute(S,P.getX(y)),_.fromBufferAttribute(E,P.getX(y)),p(x,A,_)}else for(y=0;y<S.count;y++)A.fromBufferAttribute(S,y),_.fromBufferAttribute(E,y),p(x,A,_);for(x=m(x,l.set(1,0,0)),x=m(x,l.set(-1,0,0)),x=m(x,l.set(0,1,0)),x=m(x,l.set(0,-1,0)),x=m(x,l.set(0,0,1)),x=m(x,l.set(0,0,-1)),y=0;y<x.length;y++){const P=x[y];a.push(.5+P.position.x/r.x,.5+P.position.y/r.y),P.position.applyMatrix4(u),s.push(P.position.x,P.position.y,P.position.z),o.push(P.normal.x,P.normal.y,P.normal.z)}}function p(y,x,A){x.applyMatrix4(e.matrixWorld),x.applyMatrix4(h),A.transformDirection(e.matrixWorld),y.push(new sT(x.clone(),A.clone()))}function m(y,x){const A=[],_=.5*Math.abs(r.dot(x));for(let M=0;M<y.length;M+=3){let S,E,P,R=0,T,B,I,U;const Z=y[M+0].position.dot(x)-_,W=y[M+1].position.dot(x)-_,H=y[M+2].position.dot(x)-_;switch(S=Z>0,E=W>0,P=H>0,R=(S?1:0)+(E?1:0)+(P?1:0),R){case 0:{A.push(y[M]),A.push(y[M+1]),A.push(y[M+2]);break}case 1:{if(S&&(T=y[M+1],B=y[M+2],I=v(y[M],T,x,_),U=v(y[M],B,x,_)),E){T=y[M],B=y[M+2],I=v(y[M+1],T,x,_),U=v(y[M+1],B,x,_),A.push(I),A.push(B.clone()),A.push(T.clone()),A.push(B.clone()),A.push(I.clone()),A.push(U);break}P&&(T=y[M],B=y[M+1],I=v(y[M+2],T,x,_),U=v(y[M+2],B,x,_)),A.push(T.clone()),A.push(B.clone()),A.push(I),A.push(U),A.push(I.clone()),A.push(B.clone());break}case 2:{S||(T=y[M].clone(),B=v(T,y[M+1],x,_),I=v(T,y[M+2],x,_),A.push(T),A.push(B),A.push(I)),E||(T=y[M+1].clone(),B=v(T,y[M+2],x,_),I=v(T,y[M],x,_),A.push(T),A.push(B),A.push(I)),P||(T=y[M+2].clone(),B=v(T,y[M],x,_),I=v(T,y[M+1],x,_),A.push(T),A.push(B),A.push(I));break}}}return A}function v(y,x,A,_){const M=y.position.dot(A)-_,S=x.position.dot(A)-_,E=M/(M-S);return new sT(new D(y.position.x+E*(x.position.x-y.position.x),y.position.y+E*(x.position.y-y.position.y),y.position.z+E*(x.position.z-y.position.z)),new D(y.normal.x+E*(x.normal.x-y.normal.x),y.normal.y+E*(x.normal.y-y.normal.y),y.normal.z+E*(x.normal.z-y.normal.z)))}}}class sT{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const wv=new WeakMap;class SV extends mi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Vi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const i=JSON.stringify(t);if(wv.has(e)){const l=wv.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((u,h)=>{r._callbacks[s]={resolve:u,reject:h},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),wv.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new ht;e.index&&t.setIndex(new Ft(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Ft(o,a))}return t}_loadLibrary(e,t){const i=new Vi(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=CV.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function CV(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(h){n.onModuleLoaded=function(d){h({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(h=>{const d=h.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(d,p,m,u),y=v.attributes.map(x=>x.array.buffer);v.index&&y.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},y)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{d.destroy(m),d.destroy(p)}});break}};function t(o,a,l,u){const h=u.attributeIDs,d=u.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const y={index:null,attributes:[]};for(const x in h){const A=self[d[x]];let _,M;if(u.useUniqueIDs)M=h[x],_=a.GetAttributeByUniqueId(p,M);else{if(M=a.GetAttributeId(p,o[h[x]]),M===-1)continue;_=a.GetAttribute(p,M)}y.attributes.push(r(o,a,p,x,A,_))}return v===o.TRIANGULAR_MESH&&(y.index=i(o,a,p)),o.destroy(p),y}function i(o,a,l){const h=l.num_faces()*3,d=h*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,h).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,u,h,d){const p=d.num_components(),v=l.num_points()*p,y=v*h.BYTES_PER_ELEMENT,x=s(o,h),A=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,d,x,y,A);const _=new h(o.HEAPF32.buffer,A,v).slice();return o._free(A),{name:u,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Gp;const Mv=()=>{if(Gp)return Gp;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let v=0;v<d.length;++v){const y=d.charCodeAt(v);p[v]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let m=0;for(let v=0;v<d.length;++v)p[m++]=p[v]<60?i[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(d,p,m,v,y,x){const A=s.exports.sbrk,_=m+3&-4,M=A(_*v),S=A(y.length),E=new Uint8Array(s.exports.memory.buffer);E.set(y,S);const P=d(M,m,v,S,y.length);if(P===0&&x&&x(M,_,v),p.set(E.subarray(M,M+m*v)),A(M-A(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Gp={ready:o,supported:!0,decodeVertexBuffer(d,p,m,v,y){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,v,s.exports[u[y]])},decodeIndexBuffer(d,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,v)},decodeIndexSequence(d,p,m,v){l(s.exports.meshopt_decodeIndexSequence,d,p,m,v)},decodeGltfBuffer(d,p,m,v,y,x){l(s.exports[h[y]],d,p,m,v,s.exports[u[x]])}},Gp},Sv=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function z_(n,e){const t=Ni(s=>s.gl),i=$o(Ih,Sv(n)?Object.values(n):n);return z.useLayoutEffect(()=>{e==null||e(i)},[e]),z.useEffect(()=>{if("initTexture"in t){let s=[];Array.isArray(i)?s=i:i instanceof jt?s=[i]:Sv(i)&&(s=Object.values(i)),s.forEach(o=>{o instanceof jt&&t.initTexture(o)})}},[t,i]),z.useMemo(()=>{if(Sv(n)){const s={};let o=0;for(const a in n)s[a]=i[o++];return s}else return i},[n,i])}z_.preload=n=>$o.preload(Ih,n);z_.clear=n=>$o.clear(Ih,n);const EV=()=>parseInt(Qc.replace(/\D+/g,"")),h3=EV();function TV(n){return Array.isArray(n)}function Cv(n=[0,0,0]){return TV(n)?n:n instanceof D||n instanceof hl?[n.x,n.y,n.z]:[n,n,n]}const bV=z.forwardRef(function({debug:e,depthTest:t=!1,polygonOffsetFactor:i=-10,map:r,mesh:s,children:o,position:a,rotation:l,scale:u,...h},d){const p=z.useRef(null);z.useImperativeHandle(d,()=>p.current);const m=z.useRef(null);return z.useLayoutEffect(()=>{const v=(s==null?void 0:s.current)||p.current.parent,y=p.current;if(!(v instanceof bn))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const x={position:new D,rotation:new hl,scale:new D(1,1,1)};if(v){$r(x,{position:a,scale:u});const A=v.matrixWorld.clone();if(v.matrixWorld.identity(),!l||typeof l=="number"){const _=new Tt;_.position.copy(x.position),_.lookAt(v.position),typeof l=="number"&&_.rotateZ(l),$r(x,{rotation:_.rotation})}else $r(x,{rotation:l});return y.geometry=new MV(v,x.position,x.rotation,x.scale),m.current&&($r(m.current,x),m.current.traverse(_=>_.raycast=()=>null)),v.matrixWorld=A,()=>{y.geometry.dispose()}}},[s,...Cv(a),...Cv(u),...Cv(l)]),z.createElement("mesh",ls({ref:p,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":i,"material-depthTest":t,"material-map":r},h),o,e&&z.createElement("mesh",{ref:m},z.createElement("boxGeometry",null),z.createElement("meshNormalMaterial",{wireframe:!0}),z.createElement("axesHelper",null)))});let Hp=null,d3="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function p3(n,e,t){return i=>{t&&t(i),n&&(Hp||(Hp=new SV),Hp.setDecoderPath(typeof n=="string"?n:d3),i.setDRACOLoader(Hp)),e&&i.setMeshoptDecoder(typeof Mv=="function"?Mv():Mv)}}function Fh(n,e=!0,t=!0,i){return $o(U_,n,p3(e,t,i))}Fh.preload=(n,e=!0,t=!0,i)=>$o.preload(U_,n,p3(e,t,i));Fh.clear=n=>$o.clear(U_,n);Fh.setDecoderPath=n=>{d3=n};const G_=z.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},h)=>{const d=Ni(P=>P.invalidate),p=Ni(P=>P.camera),m=Ni(P=>P.gl),v=Ni(P=>P.events),y=Ni(P=>P.setEvents),x=Ni(P=>P.set),A=Ni(P=>P.get),_=Ni(P=>P.performance),M=e||p,S=i||v.connected||m.domElement,E=z.useMemo(()=>new G9(M),[M]);return su(()=>{E.enabled&&E.update()},-1),z.useEffect(()=>(s&&E.connect(s===!0?S:s),E.connect(S),()=>void E.dispose()),[s,S,t,E,d]),z.useEffect(()=>{const P=B=>{d(),t&&_.regress(),o&&o(B)},R=B=>{a&&a(B)},T=B=>{l&&l(B)};return E.addEventListener("change",P),E.addEventListener("start",R),E.addEventListener("end",T),()=>{E.removeEventListener("start",R),E.removeEventListener("end",T),E.removeEventListener("change",P)}},[o,a,l,E,d,y]),z.useEffect(()=>{if(n){const P=A().controls;return x({controls:E}),()=>x({controls:P})}},[n,E]),z.createElement("primitive",ls({ref:h,object:E,enableDamping:r},u))});var m3={exports:{}},PV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",BV=PV,RV=BV;function g3(){}function y3(){}y3.resetWarningCache=g3;var IV=function(){function n(i,r,s,o,a,l){if(l!==RV){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:y3,resetWarningCache:g3};return t.PropTypes=t,t};m3.exports=IV();var v3=m3.exports;const Ev=h3>=154?"opaque_fragment":"output_fragment";class LV extends vh{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:r}=i.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${Ev}>`,`
        ${r?`#include <${Ev}>`:`#extension GL_OES_standard_derivatives : enable
#include <${Ev}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${h3>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const DV=z.forwardRef((n,e)=>{const[t]=z.useState(()=>new LV(null));return z.createElement("primitive",ls({},n,{object:t,ref:e,attach:"material"}))}),FV=z.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:r=1,floatingRange:s=[-.1,.1],autoInvalidate:o=!1,...a},l)=>{const u=z.useRef(null);z.useImperativeHandle(l,()=>u.current,[]);const h=z.useRef(Math.random()*1e4);return su(d=>{var p,m;if(!e||t===0)return;o&&d.invalidate();const v=h.current+d.clock.getElapsedTime();u.current.rotation.x=Math.cos(v/4*t)/8*i,u.current.rotation.y=Math.sin(v/4*t)/8*i,u.current.rotation.z=Math.sin(v/4*t)/20*i;let y=Math.sin(v/4*t)/10;y=$1.mapLinear(y,-.1,.1,(p=s==null?void 0:s[0])!==null&&p!==void 0?p:-.1,(m=s==null?void 0:s[1])!==null&&m!==void 0?m:.1),u.current.position.y=y*r,u.current.updateMatrix()}),z.createElement("group",a,z.createElement("group",{ref:u,matrixAutoUpdate:!1},n))});let Aa,Qu;const NV=z.createContext(null),oT=new st,aT=new D,kV=z.forwardRef(({children:n,range:e,limit:t=1e3,...i},r)=>{const s=z.useRef(null);z.useImperativeHandle(r,()=>s.current,[]);const[o,a]=z.useState([]),[[l,u,h]]=z.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);z.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),su(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),oT.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),Aa=0;Aa<o.length;Aa++)Qu=o[Aa].current,Qu.getWorldPosition(aT).applyMatrix4(oT),aT.toArray(l,Aa*3),s.current.geometry.attributes.position.needsUpdate=!0,Qu.matrixWorldNeedsUpdate=!0,Qu.color.toArray(u,Aa*3),s.current.geometry.attributes.color.needsUpdate=!0,h.set([Qu.size],Aa),s.current.geometry.attributes.size.needsUpdate=!0});const d=z.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(v=>v.current!==p.current)))}),[]);return z.createElement("points",ls({userData:{instances:o},matrixAutoUpdate:!1,ref:s,raycast:()=>null},i),z.createElement("bufferGeometry",null,z.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:Xa}),z.createElement("bufferAttribute",{attach:"attributes-color",count:u.length/3,array:u,itemSize:3,usage:Xa}),z.createElement("bufferAttribute",{attach:"attributes-size",count:h.length,array:h,itemSize:1,usage:Xa})),z.createElement(NV.Provider,{value:d},n))}),OV=z.forwardRef(({children:n,positions:e,colors:t,sizes:i,stride:r=3,...s},o)=>{const a=z.useRef(null);return z.useImperativeHandle(o,()=>a.current,[]),su(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),z.createElement("points",ls({ref:a},s),z.createElement("bufferGeometry",null,z.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:Xa}),t&&z.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:Xa}),i&&z.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:Xa})),n)}),UV=z.forwardRef((n,e)=>n.positions instanceof Float32Array?z.createElement(OV,ls({},n,{ref:e})):z.createElement(kV,ls({},n,{ref:e})));function Gg({all:n,scene:e,camera:t}){const i=Ni(({gl:o})=>o),r=Ni(({camera:o})=>o),s=Ni(({scene:o})=>o);return z.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(u=>{u.visible===!1&&(o.push(u),u.visible=!0)}),i.compile(e||s,t||r);const a=new s_(128);new r_(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(u=>u.visible=!1)},[]),null}const H_=()=>{const{progress:n}=N9();return lt(F9,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[fe("span",{className:"canvas-loader"}),lt("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})]})},zV=()=>{const n=Fh("./planet/scene.gltf");return fe("primitive",{object:n.scene,scale:2.5,"position-y":0,"rotation-y":0})},GV=()=>fe(zg,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:lt(z.Suspense,{fallback:fe(H_,{}),children:[fe(G_,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),fe(zV,{}),fe(Gg,{all:!0})]})}),HV=n=>{const[e]=z_([n.imgUrl]);return lt(FV,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[fe("ambientLight",{intensity:.25}),fe("directionalLight",{position:[0,0,.05]}),lt("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[fe("icosahedronGeometry",{args:[1,1]}),fe("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),fe(bV,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:e,flatShading:!0})]})]})},VV=({icon:n})=>lt(zg,{frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[lt(z.Suspense,{fallback:fe(H_,{}),children:[fe(G_,{enableZoom:!1}),fe(HV,{imgUrl:n})]}),fe(Gg,{all:!0})]}),WV=({isMobile:n})=>{const e=Fh("./desktop_pc/scene.gltf");return lt("mesh",{children:[fe("hemisphereLight",{intensity:.15,groundColor:"black"}),fe("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),fe("pointLight",{intensity:1}),fe("primitive",{object:e.scene,scale:n?.7:.75,position:n?[0,-3,-2.2]:[0,-3.25,-1.5],rotation:[-.01,-.2,-.1]})]})},jV=()=>{const[n,e]=z.useState(!1);return z.useEffect(()=>{const t=window.matchMedia("(max-width: 500px)");e(t.matches);const i=r=>{e(r.matches)};return t.addEventListener("change",i),()=>{t.removeEventListener("change",i)}},[]),lt(zg,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[lt(z.Suspense,{fallback:fe(H_,{}),children:[fe(G_,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),fe(WV,{isMobile:n})]}),fe(Gg,{all:!0})]})};function Pc(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function cT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(t),!0).forEach(function(i){Pc(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function x3(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}new pe;new pe;var sr=function n(e,t,i){var r=this;x3(this,n),Pc(this,"dot2",function(s,o){return r.x*s+r.y*o}),Pc(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},JV=[new sr(1,1,0),new sr(-1,1,0),new sr(1,-1,0),new sr(-1,-1,0),new sr(1,0,1),new sr(-1,0,1),new sr(1,0,-1),new sr(-1,0,-1),new sr(0,1,1),new sr(0,-1,1),new sr(0,1,-1),new sr(0,-1,-1)],uT=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],fT=new Array(512),hT=new Array(512),XV=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=uT[t]^e&255:i=uT[t]^e>>8&255,fT[t]=fT[t+256]=i,hT[t]=hT[t+256]=JV[i%12]}};XV(0);function YV(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function dT(n){var e=YV(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var KV=function n(e){var t=this;x3(this,n),Pc(this,"seed",0),Pc(this,"init",function(i){t.seed=i,t.value=dT(i)}),Pc(this,"value",dT(this.seed)),this.init(e)},QV=new KV(Math.random()),ZV={radius:1,center:[0,0,0]};function qV(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:QV,i=cT(cT({},ZV),e),r=i.radius,s=i.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,u=t.value()*2-1,h=t.value()*2-1,d=Math.sqrt(l*l+u*u+h*h);l=a*l/d,u=a*u/d,h=a*h/d,n[o]=l*r+s[0],n[o+1]=u*r+s[1],n[o+2]=h*r+s[2]}return n}const $V=n=>{const e=z.useRef(),[t]=z.useState(()=>qV(new Float32Array(5e3),{radius:1.2}));return su((i,r)=>{e.current.rotation.x-=r/10,e.current.rotation.y-=r/15}),fe("group",{rotation:[0,0,Math.PI/4],children:fe(UV,{ref:e,positions:t,stride:3,frustumCulled:!0,...n,children:fe(DV,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},e8=()=>fe("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:lt(zg,{camera:{position:[0,0,1]},children:[fe(z.Suspense,{fallback:null,children:fe($V,{})}),fe(Gg,{all:!0})]})}),A3=z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Hg=z.createContext({});function t8(){return z.useContext(Hg).visualElement}const V_=z.createContext(null),Vg=typeof document<"u",pT=Vg?z.useLayoutEffect:z.useEffect,_3=z.createContext({strict:!1});function n8(n,e,t,i){const r=t8(),s=z.useContext(_3),o=z.useContext(V_),a=z.useContext(A3).reducedMotion,l=z.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return z.useInsertionEffect(()=>{u&&u.update(t,o)}),pT(()=>{u&&u.render()}),z.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?pT:z.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function yc(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function i8(n,e,t){return z.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):yc(t)&&(t.current=i))},[e])}function th(n){return typeof n=="string"||Array.isArray(n)}function Wg(n){return typeof n=="object"&&typeof n.start=="function"}const W_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],j_=["initial",...W_];function jg(n){return Wg(n.animate)||j_.some(e=>th(n[e]))}function w3(n){return!!(jg(n)||n.variants)}function r8(n,e){if(jg(n)){const{initial:t,animate:i}=n;return{initial:t===!1||th(t)?t:void 0,animate:th(i)?i:void 0}}return n.inherit!==!1?e:{}}function s8(n){const{initial:e,animate:t}=r8(n,z.useContext(Hg));return z.useMemo(()=>({initial:e,animate:t}),[mT(e),mT(t)])}function mT(n){return Array.isArray(n)?n.join(" "):n}const gT={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nh={};for(const n in gT)nh[n]={isEnabled:e=>gT[n].some(t=>!!e[t])};function o8(n){for(const e in n)nh[e]={...nh[e],...n[e]}}function M3(n){const e=z.useRef(null);return e.current===null&&(e.current=n()),e.current}const xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let a8=1;function l8(){return M3(()=>{if(xf.hasEverUpdated)return a8++})}const S3=z.createContext({}),C3=z.createContext({}),c8=Symbol.for("motionComponentSymbol");function u8({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&o8(n);function s(a,l){let u;const h={...z.useContext(A3),...a,layoutId:f8(a)},{isStatic:d}=h,p=s8(a),m=d?void 0:l8(),v=i(a,d);if(!d&&Vg){p.visualElement=n8(r,v,h,e);const y=z.useContext(C3),x=z.useContext(_3).strict;p.visualElement&&(u=p.visualElement.loadFeatures(h,x,n,m,y))}return z.createElement(Hg.Provider,{value:p},u&&p.visualElement?z.createElement(u,{visualElement:p.visualElement,...h}):null,t(r,a,m,i8(v,p.visualElement,l),v,d,p.visualElement))}const o=z.forwardRef(s);return o[c8]=r,o}function f8({layoutId:n}){const e=z.useContext(S3).id;return e&&n!==void 0?e+"-"+n:n}function h8(n){function e(i,r={}){return u8(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const d8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function J_(n){return typeof n!="string"||n.includes("-")?!1:!!(d8.indexOf(n)>-1||/[A-Z]/.test(n))}const Zm={};function p8(n){Object.assign(Zm,n)}const Jg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yl=new Set(Jg);function E3(n,{layout:e,layoutId:t}){return yl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Zm[n]||n==="opacity")}const bi=n=>!!(n&&n.getVelocity),m8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g8=Jg.length;function y8(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<g8;o++){const a=Jg[o];if(n[a]!==void 0){const l=m8[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const T3=n=>e=>typeof e=="string"&&e.startsWith(n),b3=T3("--"),EA=T3("var(--"),v8=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Wc=(n,e,t)=>Math.min(Math.max(t,n),e),vl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Af={...vl,transform:n=>Wc(0,1,n)},Vp={...vl,default:1},_f=n=>Math.round(n*1e5)/1e5,ih=/(-)?([\d]*\.?[\d])+/g,TA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,x8=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Nh(n){return typeof n=="string"}const kh=n=>({test:e=>Nh(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),mo=kh("deg"),rs=kh("%"),rt=kh("px"),A8=kh("vh"),_8=kh("vw"),yT={...rs,parse:n=>rs.parse(n)/100,transform:n=>rs.transform(n*100)},vT={...vl,transform:Math.round},P3={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,size:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,rotate:mo,rotateX:mo,rotateY:mo,rotateZ:mo,scale:Vp,scaleX:Vp,scaleY:Vp,scaleZ:Vp,skew:mo,skewX:mo,skewY:mo,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:Af,originX:yT,originY:yT,originZ:rt,zIndex:vT,fillOpacity:Af,strokeOpacity:Af,numOctaves:vT};function X_(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,u=!1,h=!0;for(const d in e){const p=e[d];if(b3(d)){s[d]=p;continue}const m=P3[d],v=v8(p,m);if(yl.has(d)){if(l=!0,o[d]=v,!h)continue;p!==(m.default||0)&&(h=!1)}else d.startsWith("origin")?(u=!0,a[d]=v):r[d]=v}if(e.transform||(l||i?r.transform=y8(n.transform,t,h,i):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const Y_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function B3(n,e,t){for(const i in e)!bi(e[i])&&!E3(i,t)&&(n[i]=e[i])}function w8({transformTemplate:n},e,t){return z.useMemo(()=>{const i=Y_();return X_(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function M8(n,e,t){const i=n.style||{},r={};return B3(r,i,n),Object.assign(r,w8(n,e,t)),n.transformValues?n.transformValues(r):r}function S8(n,e,t){const i={},r=M8(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const C8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function qm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||C8.has(n)}let R3=n=>!qm(n);function E8(n){n&&(R3=e=>e.startsWith("on")?!qm(e):n(e))}try{E8(require("@emotion/is-prop-valid").default)}catch{}function T8(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(R3(r)||t===!0&&qm(r)||!e&&!qm(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function xT(n,e,t){return typeof n=="string"?n:rt.transform(e+t*n)}function b8(n,e,t){const i=xT(e,n.x,n.width),r=xT(t,n.y,n.height);return`${i} ${r}`}const P8={offset:"stroke-dashoffset",array:"stroke-dasharray"},B8={offset:"strokeDashoffset",array:"strokeDasharray"};function R8(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?P8:B8;n[s.offset]=rt.transform(-i);const o=rt.transform(e),a=rt.transform(t);n[s.array]=`${o} ${a}`}function K_(n,{attrX:e,attrY:t,originX:i,originY:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,h,d){if(X_(n,l,u,d),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:v}=n;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(i!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=b8(v,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&R8(p,s,o,a,!1)}const I3=()=>({...Y_(),attrs:{}}),Q_=n=>typeof n=="string"&&n.toLowerCase()==="svg";function I8(n,e,t,i){const r=z.useMemo(()=>{const s=I3();return K_(s,e,{enableHardwareAcceleration:!1},Q_(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};B3(s,n.style,n),r.style={...s,...r.style}}return r}function L8(n=!1){return(t,i,r,s,{latestValues:o},a)=>{const u=(J_(t)?I8:S8)(i,o,a,t),d={...T8(i,typeof t=="string",n),...u,ref:s},{children:p}=i,m=z.useMemo(()=>bi(p)?p.get():p,[p]);return r&&(d["data-projection-id"]=r),z.createElement(t,{...d,children:m})}}const Z_=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function L3(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const D3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function F3(n,e,t,i){L3(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(D3.has(r)?r:Z_(r),e.attrs[r])}function q_(n,e){const{style:t}=n,i={};for(const r in t)(bi(t[r])||e.style&&bi(e.style[r])||E3(r,n))&&(i[r]=t[r]);return i}function N3(n,e){const t=q_(n,e);for(const i in n)if(bi(n[i])||bi(e[i])){const r=i==="x"||i==="y"?"attr"+i.toUpperCase():i;t[r]=n[i]}return t}function $_(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}const $m=n=>Array.isArray(n),D8=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),F8=n=>$m(n)?n[n.length-1]||0:n;function gm(n){const e=bi(n)?n.get():n;return D8(e)?e.toValue():e}function N8({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:k8(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const k3=n=>(e,t)=>{const i=z.useContext(Hg),r=z.useContext(V_),s=()=>N8(n,e,i,r);return t?s():M3(s)};function k8(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=gm(s[p]);let{initial:o,animate:a}=n;const l=jg(n),u=w3(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!Wg(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const v=$_(n,m);if(!v)return;const{transitionEnd:y,transition:x,...A}=v;for(const _ in A){let M=A[_];if(Array.isArray(M)){const S=h?M.length-1:0;M=M[S]}M!==null&&(r[_]=M)}for(const _ in y)r[_]=y[_]}),r}const O8={useVisualState:k3({scrapeMotionValuesFromProps:N3,createRenderState:I3,onMount:(n,e,{renderState:t,latestValues:i})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}K_(t,i,{enableHardwareAcceleration:!1},Q_(e.tagName),n.transformTemplate),F3(e,t)}})},U8={useVisualState:k3({scrapeMotionValuesFromProps:q_,createRenderState:Y_})};function z8(n,{forwardMotionProps:e=!1},t,i){return{...J_(n)?O8:U8,preloadedFeatures:t,useRender:L8(e),createVisualElement:i,Component:n}}function ks(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const O3=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Xg(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const G8=n=>e=>O3(e)&&n(e,Xg(e));function Gs(n,e,t,i){return ks(n,e,G8(t),i)}const H8=(n,e)=>t=>e(n(t)),Do=(...n)=>n.reduce(H8);function U3(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const AT=U3("dragHorizontal"),_T=U3("dragVertical");function z3(n){let e=!1;if(n==="y")e=_T();else if(n==="x")e=AT();else{const t=AT(),i=_T();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function G3(){const n=z3(!0);return n?(n(),!1):!0}class ea{constructor(e){this.isMounted=!1,this.node=e}update(){}}function wT(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||G3())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&a[i](s,o)};return Gs(n.current,t,r,{passive:!n.getProps()[i]})}class V8 extends ea{mount(){this.unmount=Do(wT(this.node,!0),wT(this.node,!1))}unmount(){}}class W8 extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Do(ks(this.node.current,"focus",()=>this.onFocus()),ks(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const H3=(n,e)=>e?n===e?!0:H3(n,e.parentElement):!1,mr=n=>n;function Tv(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Xg(t))}class j8 extends ea{constructor(){super(...arguments),this.removeStartListeners=mr,this.removeEndListeners=mr,this.removeAccessibleListeners=mr,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=Gs(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h}=this.node.getProps();H3(this.node.current,a.target)?u&&u(a,l):h&&h(a,l)},{passive:!(i.onTap||i.onPointerUp)}),o=Gs(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Do(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Tv("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=ks(this.node.current,"keyup",o),Tv("down",(a,l)=>{this.startPress(a,l)})},t=ks(this.node.current,"keydown",e),i=()=>{this.isPressing&&Tv("cancel",(s,o)=>this.cancelPress(s,o))},r=ks(this.node.current,"blur",i);this.removeAccessibleListeners=Do(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&i(e,t)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!G3()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&i(e,t)}mount(){const e=this.node.getProps(),t=Gs(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=ks(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Do(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const bA=new WeakMap,bv=new WeakMap,J8=n=>{const e=bA.get(n.target);e&&e(n)},X8=n=>{n.forEach(J8)};function Y8({root:n,...e}){const t=n||document;bv.has(t)||bv.set(t,{});const i=bv.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(X8,{root:n,...e})),i[r]}function K8(n,e,t){const i=Y8(e);return bA.set(n,t),i.observe(n),()=>{bA.delete(n),i.unobserve(n)}}const Q8={some:0,all:1};class Z8 extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}viewportFallback(){requestAnimationFrame(()=>{this.hasEnteredView=!0;const{onViewportEnter:e}=this.node.getProps();e&&e(null),this.node.animationState&&this.node.animationState.setActive("whileInView",!0)})}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s,fallback:o=!0}=e;if(typeof IntersectionObserver>"u"){o&&this.viewportFallback();return}const a={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Q8[r]},l=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),m=h?d:p;m&&m(u)};return K8(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(q8(e,t))&&this.startObserver()}unmount(){}}function q8({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const $8={inView:{Feature:Z8},tap:{Feature:j8},focus:{Feature:W8},hover:{Feature:V8}};function V3(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const e6=n=>/^\-?\d*\.?\d+$/.test(n),t6=n=>/^0[^.\s]+$/.test(n),Hs={delta:0,timestamp:0},W3=1/60*1e3,n6=typeof performance<"u"?()=>performance.now():()=>Date.now(),j3=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(n6()),W3);function i6(n){let e=[],t=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,h=!1)=>{const d=h&&r,p=d?e:t;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),d&&r&&(i=e.length)),l},cancel:l=>{const u=t.indexOf(l);u!==-1&&t.splice(u,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,i=e.length,i)for(let u=0;u<i;u++){const h=e[u];h(l),o.has(h)&&(a.schedule(h),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const r6=40;let PA=!0,rh=!1,BA=!1;const Oh=["read","update","preRender","render","postRender"],Yg=Oh.reduce((n,e)=>(n[e]=i6(()=>rh=!0),n),{}),hi=Oh.reduce((n,e)=>{const t=Yg[e];return n[e]=(i,r=!1,s=!1)=>(rh||o6(),t.schedule(i,r,s)),n},{}),Vo=Oh.reduce((n,e)=>(n[e]=Yg[e].cancel,n),{}),Pv=Oh.reduce((n,e)=>(n[e]=()=>Yg[e].process(Hs),n),{}),s6=n=>Yg[n].process(Hs),J3=n=>{rh=!1,Hs.delta=PA?W3:Math.max(Math.min(n-Hs.timestamp,r6),1),Hs.timestamp=n,BA=!0,Oh.forEach(s6),BA=!1,rh&&(PA=!1,j3(J3))},o6=()=>{rh=!0,PA=!0,BA||j3(J3)};function ew(n,e){n.indexOf(e)===-1&&n.push(e)}function tw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class nw{constructor(){this.subscriptions=[]}add(e){return ew(this.subscriptions,e),()=>tw(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function iw(n,e){return e?n*(1e3/e):0}const a6=n=>!isNaN(parseFloat(n));class l6{constructor(e,t={}){this.version="9.1.7",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=Hs;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,hi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>hi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=a6(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new nw);const i=this.events[e].add(t);return e==="change"?()=>{i(),hi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?iw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jc(n,e){return new l6(n,e)}const rw=(n,e)=>t=>!!(Nh(t)&&x8.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),X3=(n,e,t)=>i=>{if(!Nh(i))return i;const[r,s,o,a]=i.match(ih);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},c6=n=>Wc(0,255,n),Bv={...vl,transform:n=>Math.round(c6(n))},Ha={test:rw("rgb","red"),parse:X3("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Bv.transform(n)+", "+Bv.transform(e)+", "+Bv.transform(t)+", "+_f(Af.transform(i))+")"};function u6(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const RA={test:rw("#"),parse:u6,transform:Ha.transform},vc={test:rw("hsl","hue"),parse:X3("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+rs.transform(_f(e))+", "+rs.transform(_f(t))+", "+_f(Af.transform(i))+")"},li={test:n=>Ha.test(n)||RA.test(n)||vc.test(n),parse:n=>Ha.test(n)?Ha.parse(n):vc.test(n)?vc.parse(n):RA.parse(n),transform:n=>Nh(n)?n:n.hasOwnProperty("red")?Ha.transform(n):vc.transform(n)},Y3="${c}",K3="${n}";function f6(n){var e,t;return isNaN(n)&&Nh(n)&&(((e=n.match(ih))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(TA))===null||t===void 0?void 0:t.length)||0)>0}function eg(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0,i=0;const r=n.match(TA);r&&(t=r.length,n=n.replace(TA,Y3),e.push(...r.map(li.parse)));const s=n.match(ih);return s&&(i=s.length,n=n.replace(ih,K3),e.push(...s.map(vl.parse))),{values:e,numColors:t,numNumbers:i,tokenised:n}}function Q3(n){return eg(n).values}function Z3(n){const{values:e,numColors:t,tokenised:i}=eg(n),r=e.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<t?Y3:K3,a<t?li.transform(s[a]):_f(s[a]));return o}}const h6=n=>typeof n=="number"?0:n;function d6(n){const e=Q3(n);return Z3(n)(e.map(h6))}const Wo={test:f6,parse:Q3,createTransformer:Z3,getAnimatableNone:d6},p6=new Set(["brightness","contrast","saturate","opacity"]);function m6(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(ih)||[];if(!i)return n;const r=t.replace(i,"");let s=p6.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const g6=/([a-z-]*)\(.*?\)/g,IA={...Wo,getAnimatableNone:n=>{const e=n.match(g6);return e?e.map(m6).join(" "):n}},y6={...P3,color:li,backgroundColor:li,outlineColor:li,fill:li,stroke:li,borderColor:li,borderTopColor:li,borderRightColor:li,borderBottomColor:li,borderLeftColor:li,filter:IA,WebkitFilter:IA},sw=n=>y6[n];function ow(n,e){let t=sw(n);return t!==IA&&(t=Wo),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const q3=n=>e=>e.test(n),v6={test:n=>n==="auto",parse:n=>n},$3=[vl,rt,rs,mo,_8,A8,v6],Zu=n=>$3.find(q3(n)),x6=[...$3,li,Wo],A6=n=>x6.find(q3(n));function _6(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function w6(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function Kg(n,e,t){const i=n.getProps();return $_(i,e,t!==void 0?t:i.custom,_6(n),w6(n))}function M6(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,jc(t))}function S6(n,e){const t=Kg(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=F8(s[o]);M6(n,o,a)}}function C6(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let h=null;Array.isArray(u)&&(h=u[0]),h===null&&(h=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),h!=null&&(typeof h=="string"&&(e6(h)||t6(h))?h=parseFloat(h):!A6(h)&&Wo.test(u)&&(h=ow(l,u)),n.addValue(l,jc(h,{owner:n})),t[l]===void 0&&(t[l]=h),h!==null&&n.setBaseTarget(l,h))}}function E6(n,e){return e?(e[n]||e.default||e).from:void 0}function T6(n,e,t){const i={};for(const r in n){const s=E6(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function tg(n){return!!(bi(n)&&n.add)}const b6="framerAppearId",P6="data-"+Z_(b6);let B6=mr,ng=mr;const ym=n=>n*1e3,R6={current:!1},aw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,lw=n=>e=>1-n(1-e),cw=n=>n*n,I6=lw(cw),uw=aw(cw),sn=(n,e,t)=>-t*n+t*e+n;function Rv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function L6({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=Rv(l,a,n+1/3),s=Rv(l,a,n),o=Rv(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const Iv=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},D6=[RA,Ha,vc],F6=n=>D6.find(e=>e.test(n));function MT(n){const e=F6(n);let t=e.parse(n);return e===vc&&(t=L6(t)),t}const eI=(n,e)=>{const t=MT(n),i=MT(e),r={...t};return s=>(r.red=Iv(t.red,i.red,s),r.green=Iv(t.green,i.green,s),r.blue=Iv(t.blue,i.blue,s),r.alpha=sn(t.alpha,i.alpha,s),Ha.transform(r))};function tI(n,e){return typeof n=="number"?t=>sn(n,e,t):li.test(n)?eI(n,e):iI(n,e)}const nI=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>tI(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},N6=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=tI(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},iI=(n,e)=>{const t=Wo.createTransformer(e),i=eg(n),r=eg(e);return i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Do(nI(i.values,r.values),t):o=>`${o>0?e:n}`},sh=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},ST=(n,e)=>t=>sn(n,e,t);function k6(n){return typeof n=="number"?ST:typeof n=="string"?li.test(n)?eI:iI:Array.isArray(n)?nI:typeof n=="object"?N6:ST}function O6(n,e,t){const i=[],r=t||k6(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=Do(l,a)}i.push(a)}return i}function rI(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;ng(s===e.length),ng(!i||!Array.isArray(i)||i.length===s-1),n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=O6(e,i,r),a=o.length,l=u=>{let h=0;if(a>1)for(;h<n.length-2&&!(u<n[h+1]);h++);const d=sh(n[h],n[h+1],u);return o[h](d)};return t?u=>l(Wc(n[0],n[s-1],u)):l}function U6(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=sh(0,e,i);n.push(sn(t,1,r))}}function z6(n){const e=[0];return U6(e,n.length-1),e}function G6(n,e){return n.map(t=>t*e)}const sI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,H6=1e-7,V6=12;function W6(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=sI(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>H6&&++a<V6);return o}function oI(n,e,t,i){if(n===e&&t===i)return mr;const r=s=>W6(s,0,1,n,t);return s=>s===0||s===1?s:sI(r(s),e,i)}const aI=n=>1-Math.sin(Math.acos(n)),fw=lw(aI),j6=aw(fw),lI=oI(.33,1.53,.69,.99),hw=lw(lI),J6=aw(hw),X6=n=>(n*=2)<1?.5*hw(n):.5*(2-Math.pow(2,-10*(n-1))),Y6={linear:mr,easeIn:cw,easeInOut:uw,easeOut:I6,circIn:aI,circInOut:j6,circOut:fw,backIn:hw,backInOut:J6,backOut:lI,anticipate:X6},CT=n=>{if(Array.isArray(n)){ng(n.length===4);const[e,t,i,r]=n;return oI(e,t,i,r)}else if(typeof n=="string")return Y6[n];return n},K6=n=>Array.isArray(n)&&typeof n[0]!="number";function Q6(n,e){return n.map(()=>e||uw).splice(0,n.length-1)}function LA({keyframes:n,ease:e=uw,times:t,duration:i=300}){n=[...n];const r=K6(e)?e.map(CT):CT(e),s={done:!1,value:n[0]},o=G6(t&&t.length===n.length?t:z6(n),i);function a(){return rI(o,n,{ease:Array.isArray(r)?r:Q6(n,r)})}let l=a();return{next:u=>(s.value=l(u),s.done=u>=i,s),flipTarget:()=>{n.reverse(),l=a()}}}const Lv=.001,Z6=.01,ET=10,q6=.05,$6=1;function eW({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;B6(n<=ET*1e3);let o=1-e;o=Wc(q6,$6,o),n=Wc(Z6,ET,n/1e3),o<1?(r=u=>{const h=u*o,d=h*n,p=h-t,m=DA(u,o),v=Math.exp(-d);return Lv-p/m*v},s=u=>{const d=u*o*n,p=d*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,v=Math.exp(-d),y=DA(Math.pow(u,2),o);return(-r(u)+Lv>0?-1:1)*((p-m)*v)/y}):(r=u=>{const h=Math.exp(-u*n),d=(u-t)*n+1;return-Lv+h*d},s=u=>{const h=Math.exp(-u*n),d=(t-u)*(n*n);return h*d});const a=5/n,l=nW(r,s,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:n}}}const tW=12;function nW(n,e,t){let i=t;for(let r=1;r<tW;r++)i=i-n(i)/e(i);return i}function DA(n,e){return n*Math.sqrt(1-e*e)}const iW=["duration","bounce"],rW=["stiffness","damping","mass"];function TT(n,e){return e.some(t=>n[t]!==void 0)}function sW(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!TT(n,rW)&&TT(n,iW)){const t=eW(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const oW=5;function cI({keyframes:n,restDelta:e,restSpeed:t,...i}){let r=n[0],s=n[n.length-1];const o={done:!1,value:r},{stiffness:a,damping:l,mass:u,velocity:h,duration:d,isResolvedFromDuration:p}=sW(i);let m=aW,v=h?-(h/1e3):0;const y=l/(2*Math.sqrt(a*u));function x(){const A=s-r,_=Math.sqrt(a/u)/1e3,M=Math.abs(A)<5;if(t||(t=M?.01:2),e||(e=M?.005:.5),y<1){const S=DA(_,y);m=E=>{const P=Math.exp(-y*_*E);return s-P*((v+y*_*A)/S*Math.sin(S*E)+A*Math.cos(S*E))}}else if(y===1)m=S=>s-Math.exp(-_*S)*(A+(v+_*A)*S);else{const S=_*Math.sqrt(y*y-1);m=E=>{const P=Math.exp(-y*_*E),R=Math.min(S*E,300);return s-P*((v+y*_*A)*Math.sinh(R)+S*A*Math.cosh(R))/S}}}return x(),{next:A=>{const _=m(A);if(p)o.done=A>=d;else{let M=v;if(A!==0)if(y<1){const P=Math.max(0,A-oW);M=iw(_-m(P),A-P)}else M=0;const S=Math.abs(M)<=t,E=Math.abs(s-_)<=e;o.done=S&&E}return o.value=o.done?s:_,o},flipTarget:()=>{v=-v,[r,s]=[s,r],x()}}}cI.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const aW=n=>0;function lW({keyframes:n=[0],velocity:e=0,power:t=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const o=n[0],a={done:!1,value:o};let l=t*e;const u=o+l,h=s===void 0?u:s(u);return h!==u&&(l=h-o),{next:d=>{const p=-l*Math.exp(-d/i);return a.done=!(p>r||p<-r),a.value=a.done?h:h+p,a},flipTarget:()=>{}}}const cW={decay:lW,keyframes:LA,tween:LA,spring:cI};function uI(n,e,t=0){return n-e-t}function uW(n,e=0,t=0,i=!0){return i?uI(e+-n,e,t):e-(n-e)+t}function fW(n,e,t,i){return i?n>=e+t:n<=-t}const hW=n=>{const e=({delta:t})=>n(t);return{start:()=>hi.update(e,!0),stop:()=>Vo.update(e)}};function ig({duration:n,driver:e=hW,elapsed:t=0,repeat:i=0,repeatType:r="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:u,onComplete:h,onRepeat:d,onUpdate:p,type:m="keyframes",...v}){const y=t;let x,A=0,_=n,M=!1,S=!0,E;const P=cW[o.length>2?"keyframes":m]||LA,R=o[0],T=o[o.length-1];let B={done:!1,value:R};const{needsInterpolation:I}=P;I&&I(R,T)&&(E=rI([0,100],[R,T],{clamp:!1}),o=[0,100]);const U=P({...v,duration:n,keyframes:o});function Z(){A++,r==="reverse"?(S=A%2===0,t=uW(t,_,s,S)):(t=uI(t,_,s),r==="mirror"&&U.flipTarget()),M=!1,d&&d()}function W(){x&&x.stop(),h&&h()}function H(ie){S||(ie=-ie),t+=ie,M||(B=U.next(Math.max(0,t)),E&&(B.value=E(B.value)),M=S?B.done:t<=0),p&&p(B.value),M&&(A===0&&(_=_!==void 0?_:t),A<i?fW(t,_,s,S)&&Z():W())}function Q(){l&&l(),x=e(H),x.start()}return a&&Q(),{stop:()=>{u&&u(),x&&x.stop()},set currentTime(ie){t=y,H(ie)},sample:ie=>{t=y;const ce=n&&typeof n=="number"?Math.max(n*.5,50):50;let N=0;for(H(0);N<=ie;){const X=ie-N;H(Math.min(X,ce)),N+=ce}return B}}}function dW(n){return!n||Array.isArray(n)||typeof n=="string"&&fI[n]}const sf=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,fI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sf([0,.65,.55,1]),circOut:sf([.55,0,1,.45]),backIn:sf([.31,.01,.66,-.59]),backOut:sf([.33,1.53,.69,.99])};function pW(n){if(n)return Array.isArray(n)?sf(n):fI[n]}function mW(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return n.animate({[e]:t,offset:l},{delay:i,duration:r,easing:pW(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const bT={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},Dv={},hI={};for(const n in bT)hI[n]=()=>(Dv[n]===void 0&&(Dv[n]=bT[n]()),Dv[n]);function gW(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const yW=new Set(["opacity","clipPath","filter","transform"]),Wp=10;function vW(n,e,{onUpdate:t,onComplete:i,...r}){if(!(hI.waapi()&&yW.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:u}=r;if(r.type==="spring"||!dW(r.ease)){if(r.repeat===1/0)return;const d=ig({...r,elapsed:0});let p={done:!1,value:o[0]};const m=[];let v=0;for(;!p.done&&v<2e4;)p=d.sample(v),m.push(p.value),v+=Wp;o=m,a=v-Wp,u="linear"}const h=mW(n.owner.current,e,o,{...r,delay:-l,duration:a,ease:u});return h.onfinish=()=>{n.set(gW(o,r)),hi.update(()=>h.cancel()),i&&i()},{get currentTime(){return h.currentTime||0},set currentTime(d){h.currentTime=d},stop:()=>{const{currentTime:d}=h;if(d){const p=ig({...r,autoplay:!1});n.setWithVelocity(p.sample(d-Wp).value,p.sample(d).value,Wp)}hi.update(()=>h.cancel())}}}function dI(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Vo.read(i),n(s-e))};return hi.read(i,!0),()=>Vo.read(i)}function xW({keyframes:n,elapsed:e,onUpdate:t,onComplete:i}){const r=()=>{t&&t(n[n.length-1]),i&&i()};return e?{stop:dI(r,-e)}:r()}function AW({keyframes:n,velocity:e=0,min:t,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:h,onUpdate:d,onComplete:p,onStop:m}){const v=n[0];let y;function x(S){return t!==void 0&&S<t||i!==void 0&&S>i}function A(S){return t===void 0?i:i===void 0||Math.abs(t-S)<Math.abs(i-S)?t:i}function _(S){y&&y.stop(),y=ig({keyframes:[0,1],velocity:0,...S,driver:h,onUpdate:E=>{d&&d(E),S.onUpdate&&S.onUpdate(E)},onComplete:p,onStop:m})}function M(S){_({type:"spring",stiffness:o,damping:a,restDelta:l,...S})}if(x(v))M({velocity:e,keyframes:[v,A(v)]});else{let S=r*e+v;typeof u<"u"&&(S=u(S));const E=A(S),P=E===t?-1:1;let R,T;const B=I=>{R=T,T=I,e=iw(I-R,Hs.delta),(P===1&&I>E||P===-1&&I<E)&&M({keyframes:[I,E],velocity:e})};_({type:"decay",keyframes:[v,0],velocity:e,timeConstant:s,power:r,restDelta:l,modifyTarget:u,onUpdate:x(S)?B:void 0})}return{stop:()=>y&&y.stop()}}const _W={type:"spring",stiffness:500,damping:25,restSpeed:10},wW=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),MW={type:"keyframes",duration:.8},SW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CW=(n,{keyframes:e})=>e.length>2?MW:yl.has(n)?n.startsWith("scale")?wW(e[1]):_W:SW,FA=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Wo.test(e)&&!e.startsWith("url("));function EW({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}function PT(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function BT(n){return typeof n=="number"?0:ow("",n)}function pI(n,e){return n[e]||n.default||n}function TW(n,e,t,i){const r=FA(e,t);let s=i.from!==void 0?i.from:n.get();return s==="none"&&r&&typeof t=="string"?s=ow(e,t):PT(s)&&typeof t=="string"?s=BT(t):!Array.isArray(t)&&PT(t)&&typeof s=="string"&&(t=BT(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const dw=(n,e,t,i={})=>r=>{const s=pI(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-ym(o);const l=TW(e,n,t,s),u=l[0],h=l[l.length-1],d=FA(n,u),p=FA(n,h);let m={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!d||!p||R6.current||s.type===!1)return xW(m);if(s.type==="inertia")return AW(m);if(EW(s)||(m={...m,...CW(n,m)}),m.duration&&(m.duration=ym(m.duration)),m.repeatDelay&&(m.repeatDelay=ym(m.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=vW(e,n,m);if(v)return v}return ig(m)};function bW(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>NA(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=NA(n,e,t);else{const r=typeof e=="function"?Kg(n,e,t.custom):e;i=mI(n,r,t)}return i.then(()=>n.notify("AnimationComplete",e))}function NA(n,e,t={}){const i=Kg(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>mI(n,i,t):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:d}=r;return PW(n,e,u+l,h,d,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(u)}else return Promise.all([s(),o(t.delay)])}function mI(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const u=[],h=r&&n.animationState&&n.animationState.getState()[r];for(const d in a){const p=n.getValue(d),m=a[d];if(!p||m===void 0||h&&RW(h,d))continue;const v={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const x=n.getProps()[P6];x&&(v.elapsed=window.HandoffAppearAnimations(x,d,p,hi))}let y=p.start(dw(d,p,m,n.shouldReduceMotion&&yl.has(d)?{type:!1}:v));tg(l)&&(l.add(d),y=y.then(()=>l.remove(d))),u.push(y)}return Promise.all(u).then(()=>{o&&S6(n,o)})}function PW(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(n.variantChildren).sort(BW).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(NA(u,e,{...s,delay:t+l(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function BW(n,e){return n.sortNodePosition(e)}function RW({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}const IW=[...W_].reverse(),LW=W_.length;function DW(n){return e=>Promise.all(e.map(({animation:t,options:i})=>bW(n,t,i)))}function FW(n){let e=DW(n);const t=kW();let i=!0;const r=(l,u)=>{const h=Kg(n,u);if(h){const{transition:d,transitionEnd:p,...m}=h;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,u){const h=n.getProps(),d=n.getVariantContext(!0)||{},p=[],m=new Set;let v={},y=1/0;for(let A=0;A<LW;A++){const _=IW[A],M=t[_],S=h[_]!==void 0?h[_]:d[_],E=th(S),P=_===u?M.isActive:null;P===!1&&(y=A);let R=S===d[_]&&S!==h[_]&&E;if(R&&i&&n.manuallyAnimateOnMount&&(R=!1),M.protectedKeys={...v},!M.isActive&&P===null||!S&&!M.prevProp||Wg(S)||typeof S=="boolean")continue;const T=NW(M.prevProp,S);let B=T||_===u&&M.isActive&&!R&&E||A>y&&E;const I=Array.isArray(S)?S:[S];let U=I.reduce(r,{});P===!1&&(U={});const{prevResolvedValues:Z={}}=M,W={...Z,...U},H=Q=>{B=!0,m.delete(Q),M.needsAnimating[Q]=!0};for(const Q in W){const ie=U[Q],ce=Z[Q];v.hasOwnProperty(Q)||(ie!==ce?$m(ie)&&$m(ce)?!V3(ie,ce)||T?H(Q):M.protectedKeys[Q]=!0:ie!==void 0?H(Q):m.add(Q):ie!==void 0&&m.has(Q)?H(Q):M.protectedKeys[Q]=!0)}M.prevProp=S,M.prevResolvedValues=U,M.isActive&&(v={...v,...U}),i&&n.blockInitialAnimation&&(B=!1),B&&!R&&p.push(...I.map(Q=>({animation:Q,options:{type:_,...l}})))}if(m.size){const A={};m.forEach(_=>{const M=n.getBaseTarget(_);M!==void 0&&(A[_]=M)}),p.push({animation:A})}let x=!!p.length;return i&&h.initial===!1&&!n.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(p):Promise.resolve()}function a(l,u,h){var d;if(t[l].isActive===u)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,u)}),t[l].isActive=u;const p=o(h,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function NW(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!V3(e,n):!1}function _a(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kW(){return{animate:_a(!0),whileInView:_a(),whileHover:_a(),whileTap:_a(),whileDrag:_a(),whileFocus:_a(),exit:_a()}}class OW extends ea{constructor(e){super(e),e.animationState||(e.animationState=FW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Wg(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let UW=0;class zW extends ea{constructor(){super(...arguments),this.id=UW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const GW={animation:{Feature:OW},exit:{Feature:zW}},RT=(n,e)=>Math.abs(n-e);function HW(n,e){const t=RT(n.x,e.x),i=RT(n.y,e.y);return Math.sqrt(t**2+i**2)}class gI{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Nv(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=HW(u.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:p}=u,{timestamp:m}=Hs;this.history.push({...p,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Fv(h,this.transformPagePoint),hi.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,m=Nv(u.type==="pointercancel"?this.lastMoveEventInfo:Fv(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(u,m),p&&p(u,m)},!O3(e))return;this.handlers=t,this.transformPagePoint=i;const r=Xg(e),s=Fv(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=Hs;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Nv(s,this.history)),this.removeListeners=Do(Gs(window,"pointermove",this.handlePointerMove),Gs(window,"pointerup",this.handlePointerUp),Gs(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vo.update(this.updatePoint)}}function Fv(n,e){return e?{point:e(n.point)}:n}function IT(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Nv({point:n},e){return{point:n,delta:IT(n,yI(e)),offset:IT(n,VW(e)),velocity:WW(e,.1)}}function VW(n){return n[0]}function yI(n){return n[n.length-1]}function WW(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=yI(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>ym(e)));)t--;if(!i)return{x:0,y:0};const s=(r.timestamp-i.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Wi(n){return n.max-n.min}function kA(n,e=0,t=.01){return Math.abs(n-e)<=t}function LT(n,e,t,i=.5){n.origin=i,n.originPoint=sn(e.min,e.max,n.origin),n.scale=Wi(t)/Wi(e),(kA(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=sn(t.min,t.max,n.origin)-n.originPoint,(kA(n.translate)||isNaN(n.translate))&&(n.translate=0)}function wf(n,e,t,i){LT(n.x,e.x,t.x,i?i.originX:void 0),LT(n.y,e.y,t.y,i?i.originY:void 0)}function DT(n,e,t){n.min=t.min+e.min,n.max=n.min+Wi(e)}function jW(n,e,t){DT(n.x,e.x,t.x),DT(n.y,e.y,t.y)}function FT(n,e,t){n.min=e.min-t.min,n.max=n.min+Wi(e)}function Mf(n,e,t){FT(n.x,e.x,t.x),FT(n.y,e.y,t.y)}function JW(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?sn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?sn(t,n,i.max):Math.min(n,t)),n}function NT(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function XW(n,{top:e,left:t,bottom:i,right:r}){return{x:NT(n.x,t,r),y:NT(n.y,e,i)}}function kT(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function YW(n,e){return{x:kT(n.x,e.x),y:kT(n.y,e.y)}}function KW(n,e){let t=.5;const i=Wi(n),r=Wi(e);return r>i?t=sh(e.min,e.max-i,n.min):i>r&&(t=sh(n.min,n.max-r,e.min)),Wc(0,1,t)}function QW(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const OA=.35;function ZW(n=OA){return n===!1?n=0:n===!0&&(n=OA),{x:OT(n,"left","right"),y:OT(n,"top","bottom")}}function OT(n,e,t){return{min:UT(n,e),max:UT(n,t)}}function UT(n,e){return typeof n=="number"?n:n[e]||0}const zT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sf=()=>({x:zT(),y:zT()}),GT=()=>({min:0,max:0}),_n=()=>({x:GT(),y:GT()});function qr(n){return[n("x"),n("y")]}function vI({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function qW({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function $W(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function kv(n){return n===void 0||n===1}function UA({scale:n,scaleX:e,scaleY:t}){return!kv(n)||!kv(e)||!kv(t)}function Ta(n){return UA(n)||xI(n)||n.z||n.rotate||n.rotateX||n.rotateY}function xI(n){return HT(n.x)||HT(n.y)}function HT(n){return n&&n!=="0%"}function rg(n,e,t){const i=n-t,r=e*i;return t+r}function VT(n,e,t,i,r){return r!==void 0&&(n=rg(n,r,i)),rg(n,t,i)+e}function zA(n,e=0,t=1,i,r){n.min=VT(n.min,e,t,i,r),n.max=VT(n.max,e,t,i,r)}function AI(n,{x:e,y:t}){zA(n.x,e.translate,e.scale,e.originPoint),zA(n.y,t.translate,t.scale,t.originPoint)}function e7(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&xc(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,AI(n,o)),i&&Ta(s.latestValues)&&xc(n,s.latestValues))}e.x=WT(e.x),e.y=WT(e.y)}function WT(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function vo(n,e){n.min=n.min+e,n.max=n.max+e}function jT(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=sn(n.min,n.max,s);zA(n,e[t],e[i],o,e.scale)}const t7=["x","scaleX","originX"],n7=["y","scaleY","originY"];function xc(n,e){jT(n.x,e,t7),jT(n.y,e,n7)}function _I(n,e){return vI($W(n.getBoundingClientRect(),e))}function i7(n,e,t){const i=_I(n,t),{scroll:r}=e;return r&&(vo(i.x,r.offset.x),vo(i.y,r.offset.y)),i}const r7=new WeakMap;class s7{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_n(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),t&&this.snapToCursor(Xg(l,"page").point)},s=(l,u)=>{const{drag:h,dragPropagation:d,onDragStart:p}=this.getProps();if(h&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=z3(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qr(v=>{let y=this.getAxisMotionValue(v).get()||0;if(rs.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const A=x.layout.layoutBox[v];A&&(y=Wi(A)*(parseFloat(y)/100))}}this.originPoint[v]=y}),p&&p(l,u);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:p,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=u;if(d&&this.currentDirection===null){this.currentDirection=o7(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new gI(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&s(e,t)}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!jp(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=JW(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&yc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=XW(i.layoutBox,e):this.constraints=!1,this.elastic=ZW(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qr(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=QW(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!yc(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=i7(i,r.root,this.visualElement.getTransformPagePoint());let o=YW(r.layout.layoutBox,s);if(t){const a=t(qW(o));this.hasMutatedConstraints=!!a,a&&(o=vI(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=qr(h=>{if(!jp(h,t,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(dw(e,i,0,t))}stopAnimation(){qr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){qr(t=>{const{drag:i}=this.getProps();if(!jp(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-sn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!yc(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};qr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=KW({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),qr(o=>{if(!jp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(sn(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;r7.set(this.visualElement,this);const e=this.visualElement.current,t=Gs(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();yc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=ks(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(qr(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=OA,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function jp(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function o7(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class a7 extends ea{constructor(e){super(e),this.removeGroupControls=mr,this.removeListeners=mr,this.controls=new s7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mr}unmount(){this.removeGroupControls(),this.removeListeners()}}class l7 extends ea{constructor(){super(...arguments),this.removePointerDownListener=mr}onPointerDown(e){this.session=new gI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:e,onStart:t,onMove:i,onEnd:(s,o)=>{delete this.session,r&&r(s,o)}}}mount(){this.removePointerDownListener=Gs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function c7(){const n=z.useContext(V_);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=z.useId();return z.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}function JT(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const qu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(rt.test(n))n=parseFloat(n);else return n;const t=JT(n,e.target.x),i=JT(n,e.target.y);return`${t}% ${i}%`}},wI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function u7(n){const e=wI.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function GA(n,e,t=1){const[i,r]=u7(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():EA(r)?GA(r,e,t+1):r}function f7(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!EA(s))return;const o=GA(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!EA(s))continue;const o=GA(s,i);o&&(e[r]=o,t&&t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const XT="_$css",h7={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=n.includes("var("),s=[];r&&(n=n.replace(wI,m=>(s.push(m),XT)));const o=Wo.parse(n);if(o.length>5)return i;const a=Wo.createTransformer(n),l=typeof o[0]!="number"?1:0,u=t.x.scale*e.x,h=t.y.scale*e.y;o[0+l]/=u,o[1+l]/=h;const d=sn(u,h,.5);typeof o[2+l]=="number"&&(o[2+l]/=d),typeof o[3+l]=="number"&&(o[3+l]/=d);let p=a(o);if(r){let m=0;p=p.replace(XT,()=>{const v=s[m];return m++,v})}return p}};class d7 extends lh.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;p8(p7),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||hi.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MI(n){const[e,t]=c7(),i=z.useContext(S3);return lh.createElement(d7,{...n,layoutGroup:i,switchLayoutGroup:z.useContext(C3),isPresent:e,safeToRemove:t})}const p7={borderRadius:{...qu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qu,borderTopRightRadius:qu,borderBottomLeftRadius:qu,borderBottomRightRadius:qu,boxShadow:h7};function m7(n,e,t={}){const i=bi(n)?n:jc(n);return i.start(dw("",i,e,t)),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}const SI=["TopLeft","TopRight","BottomLeft","BottomRight"],g7=SI.length,YT=n=>typeof n=="string"?parseFloat(n):n,KT=n=>typeof n=="number"||rt.test(n);function y7(n,e,t,i,r,s){r?(n.opacity=sn(0,t.opacity!==void 0?t.opacity:1,v7(i)),n.opacityExit=sn(e.opacity!==void 0?e.opacity:1,0,x7(i))):s&&(n.opacity=sn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<g7;o++){const a=`border${SI[o]}Radius`;let l=QT(e,a),u=QT(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||KT(l)===KT(u)?(n[a]=Math.max(sn(YT(l),YT(u),i),0),(rs.test(u)||rs.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=sn(e.rotate||0,t.rotate||0,i))}function QT(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const v7=CI(0,.5,fw),x7=CI(.5,.95,mr);function CI(n,e,t){return i=>i<n?0:i>e?1:t(sh(n,e,i))}function ZT(n,e){n.min=e.min,n.max=e.max}function or(n,e){ZT(n.x,e.x),ZT(n.y,e.y)}function qT(n,e,t,i,r){return n-=e,n=rg(n,1/t,i),r!==void 0&&(n=rg(n,1/r,i)),n}function A7(n,e=0,t=1,i=.5,r,s=n,o=n){if(rs.test(e)&&(e=parseFloat(e),e=sn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=sn(s.min,s.max,i);n===s&&(a-=e),n.min=qT(n.min,e,t,a,r),n.max=qT(n.max,e,t,a,r)}function $T(n,e,[t,i,r],s,o){A7(n,e[t],e[i],e[r],e.scale,s,o)}const _7=["x","scaleX","originX"],w7=["y","scaleY","originY"];function eb(n,e,t,i){$T(n.x,e,_7,t?t.x:void 0,i?i.x:void 0),$T(n.y,e,w7,t?t.y:void 0,i?i.y:void 0)}function tb(n){return n.translate===0&&n.scale===1}function EI(n){return tb(n.x)&&tb(n.y)}function HA(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function nb(n){return Wi(n.x)/Wi(n.y)}class M7{constructor(){this.members=[]}add(e){ew(this.members,e),e.scheduleRender()}remove(e){if(tw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ib(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:u,rotateY:h}=t;l&&(i+=`rotate(${l}deg) `),u&&(i+=`rotateX(${u}deg) `),h&&(i+=`rotateY(${h}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const S7=(n,e)=>n.depth-e.depth;class C7{constructor(){this.children=[],this.isDirty=!1}add(e){ew(this.children,e),this.isDirty=!0}remove(e){tw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(S7),this.isDirty=!1,this.children.forEach(e)}}function E7(n){window.MotionDebug&&window.MotionDebug.record(n)}const rb=["","X","Y","Z"],sb=1e3;let T7=0;const ba={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function TI({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=T7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{ba.totalNodes=ba.resolvedTargetDeltas=ba.recalculatedProjection=0,this.nodes.forEach(B7),this.nodes.forEach(D7),this.nodes.forEach(F7),this.nodes.forEach(R7),E7(ba)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new C7)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new nw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=dI(p,250),xf.hasAnimatedSinceResize&&(xf.hasAnimatedSinceResize=!1,this.nodes.forEach(ab))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||h.getDefaultTransition()||z7,{onLayoutAnimationStart:x,onLayoutAnimationComplete:A}=h.getProps(),_=!this.targetLayout||!HA(this.targetLayout,v)||m,M=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,M);const S={...pI(y,"layout"),onPlay:x,onComplete:A};(h.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else!p&&this.animationProgress===0&&ab(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vo.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(N7),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ob);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(G7),this.potentialNodes.clear()),this.nodes.forEach(L7),this.nodes.forEach(b7),this.nodes.forEach(P7),this.clearAllSnapshots(),Pv.update(),Pv.preRender(),Pv.render())}clearAllSnapshots(){this.nodes.forEach(I7),this.sharedNodes.forEach(k7)}scheduleUpdateProjection(){hi.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){hi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_n(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!EI(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||Ta(this.latestValues)||h)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),H7(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return _n();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(vo(a.x,l.offset.x),vo(a.y,l.offset.y)),a}removeElementScroll(o){const a=_n();or(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:d}=u;if(u!==this.root&&h&&d.layoutScroll){if(h.isRoot){or(a,o);const{scroll:p}=this.root;p&&(vo(a.x,-p.offset.x),vo(a.y,-p.offset.y))}vo(a.x,h.offset.x),vo(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=_n();or(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&xc(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ta(h.latestValues)&&xc(l,h.latestValues)}return Ta(this.latestValues)&&xc(l,this.latestValues),l}removeTransform(o){const a=_n();or(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ta(u.latestValues))continue;UA(u.latestValues)&&u.updateSnapshot();const h=_n(),d=u.measurePageBox();or(h,d),eb(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Ta(this.latestValues)&&eb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty),!((!!this.resumingFrom||this!==a)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout?(this.relativeParent=p,this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),Mf(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_n(),this.targetWithTransforms=_n()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?jW(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):or(this.target,this.layout.layoutBox),AI(this.target,this.targetDelta)):or(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target?(this.relativeParent=p,this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),Mf(this.relativeTargetOrigin,this.target,p.target),or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ba.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||UA(this.parent.latestValues)||xI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;or(this.layoutCorrected,this.layout.layoutBox),e7(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=Sf(),this.projectionDeltaWithTransform=Sf());const m=this.treeScale.x,v=this.treeScale.y,y=this.projectionTransform;wf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=ib(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==m||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),ba.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=Sf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=_n(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=m!==v,x=this.getStack(),A=!x||x.members.length<=1,_=!!(y&&!A&&this.options.crossfade===!0&&!this.path.some(U7));this.animationProgress=0;let M;this.mixTargetDelta=S=>{const E=S/1e3;lb(d.x,o.x,E),lb(d.y,o.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mf(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),O7(this.relativeTarget,this.relativeTargetOrigin,p,E),M&&HA(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=_n()),or(M,this.relativeTarget)),y&&(this.animationValues=h,y7(h,u,this.latestValues,E,_,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vo.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hi.update(()=>{xf.hasAnimatedSinceResize=!0,this.currentAnimation=m7(0,sb,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&bI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||_n();const d=Wi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Wi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}or(a,l),xc(a,h),wf(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new M7),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let h=0;h<rb.length;h++){const d="rotate"+rb[h];l[d]&&(u[d]=l[d],o.setStaticValue(d,0))}o.render();for(const h in u)o.setStaticValue(h,u[h]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=gm(o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=gm(o.pointerEvents)||""),this.hasProjected&&!Ta(this.latestValues)&&(y.transform=h?h({},""):"none",this.hasProjected=!1),y}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=ib(this.projectionDeltaWithTransform,this.treeScale,p),h&&(u.transform=h(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in Zm){if(p[y]===void 0)continue;const{correct:x,applyTo:A}=Zm[y],_=u.transform==="none"?p[y]:x(p[y],d);if(A){const M=A.length;for(let S=0;S<M;S++)u[A[S]]=_}else u[y]=_}return this.options.layoutId&&(u.pointerEvents=d===this?gm(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ob),this.root.sharedNodes.clear()}}}function b7(n){n.updateLayout()}function P7(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?qr(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=Wi(p);p.min=i[d].min,p.max=p.min+m}):bI(s,t.layoutBox,i)&&qr(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=Wi(i[d]);p.max=p.min+m});const a=Sf();wf(a,i,t.layoutBox);const l=Sf();o?wf(l,n.applyTransform(r,!0),t.measuredBox):wf(l,i,t.layoutBox);const u=!EI(a);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const v=_n();Mf(v,t.layoutBox,p.layoutBox);const y=_n();Mf(y,i,m.layoutBox),HA(v,y)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=y,n.relativeTargetOrigin=v,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function B7(n){ba.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function R7(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function I7(n){n.clearSnapshot()}function ob(n){n.clearMeasurements()}function L7(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function ab(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function D7(n){n.resolveTargetDelta()}function F7(n){n.calcProjection()}function N7(n){n.resetRotation()}function k7(n){n.removeLeadSnapshot()}function lb(n,e,t){n.translate=sn(e.translate,0,t),n.scale=sn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function cb(n,e,t,i){n.min=sn(e.min,t.min,i),n.max=sn(e.max,t.max,i)}function O7(n,e,t,i){cb(n.x,e.x,t.x,i),cb(n.y,e.y,t.y,i)}function U7(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const z7={duration:.45,ease:[.4,0,.1,1]};function G7(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(n.path[s].instance){t=n.path[s];break}const r=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&n.mount(r,!0)}function ub(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function H7(n){ub(n.x),ub(n.y)}function bI(n,e,t){return n==="position"||n==="preserve-aspect"&&!kA(nb(e),nb(t),.2)}const V7=TI({attachResizeListener:(n,e)=>ks(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ov={current:void 0},PI=TI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ov.current){const n=new V7(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),Ov.current=n}return Ov.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),W7={pan:{Feature:l7},drag:{Feature:a7,ProjectionNode:PI,MeasureLayout:MI}},j7=new Set(["width","height","top","left","right","bottom","x","y"]),BI=n=>j7.has(n),J7=n=>Object.keys(n).some(BI),fb=n=>n===vl||n===rt,hb=(n,e)=>parseFloat(n.split(", ")[e]),db=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return hb(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?hb(s[1],n):0}},X7=new Set(["x","y","z"]),Y7=Jg.filter(n=>!X7.has(n));function K7(n){const e=[];return Y7.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const pb={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:db(4,13),y:db(5,14)},Q7=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(u=>{a[u]=pb[u](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(u=>{const h=e.getValue(u);h&&h.jump(a[u]),n[u]=pb[u](l,s)}),n},Z7=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(BI);let s=[],o=!1;const a=[];if(r.forEach(l=>{const u=n.getValue(l);if(!n.hasValue(l))return;let h=t[l],d=Zu(h);const p=e[l];let m;if($m(p)){const v=p.length,y=p[0]===null?1:0;h=p[y],d=Zu(h);for(let x=y;x<v;x++)m?ng(Zu(p[x])===m):m=Zu(p[x])}else m=Zu(p);if(d!==m)if(fb(d)&&fb(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===rt&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(h===0||p===0)?h===0?u.set(m.transform(h)):e[l]=d.transform(p):(o||(s=K7(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=Q7(e,n,a);return s.length&&s.forEach(([h,d])=>{n.getValue(h).set(d)}),n.render(),Vg&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:i}}else return{target:e,transitionEnd:i}};function q7(n,e,t,i){return J7(e)?Z7(n,e,t,i):{target:e,transitionEnd:i}}const $7=(n,e,t,i)=>{const r=f7(n,e,i);return e=r.target,i=r.transitionEnd,q7(n,e,t,i)},VA={current:null},RI={current:!1};function ej(){if(RI.current=!0,!!Vg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>VA.current=n.matches;n.addListener(e),e()}else VA.current=!1}function tj(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(bi(s))n.addValue(r,s),tg(i)&&i.add(r);else if(bi(o))n.addValue(r,jc(s,{owner:n})),tg(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,jc(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const II=Object.keys(nh),nj=II.length,mb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ij=j_.length;class rj{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>hi.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=jg(t),this.isVariantNode=w3(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(t,{});for(const d in h){const p=h[d];a[d]!==void 0&&bi(p)&&(p.set(a[d],!1),tg(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),RI.current||ej(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:VA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vo.update(this.notifyUpdate),Vo.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=yl.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&hi.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s,o){let a,l;for(let u=0;u<nj;u++){const h=II[u],{isEnabled:d,Feature:p,ProjectionNode:m,MeasureLayout:v}=nh[h];m&&(a=m),d(t)&&(!this.features[h]&&p&&(this.features[h]=new p(this)),v&&(l=v))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:h,drag:d,dragConstraints:p,layoutScroll:m,layoutRoot:v}=t;this.projection.setOptions({layoutId:u,layout:h,alwaysMeasureLayout:!!d||p&&yc(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:v})}return l}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_n()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<mb.length;i++){const r=mb[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=tj(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<ij;i++){const r=j_[i],s=this.props[r];(th(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=jc(t,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=$_(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!bi(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new nw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class LI extends rj{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=T6(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){C6(this,i,o);const a=$7(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function sj(n){return window.getComputedStyle(n)}class oj extends LI{readValueFromInstance(e,t){if(yl.has(t)){const i=sw(t);return i&&i.default||0}else{const i=sj(e),r=(b3(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return _I(e,t)}build(e,t,i,r){X_(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return q_(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){L3(e,t,i,r)}}class aj extends LI{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(yl.has(t)){const i=sw(t);return i&&i.default||0}return t=D3.has(t)?t:Z_(t),e.getAttribute(t)}measureInstanceViewportBox(){return _n()}scrapeMotionValuesFromProps(e,t){return N3(e,t)}build(e,t,i,r){K_(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){F3(e,t,i,r)}mount(e){this.isSVGTag=Q_(e.tagName),super.mount(e)}}const lj=(n,e)=>J_(n)?new aj(e,{enableHardwareAcceleration:!1}):new oj(e,{enableHardwareAcceleration:!0}),cj={layout:{ProjectionNode:PI,MeasureLayout:MI}},uj={...GW,...$8,...W7,...cj},Ur=h8((n,e)=>z8(n,e,uj,lj)),Gi={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider"},fj=()=>lt("section",{className:"relative w-full h-screen mx-auto",children:[lt("div",{className:`absolute inset-0 top-[120px]  max-w-7xl mx-auto ${Gi.paddingX} flex flex-row items-start gap-5`,children:[lt("div",{className:"flex flex-col justify-center items-center mt-5",children:[fe("div",{className:"w-5 h-5 rounded-full bg-[#915EFF]"}),fe("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),lt("div",{children:[lt("h1",{className:`${Gi.heroHeadText} text-white`,children:["Hi, I'm ",fe("span",{className:"text-[#915EFF]",children:"Sujan"})]}),lt("p",{className:`${Gi.heroSubText} mt-2 text-white-100`,children:["I develop ",fe("br",{className:"sm:block hidden"})," Machine Learning and Deep Learning models,",fe("br",{className:"sm:block hidden"})," Mobile applications ",fe("br",{className:"sm:block hidden"}),"and web applications"]})]})]}),fe(jV,{}),fe("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:fe("a",{href:"#about",children:fe("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:fe(Ur.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),hj="/assets/logo-5d95862e.svg",dj="/assets/backend-565fc01f.png",pj="/assets/creator-dbbffaec.png",mj="/assets/mobile-896ef2f5.png",gj="/assets/web-0d05165f.png",yj="/assets/github-3b4e1609.png",vj="/assets/menu-b5599218.svg",xj="/assets/close-54702a70.svg",Aj="/assets/docker-602a695a.png",_j="/assets/flutter-aa280c59.png",wj="/assets/Tableau-Symbol-678ff183.png",Mj="/assets/tf-d8c7e83e.png",Sj="/assets/torch-5eb548c8.png",Cj="/assets/python-fa1becd0.png",Ej="/assets/pro1-5bc1e997.png",Tj="/assets/ineuron-e3047a2b.png",bj="/assets/pro2-926a7b7d.png",Pj="/assets/tableau-573f3627.png",Bj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",Rj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",Ij="/assets/mongodb-54000b2b.png",Lj="/assets/nodejs-d83eb6dd.png",Dj="/assets/reactjs-966214a8.png",Fj="/assets/tailwind-6ece120d.png",Nj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANMUlEQVR4nO2d+48V9RXAv//Gtw/balttayOpjVZr06TPqLRJ09Q+09Yaa01sapNWKqiAqCiU+MJXfSGC+ADxQa1AK0WMogJW2L3syrIvdpcL+95ln7B7mu8Y7GaD9N7ZmXvuzPl8kvOLMXsvZ87nnLkz852vcwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsfDX7BaCHOSlBpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPAIjMI2ARuCZwBQBjSDbNeCsoZ1wghx4BEZgGgGNwDOBKQIaQbZrwFlDO+EEOfAIjMA0AhqBZwJTBDSCbNeAs4Z2wgly4BEYgWkENALPBKYIaATZrgFnDe2EE+TAIzAC0whoBJ4JTBHQCLJdA84a2gknyIFHYASmEdAIPBOYIqARZLsGnDW0E06QA4/ACEwjoBF4JjBFQCPIdg04a2gnnCAHHoERmEZAI/BMYIqARpDtGnDW0E44QQ48AiMwjYBG4JnAFAGNINs14KyhnXCCHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMALTCGgEnglMEdAIsl0DzhraCSfIgUdgBKYR0Ag8E5gioBFkuwacNbQTTpADj8AITCOgEXgmMEVAI8h2DThraCecIAcegRGYRkAj8ExgioBGkO0acNbQTjhBDjwCIzCNgEbgmcAUAY0g2zXgrKGdcIIceARGYBoBjcAzgSkCGkG2a8BZQzvhBDnwCIzANAIagWcCUwQ0gmzXgLOGdsIJcuARGIFpBDQCzwSmCGgE2a4BZw3thBPkwCMwAtMIaASeCUwR0AiyXQPOGtoJJ8iBR2AEphHQCDwTmCKgEWS7Bpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPALnW+Dm7jEBkYUbOiqW81mLCvKjBxrl6qcPyF83FeXJt3tk275BebdtWJq6xqJj0jt0TPqG34+uI0ej/7bv8Gj0/2ypH5BndvbKfVs7ZcGLHXLlE61y0d0N8vkFtUzgJNGWE4GrQ+ALltbL3Ofa5eXafin2j6faL/uGj8nOliFZub1b5jzbJrOXN8ip82oS+Xc4a2jLicB6Ap97a100XeuLo6LNsYnJaHqv3dUrf17XJucsrkNgBM4XSQl88fIG+fue/kiaamXVm90IjMD5YqYCn3dbnWzY3SeT1evtBzz0WhcCI3C+iCvwR+bsjk5Lh8YmJCvc9cphBEbgfBFH4NOuq4kuTGWNpZuKCIzAtgU+a1FB9rQPSxa5MebZhrOG9hXmUoL7wOULfPoNtZmVN3Dt+nYERmCbAn/8L3vk9f1HJMtc/fQBBEZgmwIv23xIss4Vq1sQGIHtCXzhXfuq+v5uqfxqRTMCI7A9gbc1DEoeuOTBRgRGYFsC/+zhJskL37unAYER2JbAm/cOVOy7tHSPyT9q+qNHHu/d2im3bSxGz1U/uK0zWoUUvktrT/xVZN++Yx8CI7Adgc++ZW+qv33D395U6JdLH2uWMxcWSpbrjPm10bLEIPiOliEp9SuG1VHcB87JfeCfPNQol61sTiX+8NSBxIo8rKZJ63uGCM8yf1iOwprbtAjPT4cGkcSxPHNhQf74zAF5s+nkt7m+HPPznDW05dSOLywsJFbobzUNqf070jh9Hj82Kb9/sjW173zB0nr527ZOOXKCZ7TDcYnzN501tAXSjjwIHB7cGBxNdqFCONX93er05PXTTrPDKXb/8LEPPj/uAn9nDW2BtCMPAn9tab0kzYo34i3n8zMUOVwQC5P/o3Pi/Q1nDW2BtCMPAoeHHpIknNKWc6HKJxxxL2CFcNbQFkg78iBwuDqdJC/u7lM/Lj5mOGtoJ1w78iDwPf8+LEnyp7Vt6sfFxwxnDe2Ea0ceBH709S5JknDbTvu4+JjhrKGdcO3Ig8BP7eiRJJkd8zFGXwXhrKGdcO3Ig8DPvtMrSfLrmCuBfBWEs4Z2wrUjDwKvfrNbkiQ8XKF9XHzMcNbQTrh25EHgIFzSOyeEV/JoHxsfI5w1tBOuHXkQOOnbSIGwF5L2sfExwllDO+HakQeBw0KHNAgbk2kfH19mOGtoJ1w78iBwWKWUFkHi8Ky19nHyJYazhnbCtSMPAoc4NHBU0mJX69BJlzL6KgpnDe2Ea0deBF6f8K2k6QyMTERrjk+5trqnsbOGdsK1Iy8Cp/U7eDphc+/wWWG/Je1j5xEYgfMi8Kfm1UjP0P/W06bN7rbhaBVUtYnsrKGdcO3Ii8Ah7t6S7KKGUgjbt1y2sjn2+l0ERmAEnrKZ2YleT1MJ6oujctWaVvUr1s4a2h1TO/I0gUOEV7tq0tw9Fu1FrHWxy1lDu+C0I28Cf3LunujtmNp09I3L9S90yCfmVlZkZw3tgtOOvAkc4uLlDdF7paqBtt7xaKfBj1Xo1NpZQ7vYtCOPAoeY+1y7VBP1xVH56UNNCIzACFyqxPe/muwqpSR4/t0+mXVTMi+JP1E4a2hPCu3I6wQ+HmGvompjYGRC5jybznu3nDW0C0w78i5weNDikYTfmZXk2y9PT3jdsbOGdoFpR94FnrpmuBo3/m7qGpPv3BlvJ0IERmAzAof4wX37pXMwvVVLcRken4i9off0cNbQLirtsCRwiHMW18n2xpPvDKjByPiE/PzhmV+ldtbQLijtsCZwiPDc8rzn22VI6bHLDyPcu/7lozOT2FlDu5i0w6LAx+PcW+vklbrktyWdCeFZ7m/e/h4CIzAClypy+P1ZODgi1UJz95h85nq2F2UCM4FLljisIpq7vj3VV/OUw+Pbu2NNYWcN7dM47bB8Cn2iCIsPwmqiorLIE5MiF91d/hYvzhraBaMdCHzivJx2XY3c/NLBir7lYzqvNRxBYARG4Jk0uPBbdMnGovQP64h84V3lPeThrKE9AbWDCVxank6fXyu3//OQDI5W9tbTk2XuEOGsoS2QdiBw+fkKq5wqtd64f/hYWS8FcNbQFkg7EDhe3r66pF42FSpzD/mSMh6zdNbQFkg7EHhm+fvNymbpPpLuFetlmw8hMAIjcFpNcNaigrz63mBqAoenxZjATGAmcIpnMqdcu0c27O5LReDGzlEERmAErsTTXBtr+xMXOFwwK3UHCGcN7d+g2sFv4GTz+bkFtan8Jj51XmnPRjtraAukHQicfE6XbT6UuMBfvLGAwAiMwJV6L3XShEbLBGYCM4ErIPCXbt6buMBh90UERmAEroDA5y+pT1Te8DK+Uj/bWaMSB7SaIw+/gc+7rS5662Slti/5fzH7nobEH6cs9bOdNbQPtnbkQeCvL3t/4r3dPDSj19EkFQs3dEiS1HaMlPzZzhraB1s78iTw8dPN8CL3M0u86JNGvHNgWJIkPCBS6mc7a2gLpB15E3jqy+Hu/Neh6L5sJb/LLx5pkqRZvuVwyZ/vrKEtkHbkVeCp+xA98GpndGEp7e9x1qKCtPeOS9L8dlULAiOwTYGnvmMqLAq49LHmkm/JlBPnL6lPZWPxycnSH+II4ayhUXDVFFYEnn56Hbb5vGJVi3z6uppE3p01mNKbOuqKpV/AQuAqEAqB0xd4KuGiV6FjRNa81RNt+fndO/eddMfAcKsqbM9y5ROt0etuwil6moTX+CAwE5gJXCZh25XwgvW9B0fk3bbhaBK29oxV7FU6x0+fwz1uBEZgBM4gbzTyWll+A/MbOLNcEmPLUWcN7d+g2mHxIlZep69HYH2hEBiBx45OyjdiPhLqrKEtkHYwgauPhRs6Yh9PZw1tgbQDgauLTYX+aANyBEZgBM4YO1uGogdDZtKQnTW0J6B2MIGrg+2NR+SM+TNfeOGsoS2QdiCwPuvf6S1r/yMERmAErgIGRiaizcSTbMjOGtoTUDvyMIG/cmtd9OhjVpiYFFm7q1fOvmVv4rlw1tAWSDvyIHCIcAr64wcb5d6tnbKjZaiizyyXSvhOz/+nT751R3qv/XHW0BZIO/Ii8PQIOxn88P79smRjUbbUD1R8Y+6p1LSPyOKXizLrpuQnLgJXQbEhcPo5CPdWw6L7yx9viXZOeGlPv9QXR2X06GTiK4hausdk3a5euWZdW9mriRCYCVxWEeR1Ape7Pej3722Qq9a0yvwXO6I1uCve6IpOd7e+NxhtHTo9Nu8diNYDh/duXf9CR7Q+ePbyBvnsDcm/7aOccNbQLh6CHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4bf4LtvMh68AvCz8AAAAASUVORK5CYII=",gb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABX1BMVEU6Ojk/l/9i/+z///9Amf9h/exAm/5h++1Bnf5e8+5h/O06ODRPx/ZQyvZCof1Bnv5Ow/dDo/1MvfhEpvxHr/tKuPlf9+1FqfxGq/tIsvpd8e9c7O9V2fNS0PVU1fRW3PJa5/A6NCxZ5PFNwPhIsfpRzfU5Ly5b6fArKyo4JyY7S17Z2dk4KiY6NSw9Ul05MDA8R0lZ1sg+cadDgZ1AeKZOtcpKmJg6MiM+gtU8Xoo+cKdHj6NBe6VJnLZLo7RCgKRSwMg6MBs+juw9c7ZMrs9NqLNVysqNjY1Jj4Ze7No3HyFBZ2U6Qkk7TWM7U3A8Wn5ClONAf71Dm+VDjsVGntg9XHBAbow9Y4Y/bppAf7ZCjs5IpNRCgq5BdY1Ovuw/Y3JGmMNKpMU+dLE+VFREgI5Pusk3GxhIkZQeHhyioqJNoZpSubG1tbXp6elwcG9PvNpEdG9Jl6VU0N5MmY9HhHvh+IGlAAAJUElEQVR4nO3ci1fayB4H8IhAkFFBK4i1so260VgQ6EOwbh9otYJUu9u123Zvr91i1164u6WP//9swivzG0IgZLoz5Mz3nFbr8XDy6Uzev/lJkoiIiIiIiIiIiIiIiIiIiIiIiIiIiIiICAgCYb019IJQOp3Xk0aVrWenZ82cPtuqSIrx47Qy1tambet096BQ2A+GIq3MNjOnZ3bu+fOfb//2TDL4rLfVeVA6n67otgl/UI/f3/yiJxQKdaG6ce6akTd3T6W8Mk5KlC5Wdgt+A9aJBbA1kk3i4uLiL69P0/kxQaJ85f6+wZuYmBgOaAgXE4nEi3NlDEZSKZ4V/E2dM6AhTCwk7lY4H8h0fnc/2OY5ByYW9Lyo5Fkr+gcVzzDfaMCF9fUXksJa0ifpSiFk+kYGri8tveRzqhZ3/ZjPDXAp9iuHw4jyB8EJSkDDeM4bEaECVWAs9pKvAw5C+366wFjsEVfENH1gbP4lRxO1WBgEbMmuzTXToi3aA/Xwsy/m3/ffBw1dZP/5+1dnp1sV/W6jGSRtn/726vWbXxJ2wPn5CicnDfSsLzA0Gyzcbt4fKfCuV/+XcYMobb160x84/zsnu2J+v895MBI6OC3a3xYhJV88f72wvmAFnF97y8U8Te8GLYGR/d3h7oeQorz8dckCqBO5mKZ5v9WlWmj/rDj8AKDiuSVw7Q4Hg5i+H7QARt6nnW2bovwn1gtcW+NAiO+F5hQ9c36MyJ9bAKPs90T8QGoCt9IjfJSy3QNci7I/nKYPem54/cGt0f7j0XYPMBplfk4sdiepuQ+ejTKCRpTzeRLIfJqiSqjnKHow+sTKvyOB0T9SFDd3hHRPhtiJftQRNKKQwOh/GY9hZzc0gaH7roSPCOD0NLVtHS351l0Ffi3q8hNJ4PQF20NN62yIAUMFd4d35R0BnGF8qEETfjiCkV13G4TeQuD0DOMLtwoBDM5KLicVigLg9MwfTIWoEiRueCNur0Hya1EAnGF7ukBbQQB0vRvqO+LvEDjzhBNh+5lM5Gc35wojyjsIZC4MwYdO+l2Ty49U7kDgj6yFQfhULeLqfG+kJTSBzIUhAAzN0hFiQC6E+HNRKkIcyIMQf7JNRQiAK+yF4NE9DSEAshdG4LuJ2dt0hCaQF2H35QsdIQbkRGi+XaIixIEr93gQmsA5CsIZAORCiL0fpCU0gUkOhKBWzbVQvQOA7IWz8A3v3G23d3PoAgKTD1kLiVfYroWS8gTj6akyfU7TFIJ39O6FknKxZ+Yyy/ZBlCEEwGsUhMYLxU5UlfFDfV0IqyyoCHlKW4iVkXhTiNfJeE84RxQCeVEIK508KITAxbseFZpV9x4VYsV43hTi1YaeFIJySu8Jr0FgwoNCYuWLN4V4xa8nhaCk2YtCWLPtQSEELnhPuEisPvOoEKu696YQX1bgSSFYN+FFIVwY4kEhsfLlJ88JE8TSHm8K8aU9nhTiwCUvCuHiLA8KidVnHhViq8+8J1wg1g96UgjWD3pRCIAxDwqJFaAeFWJLXL0pxNfwPhokRGq/pPT0/pT1O+DtdWKR8iCh8vaBmYd4Di2zU838O5Q+MYREJwR7ofKgVWTRKrNIJm8Y+aGT1XZu6tkwsqznhG0txvYSscx8kHBlBSskaQFNoSXxMdt6GkMIVmHbC1HWMXD5SPu3NJZbrAvhMvPhhA6A7IXEOvqhhE6AnAjNVdjDCB0Br3MhxJaZDyF0BGQvjBGdEAYJk06BPAhBo4CBQqdADoSwE8JwQgdA9kKi1cOAM37WMZAfYXuZ+QCh6hjIjbCzjn6Q8AEJXF21B05xIuw2Chi0Llm9vNfOh24egxxBICfCLjA6cOV18zbQOpqRP68gkA8h1urB9dpydQcCuRDivSwoCU0gcyHZboWOEANyIITdSCgIrwMgeyHRboWGEADjfAjNXhbUhFMdYY4HoQmcpiWc4kqIdyOhJDSBPAhBuxU6QgzIgRD2k6EixIHMhWtEwxwKwikA5ENIsyMQJoxzI8TbrVAUxrkRgn4y9IRtoMxaSLQ8mtmzF25+/Phx0/Y3OsIOkL2Q6AhkL9z83+Tk5C3bj2wLu0BOhGazDlvh5tNJI7fsRlHdiQMgH0KsG4m98FZTODlQiAG5EOLtVtwLa3EADHMgxIErNIQ4kAch7AhETyjzIiQ6AlETyrwICSA1YRfIhRBvt7Kn2vz68EITGOBAiAOTdIQmkAchaJhDQygDIHMh0fIoSWE/lAGQCyHeMIfCGIYBkAch6Aj0mcIsBUAOhABo3/NoGKFWh0Dmwh8hMPnJtTAHgayFWQKYTLoVluMQyPiML0kk8IZdX6dhhFIcAH3hOluhQgJvXNocaoYQZo4h0Beu2R27vn9Sn8hySrsGcpv/bwL/shFquTAA+uRjtkXCqSc95ZS2/dX+MoR/2/xClgD65BO2QmWvp5zS/nzx99Onkt0Q1sMQ6JPZAiV00VtOadtDbnPT/mEiCQyUGB9KJdRbTvlh9MLsco4AMj+UGoea3mrDz6MStWOZAPrkb4xnqaTu9VYbrl6ORtQaPUCfj/L2Og+yqjYcjag1yCmq74asr2ik9jTtqTb8nHK8DqRcsxhBucF6khpHU8tyyi9VZ0Ytm7MAsj+SGkl9sq4XPZSGn6qaVCNPE60hZHxB0wq6sC6Ivbl6WNWGuaZUtWpdlq2AgVL5u2/+MEnd61Pxu7HxZaeqaTYL7DIZrVyt6fPTEsjFXmgEZe1Kmm8+vjrRhymlqhk9yIjxjarqdOnka12/WQpbj6BPZn6270S9HFCzfX356Ki+c9VoNE6MNBrfjmv1em6KeKpGAPk4zLSS+jxMUTp8P28+9u0HDFRZu7CkDoepuifKSOK2QOa3TUT+PKQMDARO2N7b9yT1cJUmMMwdUCdeUgTKpSxXU7QVtfqFEjDAz2kCBqWuqADl0gmfQD1q9oNbYEAOHJc5nKHdpKqPN1wAA3Lpq8azTzKmqrSzurw8ClAfvlyD6/HrRNVODjccAgP6tWnua3YsfEaQWq7uHA0H1HFhOVCqf8uMDa8dVVOrV/WjZeJiNG769BjflHK1RrbM+97XJxlVK2eqjZ1a/Sh33WC2cPqfeKmUy9Vrx42sVtbU8dSZad4Lam1HNpvV/0YZrfWjcbeJiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMV/4BmX/s1F9U468AAAAASUVORK5CYII=",yb=[{id:"about",title:"About"},{id:"work",title:"Work"},{id:"contact",title:"Contact"}],kj=[{title:"Web Developer",icon:gj},{title:"Data Scientist",icon:mj},{title:"Backend Developer",icon:dj},{title:"Flutter Developer",icon:pj}],Oj=[{name:"Python",icon:Cj},{name:"JavaScript",icon:Rj},{name:"TypeScript",icon:Nj},{name:"React JS",icon:Dj},{name:"Flutter",icon:_j},{name:"Tailwind CSS",icon:Fj},{name:"Node JS",icon:Lj},{name:"MongoDB",icon:Ij},{name:"Pytorch",icon:Sj},{name:"git",icon:Bj},{name:"Tensorflow",icon:Mj},{name:"docker",icon:Aj},{name:"tableau",icon:wj}],Uj=[{title:"Machine Learning Intern    ",company_name:"ineuron.ai",icon:Tj,iconBg:"#E6DEDD",date:"Nov 2021 – Mar 2022",points:["Delivered a credit card default prediction project with end-to-end deployment.      ","Utilized Docker, CircleCI, and Heroku to streamline the deployment process.      ","Built predictive models to analyze and predict credit card defaults.      ","Created a CI/CD pipeline to automate the integration and deployment of the project.      ","Successfully deployed the solution to production, ensuring scalability and reliability.      "]},{title:"Research and development Intern",company_name:"Grootan Technologies",icon:gb,iconBg:"#383E56",date:"Sep 2022 - Sep 2024",points:["Contributed to the desktop application of EZTO using Electron.js and React.js.","Developed and maintained web applications using React.js and other related technologies.","Implemented anomaly detection in company data for Multi-Factor Authentication (MFA).      ","Participating in code reviews and providing constructive feedback to other developers.","Developing and maintaining web applications using React.js and other related technologies.","Helped with dataset creation and maintenance for various projects."]},{title:"Machine Learning Engineer",company_name:"Grootan Technologies",icon:gb,iconBg:"#E6DEDD",date:"Sep 2024 - Dec 2024",points:["Applied  Deep learning techniques for the detection of holograms on national ID cards, significantly enhancing document security.","Led projects on anomaly detection, utilizing machine learning algorithms to identify irregularities and potential fraud in data, contributing to a robust fraud detection system.","Developed and implemented deep learning-based face verification and liveness detection systems for KYC (Know Your Customer) processes, ensuring secure and reliable user authentication","Contributed to the development of machine learning models for data analysis and predictive analytics, optimizing decision-making processes within the organization.","Stayed at the forefront of machine learning advancements, exploring and integrating cutting-edge algorithms to enhance the capabilities of our products.","Utilized Generative Adversarial Networks (GANs) to enhance data generation and image synthesis capabilities, contributing to innovative solutions within the research and development projects."]}],zj=[{name:"Cooking AI - Gemini LLM",description:"Cooking AI is a mobile app that simplifies meal planning with personalized recipe suggestions and culinary tips. It tailors recommendations based on user inputs, whether images or text.                          ",tags:[{name:"Tensorflow",color:"blue-text-gradient"},{name:"Gemini",color:"green-text-gradient"},{name:"Flutter",color:"pink-text-gradient"}],image:Ej,source_code_link:"https://github.com/sai-sujan/Cooking-AI-mobile-app"},{name:"Lung Cancer Classification with Vision Transformers",description:"A web app for classifying lung cancer images using Vision Transformers (ViT).      ",tags:[{name:"Python",color:"blue-text-gradient"},{name:"restapi",color:"green-text-gradient"},{name:"scss",color:"pink-text-gradient"}],image:bj,source_code_link:"https://github.com/sai-sujan/Lung_cancer_classification-using-Vision-Transformer"},{name:"British Airways Reviews Dashboard    ",description:"This Tableau dashboard analyzes British Airways reviews, focusing on key aspects like service, entertainment, and comfort, with filters for tailored insights.      ",tags:[{name:"tableau",color:"blue-text-gradient"}],image:Pj,source_code_link:"https://github.com/sai-sujan/Tableau-British-Airways-Reviews"}],Gj=()=>{const[n,e]=z.useState(""),[t,i]=z.useState(!1),[r,s]=z.useState(!1);return z.useEffect(()=>{const o=()=>{window.scrollY>100?s(!0):s(!1)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),fe("nav",{className:`${Gi.paddingX} w-full flex items-center py-5 fixed top-0 z-20 ${r?"bg-primary":"bg-transparent"}`,children:lt("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[lt(DN,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[fe("img",{src:hj,alt:"logo",className:"w-9 h-9 object-contain"}),lt("p",{className:"text-white text-[18px] font-bold cursor-pointer flex ",children:["Sujan  ",fe("span",{className:"sm:block hidden",children:" | "})]})]}),lt("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:[yb.map(o=>fe("li",{className:`${n===o.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>e(o.title),children:fe("a",{href:`#${o.id}`,children:o.title})},o.id)),fe("li",{className:`${n==="LinkedIn"?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>e("LinkedIn"),children:fe("a",{href:"https://www.linkedin.com/in/sai-sujan-6110a4190/",target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})},"linkedin"),fe("li",{className:`${n==="GitHub"?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>e("GitHub"),children:fe("a",{href:"https://github.com/sai-sujan",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})},"github")]}),lt("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[fe("img",{src:t?xj:vj,alt:"menu",className:"w-[28px] h-[28px] object-contain",onClick:()=>i(!t)}),fe("div",{className:`${t?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:fe("ul",{className:"list-none flex justify-end items-start flex-1 flex-col gap-4",children:yb.map(o=>fe("li",{className:`font-poppins font-medium cursor-pointer text-[16px] ${n===o.title?"text-white":"text-secondary"}`,onClick:()=>{i(!t),e(o.title)},children:fe("a",{href:`#${o.id}`,children:o.title})},o.id))})})]})]})})};function Hj(n,e,t,i){return new(t||(t=Promise))(function(r,s){function o(u){try{l(i.next(u))}catch(h){s(h)}}function a(u){try{l(i.throw(u))}catch(h){s(h)}}function l(u){var h;u.done?r(u.value):(h=u.value,h instanceof t?h:new t(function(d){d(h)})).then(o,a)}l((i=i.apply(n,e||[])).next())})}const vb=(n,e,t,i)=>{n.style.transition=`${e} ${t}ms ${i}`},Bs=(n,e,t)=>Math.min(Math.max(n,e),t);class Vj{constructor(e,t){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=o=>{const{width:a,height:l}=o,u=Math.sqrt(Math.pow(a,2)+Math.pow(l,2));return{width:u,height:u}},this.setSize=o=>{const a=this.calculateGlareSize(o);this.glareEl.style.width=`${a.width}px`,this.glareEl.style.height=`${a.height}px`},this.update=(o,a,l,u)=>{this.updateAngle(o,a.glareReverse),this.updateOpacity(o,a,l,u)},this.updateAngle=(o,a)=>{const{xPercentage:l,yPercentage:u}=o,h=180/Math.PI,d=l?Math.atan2(u,-l)*h:0;this.glareAngle=d-(a?180:0)},this.updateOpacity=(o,a,l,u)=>{const{xPercentage:h,yPercentage:d}=o,{glarePosition:p,glareReverse:m,glareMaxOpacity:v}=a,y=l?-1:1,x=u?-1:1,A=m?-1:1;let _=0;switch(p){case"top":_=-h*y*A;break;case"right":_=d*x*A;break;case"bottom":case void 0:_=h*y*A;break;case"left":_=-d*x*A;break;case"all":_=Math.hypot(h,d)}const M=Bs(_,0,100);this.glareOpacity=M*v/100},this.render=o=>{const{glareColor:a}=o;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${a} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const i={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:t,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},r=this.calculateGlareSize(e),s={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${r.width}px`,height:`${r.height}px`};Object.assign(this.glareWrapperEl.style,i),Object.assign(this.glareEl.style,s)}}class Wj{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,t)=>{this.updateTilt(e,t),this.updateTiltManualInput(e,t),this.updateTiltReverse(t),this.updateTiltLimits(t)},this.updateTilt=(e,t)=>{const{xPercentage:i,yPercentage:r}=e,{tiltMaxAngleX:s,tiltMaxAngleY:o}=t;this.tiltAngleX=i*s/100,this.tiltAngleY=r*o/100*-1},this.updateTiltManualInput=(e,t)=>{const{tiltAngleXManual:i,tiltAngleYManual:r,tiltMaxAngleX:s,tiltMaxAngleY:o}=t;(i!==null||r!==null)&&(this.tiltAngleX=i!==null?i:0,this.tiltAngleY=r!==null?r:0,e.xPercentage=100*this.tiltAngleX/s,e.yPercentage=100*this.tiltAngleY/o)},this.updateTiltReverse=e=>{const t=e.tiltReverse?-1:1;this.tiltAngleX=t*this.tiltAngleX,this.tiltAngleY=t*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:t}=e;this.tiltAngleX=Bs(this.tiltAngleX,-90,90),this.tiltAngleY=Bs(this.tiltAngleY,-90,90),t&&(this.tiltAngleX=t==="x"?this.tiltAngleX:0,this.tiltAngleY=t==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:t,tiltMaxAngleY:i}=e;this.tiltAngleXPercentage=this.tiltAngleX/t*100,this.tiltAngleYPercentage=this.tiltAngleY/i*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const jj=Object.assign(Object.assign({scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1},{tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null}),{glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"});class pw extends z.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=()=>Hj(this,void 0,void 0,function*(){if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?(yield e())==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)}),this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:t}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),t&&t(e.type)},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:t}=this.props;if(this.setTransitions(),t&&t(e.type),this.props.reset){const i=new CustomEvent("autoreset");this.onMove(i)}},this.processInput=e=>{const{scale:t}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=t;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=t;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=t;break;case"autoreset":const{tiltAngleXInitial:i,tiltAngleYInitial:r,tiltMaxAngleX:s,tiltMaxAngleY:o}=this.props,a=r/o*100;this.wrapperEl.clientPosition.xPercentage=Bs(i/s*100,-100,100),this.wrapperEl.clientPosition.yPercentage=Bs(a,-100,100),this.wrapperEl.scale=1}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:t,tiltMaxAngleY:i}=this.props,r=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/t*100,this.wrapperEl.clientPosition.yPercentage=r/i*100,this.wrapperEl.clientPosition.xPercentage=Bs(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=Bs(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:t,flipVertically:i,flipHorizontally:r}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),t&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,i,r)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let t,i;if(e){const{x:r,y:s}=this.wrapperEl.clientPosition;t=s/window.innerHeight*200-100,i=r/window.innerWidth*200-100}else{const{size:{width:r,height:s,left:o,top:a},clientPosition:{x:l,y:u}}=this.wrapperEl;t=(u-a)/s*200-100,i=(l-o)/r*200-100}this.wrapperEl.clientPosition.xPercentage=Bs(t,-100,100),this.wrapperEl.clientPosition.yPercentage=Bs(i,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:t}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),t&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new Wj,this.initGlare(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const t=new CustomEvent("initial");this.emitOnMove(t)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),t&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:t}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),t&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:t}=this.props;e&&(this.glare=new Vj(this.wrapperEl.size,t),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:t}=this.props;if(!t)return;let i=0,r=0;this.glare&&(i=this.glare.glareAngle,r=this.glare.glareOpacity),t({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:i,glareOpacity:r,eventType:e.type})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:t}=this.props;vb(this.wrapperEl.node,"all",e,t),this.glare&&vb(this.glare.glareEl,"opacity",e,t)}render(){const{children:e,className:t,style:i}=this.props;return lh.createElement("div",{ref:r=>this.wrapperEl.node=r,onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:t,style:i},e)}}pw.defaultProps=jj;const mw=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),Qg=(n,e,t,i)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),xb=(n,e,t,i)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),Jj=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),Uh=(n,e)=>function(){return lt(Ur.section,{variants:Jj(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${Gi.padding} max-w-7xl mx-auto relative z-0`,children:[fe("span",{className:"hash-span",id:e,children:" "}),fe(n,{})]})},Xj=({index:n,title:e,icon:t})=>fe(pw,{className:"xs:w-[250px] w-full",children:fe(Ur.div,{variants:Qg("right","spring",n*.5,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:lt("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[fe("img",{src:t,alt:"web-development",className:"w-16 h-16 object-contain"}),fe("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),Yj=()=>lt($A,{children:[lt(Ur.div,{variants:mw(),children:[fe("p",{className:Gi.sectionSubText,children:"Introduction"}),fe("h2",{className:Gi.sectionHeadText,children:"Overview."})]}),fe(Ur.p,{variants:Qg("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"I am a skilled data scientist with experience in Python and R, and expertise in frameworks such as TensorFlow, PyTorch, and Scikit-learn. I specialize in machine learning, deep learning, and data visualization. I'm a quick learner and work collaboratively to develop efficient, scalable, and data-driven solutions that address real-world challenges. Let's work together to transform data into actionable insights and innovative solutions!"}),fe("div",{className:"mt-20 flex flex-wrap gap-10",children:kj.map((n,e)=>fe(Xj,{index:e,...n},n.title))})]}),Kj=Uh(Yj,"about"),Qj=()=>fe("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:Oj.map(n=>fe("div",{className:"w-28 h-28",children:fe(VV,{icon:n.icon})},n.name))}),Zj=Uh(Qj,"");var Zg={},DI={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(DI);var FI=DI.exports;Zg.__esModule=!0;Zg.default=void 0;var qj=gw(z),ho=gw(v3),$j=gw(FI);function gw(n){return n&&n.__esModule?n:{default:n}}const NI=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),qj.default.createElement("div",{className:(0,$j.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));NI.propTypes={children:ho.default.oneOfType([ho.default.arrayOf(ho.default.node),ho.default.node]).isRequired,className:ho.default.string,animate:ho.default.bool,layout:ho.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:ho.default.string};var eJ=NI;Zg.default=eJ;var qg={};function WA(){return WA=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},WA.apply(this,arguments)}function tJ(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,jA(n,e)}function jA(n,e){return jA=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},jA(n,e)}function nJ(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var JA=new Map,Jp=new WeakMap,Ab=0,kI=void 0;function iJ(n){kI=n}function rJ(n){return n?(Jp.has(n)||(Ab+=1,Jp.set(n,Ab.toString())),Jp.get(n)):"0"}function sJ(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?rJ(n.root):n[e])}).toString()}function oJ(n){var e=sJ(n),t=JA.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,u=a.isIntersecting&&r.some(function(h){return a.intersectionRatio>=h});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=i.get(a.target))==null||l.forEach(function(h){h(u,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},JA.set(e,t)}return t}function yw(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=kI),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=oJ(t),o=s.id,a=s.observer,l=s.elements,u=l.get(n)||[];return l.has(n)||l.set(n,u),u.push(e),a.observe(n),function(){u.splice(u.indexOf(e),1),u.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),JA.delete(o))}}var aJ=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function _b(n){return typeof n.children!="function"}var sg=function(n){tJ(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),_b(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,u=r.delay,h=r.fallbackInView;this._unobserveCb=yw(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:u},h)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!_b(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,u=a.as,h=nJ(a,aJ);return z.createElement(u||"div",WA({ref:this.handleNode},h),l)},e}(z.Component);sg.displayName="InView";sg.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function lJ(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,u=e.initialInView,h=e.fallbackInView,d=z.useRef(),p=z.useState({inView:!!u}),m=p[0],v=p[1],y=z.useCallback(function(A){d.current!==void 0&&(d.current(),d.current=void 0),!l&&A&&(d.current=yw(A,function(_,M){v({inView:_,entry:M}),M.isIntersecting&&a&&d.current&&(d.current(),d.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},h))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,h,i]);z.useEffect(function(){!d.current&&m.entry&&!a&&!l&&v({inView:!!u})});var x=[y,m.inView,m.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const cJ=Object.freeze(Object.defineProperty({__proto__:null,InView:sg,default:sg,defaultFallbackInView:iJ,observe:yw,useInView:lJ},Symbol.toStringTag,{value:"Module"})),uJ=DL(cJ);qg.__esModule=!0;qg.default=void 0;var po=vw(z),qt=vw(v3),Xp=vw(FI),fJ=uJ;function vw(n){return n&&n.__esModule?n:{default:n}}const OI=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:u=null,iconStyle:h=null,id:d="",position:p="",style:m=null,textClassName:v="",intersectionObserverProps:y={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:x=!1})=>po.default.createElement(fJ.InView,y,({inView:A,ref:_})=>po.default.createElement("div",{ref:_,id:d,className:(0,Xp.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},po.default.createElement(po.default.Fragment,null,po.default.createElement("span",{style:h,onClick:l,className:(0,Xp.default)(a,"vertical-timeline-element-icon",{"bounce-in":A||x,"is-hidden":!(A||x)})},o),po.default.createElement("div",{style:i,onClick:u,className:(0,Xp.default)(v,"vertical-timeline-element-content",{"bounce-in":A||x,"is-hidden":!(A||x)})},po.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,po.default.createElement("span",{className:(0,Xp.default)(s,"vertical-timeline-element-date")},r)))));OI.propTypes={children:qt.default.oneOfType([qt.default.arrayOf(qt.default.node),qt.default.node]),className:qt.default.string,contentArrowStyle:qt.default.shape({}),contentStyle:qt.default.shape({}),date:qt.default.node,dateClassName:qt.default.string,icon:qt.default.element,iconClassName:qt.default.string,iconStyle:qt.default.shape({}),iconOnClick:qt.default.func,onTimelineElementClick:qt.default.func,id:qt.default.string,position:qt.default.string,style:qt.default.shape({}),textClassName:qt.default.string,visible:qt.default.bool,intersectionObserverProps:qt.default.shape({root:qt.default.object,rootMargin:qt.default.string,threshold:qt.default.number,triggerOnce:qt.default.bool})};var hJ=OI;qg.default=hJ;var UI={VerticalTimeline:Zg.default,VerticalTimelineElement:qg.default};const dJ=({experience:n})=>lt(UI.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #232631"},date:n.date,iconStyle:{background:n.iconBg},icon:fe("div",{className:"flex justify-center items-center w-full h-full",children:fe("img",{src:n.icon,alt:n.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[lt("div",{children:[fe("h3",{className:"text-white text-[24px] font-bold",children:n.title}),fe("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:n.company_name})]}),fe("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((e,t)=>fe("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),pJ=()=>lt($A,{children:[lt(Ur.div,{variants:mw(),children:[fe("p",{className:`${Gi.sectionSubText} text-center`,children:"What I have done so far"}),fe("h2",{className:`${Gi.sectionHeadText} text-center`,children:"Work Experience."})]}),fe("div",{className:"mt-20 flex flex-col",children:fe(UI.VerticalTimeline,{children:Uj.map((n,e)=>fe(dJ,{experience:n},`experience-${e}`))})})]}),mJ=Uh(pJ,"work"),gJ=({index:n,name:e,description:t,tags:i,image:r,source_code_link:s})=>fe(Ur.div,{variants:Qg("up","spring",n*.5,.75),children:lt(pw,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[lt("div",{className:"relative w-full h-[230px]",children:[fe("img",{src:r,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"}),fe("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:fe("div",{onClick:()=>window.open(s,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:fe("img",{src:yj,alt:"source code",className:"w-1/2 h-1/2 object-contain"})})})]}),lt("div",{className:"mt-5",children:[fe("h3",{className:"text-white font-bold text-[24px]",children:e}),fe("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),fe("div",{className:"mt-4 flex flex-wrap gap-2",children:i.map(o=>lt("p",{className:`text-[14px] ${o.color}`,children:["#",o.name]},`${e}-${o.name}`))})]})}),yJ=()=>lt($A,{children:[lt(Ur.div,{variants:mw(),children:[fe("p",{className:`${Gi.sectionSubText} `,children:"My work"}),fe("h2",{className:`${Gi.sectionHeadText}`,children:"Projects."})]}),fe("div",{className:"w-full flex",children:fe(Ur.p,{variants:Qg("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Following projects showcases my skills and experience through real-world examples of my work. Each project is briefly described with links to code repositories and live demos in it. It reflects my ability to solve complex problems, work with different technologies, and manage projects effectively."})}),fe("div",{className:"mt-20 flex flex-wrap gap-7",children:zj.map((n,e)=>fe(gJ,{index:e,...n},`project-${e}`))})]}),vJ=Uh(yJ,""),oh={_origin:"https://api.emailjs.com"},xJ=(n,e="https://api.emailjs.com")=>{oh._userID=n,oh._origin=e},zI=(n,e,t)=>{if(!n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class wb{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const GI=(n,e,t={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new wb(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new wb(o))}),s.open("POST",oh._origin+n,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),AJ=(n,e,t,i)=>{const r=i||oh._userID;return zI(r,n,e),GI("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},_J=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},wJ=(n,e,t,i)=>{const r=i||oh._userID,s=_J(t);zI(r,n,e);const o=new FormData(s);return o.append("lib_version","3.12.1"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",r),GI("/api/v1.0/email/send-form",o)},MJ={init:xJ,send:AJ,sendForm:wJ},SJ=()=>{const n=z.useRef(),[e,t]=z.useState({name:"",email:"",message:""}),[i,r]=z.useState(!1),s=a=>{const{target:l}=a,{name:u,value:h}=l;t({...e,[u]:h})},o=a=>{a.preventDefault(),r(!0),MJ.send({}.VITE_APP_EMAILJS_SERVICE_ID,{}.VITE_APP_EMAILJS_TEMPLATE_ID,{from_name:e.name,to_name:"Sujan",from_email:e.email,to_email:"sujanworkofficial@gmail.com",message:e.message},{}.VITE_APP_EMAILJS_PUBLIC_KEY).then(()=>{r(!1),alert("Thank you. I will get back to you as soon as possible."),t({name:"",email:"",message:""})},l=>{r(!1),console.error(l),alert("Ahh, something went wrong. Please try again.")})};return lt("div",{className:"xl:mt-12 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[lt(Ur.div,{variants:xb("left","tween",.2,1),className:"flex-[0.75] bg-black-100 p-8 rounded-2xl",children:[fe("p",{className:Gi.sectionSubText,children:"Get in touch"}),fe("h3",{className:Gi.sectionHeadText,children:"Contact."}),lt("form",{ref:n,onSubmit:o,className:"mt-12 flex flex-col gap-8",children:[lt("label",{className:"flex flex-col",children:[fe("span",{className:"text-white font-medium mb-4",children:"Your Name"}),fe("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"What's your good name?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),lt("label",{className:"flex flex-col",children:[fe("span",{className:"text-white font-medium mb-4",children:"Your email"}),fe("input",{type:"email",name:"email",value:e.email,onChange:s,placeholder:"What's your web address?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),lt("label",{className:"flex flex-col",children:[fe("span",{className:"text-white font-medium mb-4",children:"Your Message"}),fe("textarea",{rows:7,name:"message",value:e.message,onChange:s,placeholder:"What you want to say?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium"})]}),fe("button",{type:"submit",className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary",children:i?"Sending...":"Send"})]})]}),fe(Ur.div,{variants:xb("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:fe(GV,{})})]})},CJ=Uh(SJ,"contact"),EJ=()=>fe(RN,{children:lt("div",{className:"relative z-0 bg-primary",children:[lt("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[fe(Gj,{}),fe(fj,{})]}),fe(Kj,{}),fe(mJ,{}),fe(Zj,{}),fe(vJ,{}),lt("div",{className:"relative z-0",children:[fe(CJ,{}),fe(e8,{})]})]})});Uv.createRoot(document.getElementById("root")).render(fe(lh.StrictMode,{children:fe(EJ,{})}));
